function jT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rv={exports:{}},Su={},iv={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=Symbol.for("react.element"),MT=Symbol.for("react.portal"),VT=Symbol.for("react.fragment"),UT=Symbol.for("react.strict_mode"),FT=Symbol.for("react.profiler"),BT=Symbol.for("react.provider"),zT=Symbol.for("react.context"),$T=Symbol.for("react.forward_ref"),qT=Symbol.for("react.suspense"),WT=Symbol.for("react.memo"),HT=Symbol.for("react.lazy"),Em=Symbol.iterator;function KT(t){return t===null||typeof t!="object"?null:(t=Em&&t[Em]||t["@@iterator"],typeof t=="function"?t:null)}var sv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ov=Object.assign,av={};function Ns(t,e,n){this.props=t,this.context=e,this.refs=av,this.updater=n||sv}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ns.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lv(){}lv.prototype=Ns.prototype;function jh(t,e,n){this.props=t,this.context=e,this.refs=av,this.updater=n||sv}var Mh=jh.prototype=new lv;Mh.constructor=jh;ov(Mh,Ns.prototype);Mh.isPureReactComponent=!0;var Tm=Array.isArray,uv=Object.prototype.hasOwnProperty,Vh={current:null},cv={key:!0,ref:!0,__self:!0,__source:!0};function dv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uv.call(e,r)&&!cv.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ua,type:t,key:s,ref:o,props:i,_owner:Vh.current}}function GT(t,e){return{$$typeof:ua,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ua}function QT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Im=/\/+/g;function Sc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QT(""+t.key):e.toString(36)}function gl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ua:case MT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Sc(o,0):r,Tm(i)?(n="",t!=null&&(n=t.replace(Im,"$&/")+"/"),gl(i,e,n,"",function(c){return c})):i!=null&&(Uh(i)&&(i=GT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Im,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Tm(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Sc(s,l);o+=gl(s,e,n,u,i)}else if(u=KT(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Sc(s,l++),o+=gl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wa(t,e,n){if(t==null)return t;var r=[],i=0;return gl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function XT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},yl={transition:null},YT={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:yl,ReactCurrentOwner:Vh};function hv(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Wa,forEach:function(t,e,n){Wa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wa(t,function(){e++}),e},toArray:function(t){return Wa(t,function(e){return e})||[]},only:function(t){if(!Uh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Ns;Ee.Fragment=VT;Ee.Profiler=FT;Ee.PureComponent=jh;Ee.StrictMode=UT;Ee.Suspense=qT;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YT;Ee.act=hv;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ov({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)uv.call(e,u)&&!cv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ua,type:t.type,key:i,ref:s,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:zT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BT,_context:t},t.Consumer=t};Ee.createElement=dv;Ee.createFactory=function(t){var e=dv.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:$T,render:t}};Ee.isValidElement=Uh;Ee.lazy=function(t){return{$$typeof:HT,_payload:{_status:-1,_result:t},_init:XT}};Ee.memo=function(t,e){return{$$typeof:WT,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=yl.transition;yl.transition={};try{t()}finally{yl.transition=e}};Ee.unstable_act=hv;Ee.useCallback=function(t,e){return Vt.current.useCallback(t,e)};Ee.useContext=function(t){return Vt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Vt.current.useEffect(t,e)};Ee.useId=function(){return Vt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Vt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Vt.current.useRef(t)};Ee.useState=function(t){return Vt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Vt.current.useTransition()};Ee.version="18.3.1";iv.exports=Ee;var B=iv.exports;const Fh=bu(B),JT=jT({__proto__:null,default:Fh},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT=B,e1=Symbol.for("react.element"),t1=Symbol.for("react.fragment"),n1=Object.prototype.hasOwnProperty,r1=ZT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i1={key:!0,ref:!0,__self:!0,__source:!0};function fv(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)n1.call(e,r)&&!i1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:e1,type:t,key:s,ref:o,props:i,_owner:r1.current}}Su.Fragment=t1;Su.jsx=fv;Su.jsxs=fv;rv.exports=Su;var f=rv.exports,pd={},pv={exports:{}},on={},mv={exports:{}},gv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,q){var U=K.length;K.push(q);e:for(;0<U;){var Z=U-1>>>1,G=K[Z];if(0<i(G,q))K[Z]=q,K[U]=G,U=Z;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var q=K[0],U=K.pop();if(U!==q){K[0]=U;e:for(var Z=0,G=K.length,ee=G>>>1;Z<ee;){var ue=2*(Z+1)-1,ge=K[ue],ce=ue+1,re=K[ce];if(0>i(ge,U))ce<G&&0>i(re,ge)?(K[Z]=re,K[ce]=U,Z=ce):(K[Z]=ge,K[ue]=U,Z=ue);else if(ce<G&&0>i(re,U))K[Z]=re,K[ce]=U,Z=ce;else break e}}return q}function i(K,q){var U=K.sortIndex-q.sortIndex;return U!==0?U:K.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,p=null,v=3,T=!1,A=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(K){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=K)r(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(c)}}function C(K){if(R=!1,g(K),!A)if(n(u)!==null)A=!0,ve(O);else{var q=n(c);q!==null&&Ae(C,q.startTime-K)}}function O(K,q){A=!1,R&&(R=!1,y(_),_=-1),T=!0;var U=v;try{for(g(q),p=n(u);p!==null&&(!(p.expirationTime>q)||K&&!k());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,v=p.priorityLevel;var G=Z(p.expirationTime<=q);q=t.unstable_now(),typeof G=="function"?p.callback=G:p===n(u)&&r(u),g(q)}else r(u);p=n(u)}if(p!==null)var ee=!0;else{var ue=n(c);ue!==null&&Ae(C,ue.startTime-q),ee=!1}return ee}finally{p=null,v=U,T=!1}}var V=!1,S=null,_=-1,E=5,b=-1;function k(){return!(t.unstable_now()-b<E)}function P(){if(S!==null){var K=t.unstable_now();b=K;var q=!0;try{q=S(!0,K)}finally{q?I():(V=!1,S=null)}}else V=!1}var I;if(typeof w=="function")I=function(){w(P)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,te=X.port2;X.port1.onmessage=P,I=function(){te.postMessage(null)}}else I=function(){N(P,0)};function ve(K){S=K,V||(V=!0,I())}function Ae(K,q){_=N(function(){K(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){A||T||(A=!0,ve(O))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var U=v;v=q;try{return K()}finally{v=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,q){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var U=v;v=K;try{return q()}finally{v=U}},t.unstable_scheduleCallback=function(K,q,U){var Z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,K){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,K={id:d++,callback:q,priorityLevel:K,startTime:U,expirationTime:G,sortIndex:-1},U>Z?(K.sortIndex=U,e(c,K),n(u)===null&&K===n(c)&&(R?(y(_),_=-1):R=!0,Ae(C,U-Z))):(K.sortIndex=G,e(u,K),A||T||(A=!0,ve(O))),K},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(K){var q=v;return function(){var U=v;v=q;try{return K.apply(this,arguments)}finally{v=U}}}})(gv);mv.exports=gv;var s1=mv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1=B,sn=s1;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yv=new Set,Do={};function Ai(t,e){vs(t,e),vs(t+"Capture",e)}function vs(t,e){for(Do[t]=e,t=0;t<e.length;t++)yv.add(e[t])}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),md=Object.prototype.hasOwnProperty,a1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xm={},bm={};function l1(t){return md.call(bm,t)?!0:md.call(xm,t)?!1:a1.test(t)?bm[t]=!0:(xm[t]=!0,!1)}function u1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c1(t,e,n,r){if(e===null||typeof e>"u"||u1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bh=/[\-:]([a-z])/g;function zh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bh,zh);wt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bh,zh);wt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bh,zh);wt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function $h(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c1(e,n,i,r)&&(n=null),r||i===null?l1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var or=o1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ha=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),qh=Symbol.for("react.strict_mode"),gd=Symbol.for("react.profiler"),vv=Symbol.for("react.provider"),_v=Symbol.for("react.context"),Wh=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),vd=Symbol.for("react.suspense_list"),Hh=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),wv=Symbol.for("react.offscreen"),Sm=Symbol.iterator;function Zs(t){return t===null||typeof t!="object"?null:(t=Sm&&t[Sm]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,Cc;function uo(t){if(Cc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cc=e&&e[1]||""}return`
`+Cc+t}var kc=!1;function Ac(t,e){if(!t||kc)return"";kc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{kc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uo(t):""}function d1(t){switch(t.tag){case 5:return uo(t.type);case 16:return uo("Lazy");case 13:return uo("Suspense");case 19:return uo("SuspenseList");case 0:case 2:case 15:return t=Ac(t.type,!1),t;case 11:return t=Ac(t.type.render,!1),t;case 1:return t=Ac(t.type,!0),t;default:return""}}function _d(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gi:return"Fragment";case Ki:return"Portal";case gd:return"Profiler";case qh:return"StrictMode";case yd:return"Suspense";case vd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _v:return(t.displayName||"Context")+".Consumer";case vv:return(t._context.displayName||"Context")+".Provider";case Wh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hh:return e=t.displayName||null,e!==null?e:_d(t.type)||"Memo";case fr:e=t._payload,t=t._init;try{return _d(t(e))}catch{}}return null}function h1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _d(e);case 8:return e===qh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ev(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function f1(t){var e=Ev(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ka(t){t._valueTracker||(t._valueTracker=f1(t))}function Tv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ev(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wd(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Cm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Iv(t,e){e=e.checked,e!=null&&$h(t,"checked",e,!1)}function Ed(t,e){Iv(t,e);var n=Ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Td(t,e.type,n):e.hasOwnProperty("defaultValue")&&Td(t,e.type,Ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function km(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Td(t,e,n){(e!=="number"||Ml(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var co=Array.isArray;function as(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ur(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Id(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Am(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(co(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ur(n)}}function xv(t,e){var n=Ur(e.value),r=Ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ga,Sv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ga=Ga||document.createElement("div"),Ga.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ga.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p1=["Webkit","ms","Moz","O"];Object.keys(_o).forEach(function(t){p1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_o[e]=_o[t]})});function Cv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_o.hasOwnProperty(t)&&_o[t]?(""+e).trim():e+"px"}function kv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var m1=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bd(t,e){if(e){if(m1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Sd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cd=null;function Kh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kd=null,ls=null,us=null;function Rm(t){if(t=ha(t)){if(typeof kd!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Ru(e),kd(t.stateNode,t.type,e))}}function Av(t){ls?us?us.push(t):us=[t]:ls=t}function Pv(){if(ls){var t=ls,e=us;if(us=ls=null,Rm(t),e)for(t=0;t<e.length;t++)Rm(e[t])}}function Rv(t,e){return t(e)}function Nv(){}var Pc=!1;function Ov(t,e,n){if(Pc)return t(e,n);Pc=!0;try{return Rv(t,e,n)}finally{Pc=!1,(ls!==null||us!==null)&&(Nv(),Pv())}}function jo(t,e){var n=t.stateNode;if(n===null)return null;var r=Ru(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Ad=!1;if(Zn)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Ad=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{Ad=!1}function g1(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var wo=!1,Vl=null,Ul=!1,Pd=null,y1={onError:function(t){wo=!0,Vl=t}};function v1(t,e,n,r,i,s,o,l,u){wo=!1,Vl=null,g1.apply(y1,arguments)}function _1(t,e,n,r,i,s,o,l,u){if(v1.apply(this,arguments),wo){if(wo){var c=Vl;wo=!1,Vl=null}else throw Error(Q(198));Ul||(Ul=!0,Pd=c)}}function Pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Dv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nm(t){if(Pi(t)!==t)throw Error(Q(188))}function w1(t){var e=t.alternate;if(!e){if(e=Pi(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Nm(i),t;if(s===r)return Nm(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function Lv(t){return t=w1(t),t!==null?jv(t):null}function jv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jv(t);if(e!==null)return e;t=t.sibling}return null}var Mv=sn.unstable_scheduleCallback,Om=sn.unstable_cancelCallback,E1=sn.unstable_shouldYield,T1=sn.unstable_requestPaint,Je=sn.unstable_now,I1=sn.unstable_getCurrentPriorityLevel,Gh=sn.unstable_ImmediatePriority,Vv=sn.unstable_UserBlockingPriority,Fl=sn.unstable_NormalPriority,x1=sn.unstable_LowPriority,Uv=sn.unstable_IdlePriority,Cu=null,Nn=null;function b1(t){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Cu,t,void 0,(t.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:k1,S1=Math.log,C1=Math.LN2;function k1(t){return t>>>=0,t===0?32:31-(S1(t)/C1|0)|0}var Qa=64,Xa=4194304;function ho(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ho(l):(s&=o,s!==0&&(r=ho(s)))}else o=n&~i,o!==0?r=ho(o):s!==0&&(r=ho(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wn(e),i=1<<n,r|=t[n],e&=~i;return r}function A1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-wn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=A1(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Rd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fv(){var t=Qa;return Qa<<=1,!(Qa&4194240)&&(Qa=64),t}function Rc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ca(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wn(e),t[e]=n}function R1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Qh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function Bv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zv,Xh,$v,qv,Wv,Nd=!1,Ya=[],Sr=null,Cr=null,kr=null,Mo=new Map,Vo=new Map,mr=[],N1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dm(t,e){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Mo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(e.pointerId)}}function to(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ha(e),e!==null&&Xh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function O1(t,e,n,r,i){switch(e){case"focusin":return Sr=to(Sr,t,e,n,r,i),!0;case"dragenter":return Cr=to(Cr,t,e,n,r,i),!0;case"mouseover":return kr=to(kr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Mo.set(s,to(Mo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vo.set(s,to(Vo.get(s)||null,t,e,n,r,i)),!0}return!1}function Hv(t){var e=ai(t.target);if(e!==null){var n=Pi(e);if(n!==null){if(e=n.tag,e===13){if(e=Dv(n),e!==null){t.blockedOn=e,Wv(t.priority,function(){$v(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Od(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cd=r,n.target.dispatchEvent(r),Cd=null}else return e=ha(n),e!==null&&Xh(e),t.blockedOn=n,!1;e.shift()}return!0}function Lm(t,e,n){vl(t)&&n.delete(e)}function D1(){Nd=!1,Sr!==null&&vl(Sr)&&(Sr=null),Cr!==null&&vl(Cr)&&(Cr=null),kr!==null&&vl(kr)&&(kr=null),Mo.forEach(Lm),Vo.forEach(Lm)}function no(t,e){t.blockedOn===e&&(t.blockedOn=null,Nd||(Nd=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,D1)))}function Uo(t){function e(i){return no(i,t)}if(0<Ya.length){no(Ya[0],t);for(var n=1;n<Ya.length;n++){var r=Ya[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sr!==null&&no(Sr,t),Cr!==null&&no(Cr,t),kr!==null&&no(kr,t),Mo.forEach(e),Vo.forEach(e),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)Hv(n),n.blockedOn===null&&mr.shift()}var cs=or.ReactCurrentBatchConfig,zl=!0;function L1(t,e,n,r){var i=Pe,s=cs.transition;cs.transition=null;try{Pe=1,Yh(t,e,n,r)}finally{Pe=i,cs.transition=s}}function j1(t,e,n,r){var i=Pe,s=cs.transition;cs.transition=null;try{Pe=4,Yh(t,e,n,r)}finally{Pe=i,cs.transition=s}}function Yh(t,e,n,r){if(zl){var i=Od(t,e,n,r);if(i===null)Bc(t,e,r,$l,n),Dm(t,r);else if(O1(i,t,e,n,r))r.stopPropagation();else if(Dm(t,r),e&4&&-1<N1.indexOf(t)){for(;i!==null;){var s=ha(i);if(s!==null&&zv(s),s=Od(t,e,n,r),s===null&&Bc(t,e,r,$l,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bc(t,e,r,null,n)}}var $l=null;function Od(t,e,n,r){if($l=null,t=Kh(r),t=ai(t),t!==null)if(e=Pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Dv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $l=t,null}function Kv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I1()){case Gh:return 1;case Vv:return 4;case Fl:case x1:return 16;case Uv:return 536870912;default:return 16}default:return 16}}var Tr=null,Jh=null,_l=null;function Gv(){if(_l)return _l;var t,e=Jh,n=e.length,r,i="value"in Tr?Tr.value:Tr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _l=i.slice(t,1<r?1-r:void 0)}function wl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ja(){return!0}function jm(){return!1}function an(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ja:jm,this.isPropagationStopped=jm,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),e}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zh=an(Os),da=We({},Os,{view:0,detail:0}),M1=an(da),Nc,Oc,ro,ku=We({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ef,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ro&&(ro&&t.type==="mousemove"?(Nc=t.screenX-ro.screenX,Oc=t.screenY-ro.screenY):Oc=Nc=0,ro=t),Nc)},movementY:function(t){return"movementY"in t?t.movementY:Oc}}),Mm=an(ku),V1=We({},ku,{dataTransfer:0}),U1=an(V1),F1=We({},da,{relatedTarget:0}),Dc=an(F1),B1=We({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),z1=an(B1),$1=We({},Os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q1=an($1),W1=We({},Os,{data:0}),Vm=an(W1),H1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G1[t])?!!e[t]:!1}function ef(){return Q1}var X1=We({},da,{key:function(t){if(t.key){var e=H1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?K1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ef,charCode:function(t){return t.type==="keypress"?wl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y1=an(X1),J1=We({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Um=an(J1),Z1=We({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ef}),eI=an(Z1),tI=We({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),nI=an(tI),rI=We({},ku,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iI=an(rI),sI=[9,13,27,32],tf=Zn&&"CompositionEvent"in window,Eo=null;Zn&&"documentMode"in document&&(Eo=document.documentMode);var oI=Zn&&"TextEvent"in window&&!Eo,Qv=Zn&&(!tf||Eo&&8<Eo&&11>=Eo),Fm=" ",Bm=!1;function Xv(t,e){switch(t){case"keyup":return sI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qi=!1;function aI(t,e){switch(t){case"compositionend":return Yv(e);case"keypress":return e.which!==32?null:(Bm=!0,Fm);case"textInput":return t=e.data,t===Fm&&Bm?null:t;default:return null}}function lI(t,e){if(Qi)return t==="compositionend"||!tf&&Xv(t,e)?(t=Gv(),_l=Jh=Tr=null,Qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qv&&e.locale!=="ko"?null:e.data;default:return null}}var uI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uI[t.type]:e==="textarea"}function Jv(t,e,n,r){Av(r),e=ql(e,"onChange"),0<e.length&&(n=new Zh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var To=null,Fo=null;function cI(t){u_(t,0)}function Au(t){var e=Ji(t);if(Tv(e))return t}function dI(t,e){if(t==="change")return e}var Zv=!1;if(Zn){var Lc;if(Zn){var jc="oninput"in document;if(!jc){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),jc=typeof $m.oninput=="function"}Lc=jc}else Lc=!1;Zv=Lc&&(!document.documentMode||9<document.documentMode)}function qm(){To&&(To.detachEvent("onpropertychange",e_),Fo=To=null)}function e_(t){if(t.propertyName==="value"&&Au(Fo)){var e=[];Jv(e,Fo,t,Kh(t)),Ov(cI,e)}}function hI(t,e,n){t==="focusin"?(qm(),To=e,Fo=n,To.attachEvent("onpropertychange",e_)):t==="focusout"&&qm()}function fI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Fo)}function pI(t,e){if(t==="click")return Au(e)}function mI(t,e){if(t==="input"||t==="change")return Au(e)}function gI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:gI;function Bo(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!md.call(e,i)||!In(t[i],e[i]))return!1}return!0}function Wm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hm(t,e){var n=Wm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wm(n)}}function t_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?t_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function n_(){for(var t=window,e=Ml();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ml(t.document)}return e}function nf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yI(t){var e=n_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&t_(n.ownerDocument.documentElement,n)){if(r!==null&&nf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Hm(n,s);var o=Hm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vI=Zn&&"documentMode"in document&&11>=document.documentMode,Xi=null,Dd=null,Io=null,Ld=!1;function Km(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ld||Xi==null||Xi!==Ml(r)||(r=Xi,"selectionStart"in r&&nf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Io&&Bo(Io,r)||(Io=r,r=ql(Dd,"onSelect"),0<r.length&&(e=new Zh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xi)))}function Za(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yi={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},Mc={},r_={};Zn&&(r_=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Pu(t){if(Mc[t])return Mc[t];if(!Yi[t])return t;var e=Yi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in r_)return Mc[t]=e[n];return t}var i_=Pu("animationend"),s_=Pu("animationiteration"),o_=Pu("animationstart"),a_=Pu("transitionend"),l_=new Map,Gm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,e){l_.set(t,e),Ai(e,[t])}for(var Vc=0;Vc<Gm.length;Vc++){var Uc=Gm[Vc],_I=Uc.toLowerCase(),wI=Uc[0].toUpperCase()+Uc.slice(1);Wr(_I,"on"+wI)}Wr(i_,"onAnimationEnd");Wr(s_,"onAnimationIteration");Wr(o_,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(a_,"onTransitionEnd");vs("onMouseEnter",["mouseout","mouseover"]);vs("onMouseLeave",["mouseout","mouseover"]);vs("onPointerEnter",["pointerout","pointerover"]);vs("onPointerLeave",["pointerout","pointerover"]);Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EI=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function Qm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_1(r,e,void 0,t),t.currentTarget=null}function u_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Qm(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Qm(i,l,c),s=u}}}if(Ul)throw t=Pd,Ul=!1,Pd=null,t}function Me(t,e){var n=e[Fd];n===void 0&&(n=e[Fd]=new Set);var r=t+"__bubble";n.has(r)||(c_(e,t,2,!1),n.add(r))}function Fc(t,e,n){var r=0;e&&(r|=4),c_(n,t,r,e)}var el="_reactListening"+Math.random().toString(36).slice(2);function zo(t){if(!t[el]){t[el]=!0,yv.forEach(function(n){n!=="selectionchange"&&(EI.has(n)||Fc(n,!1,t),Fc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[el]||(e[el]=!0,Fc("selectionchange",!1,e))}}function c_(t,e,n,r){switch(Kv(e)){case 1:var i=L1;break;case 4:i=j1;break;default:i=Yh}n=i.bind(null,e,n,t),i=void 0,!Ad||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ai(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Ov(function(){var c=s,d=Kh(n),p=[];e:{var v=l_.get(t);if(v!==void 0){var T=Zh,A=t;switch(t){case"keypress":if(wl(n)===0)break e;case"keydown":case"keyup":T=Y1;break;case"focusin":A="focus",T=Dc;break;case"focusout":A="blur",T=Dc;break;case"beforeblur":case"afterblur":T=Dc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=Mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=U1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=eI;break;case i_:case s_:case o_:T=z1;break;case a_:T=nI;break;case"scroll":T=M1;break;case"wheel":T=iI;break;case"copy":case"cut":case"paste":T=q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Um}var R=(e&4)!==0,N=!R&&t==="scroll",y=R?v!==null?v+"Capture":null:v;R=[];for(var w=c,g;w!==null;){g=w;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,y!==null&&(C=jo(w,y),C!=null&&R.push($o(w,C,g)))),N)break;w=w.return}0<R.length&&(v=new T(v,A,null,n,d),p.push({event:v,listeners:R}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",v&&n!==Cd&&(A=n.relatedTarget||n.fromElement)&&(ai(A)||A[er]))break e;if((T||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,T?(A=n.relatedTarget||n.toElement,T=c,A=A?ai(A):null,A!==null&&(N=Pi(A),A!==N||A.tag!==5&&A.tag!==6)&&(A=null)):(T=null,A=c),T!==A)){if(R=Mm,C="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(R=Um,C="onPointerLeave",y="onPointerEnter",w="pointer"),N=T==null?v:Ji(T),g=A==null?v:Ji(A),v=new R(C,w+"leave",T,n,d),v.target=N,v.relatedTarget=g,C=null,ai(d)===c&&(R=new R(y,w+"enter",A,n,d),R.target=g,R.relatedTarget=N,C=R),N=C,T&&A)t:{for(R=T,y=A,w=0,g=R;g;g=$i(g))w++;for(g=0,C=y;C;C=$i(C))g++;for(;0<w-g;)R=$i(R),w--;for(;0<g-w;)y=$i(y),g--;for(;w--;){if(R===y||y!==null&&R===y.alternate)break t;R=$i(R),y=$i(y)}R=null}else R=null;T!==null&&Xm(p,v,T,R,!1),A!==null&&N!==null&&Xm(p,N,A,R,!0)}}e:{if(v=c?Ji(c):window,T=v.nodeName&&v.nodeName.toLowerCase(),T==="select"||T==="input"&&v.type==="file")var O=dI;else if(zm(v))if(Zv)O=mI;else{O=fI;var V=hI}else(T=v.nodeName)&&T.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(O=pI);if(O&&(O=O(t,c))){Jv(p,O,n,d);break e}V&&V(t,v,c),t==="focusout"&&(V=v._wrapperState)&&V.controlled&&v.type==="number"&&Td(v,"number",v.value)}switch(V=c?Ji(c):window,t){case"focusin":(zm(V)||V.contentEditable==="true")&&(Xi=V,Dd=c,Io=null);break;case"focusout":Io=Dd=Xi=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,Km(p,n,d);break;case"selectionchange":if(vI)break;case"keydown":case"keyup":Km(p,n,d)}var S;if(tf)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Qi?Xv(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Qv&&n.locale!=="ko"&&(Qi||_!=="onCompositionStart"?_==="onCompositionEnd"&&Qi&&(S=Gv()):(Tr=d,Jh="value"in Tr?Tr.value:Tr.textContent,Qi=!0)),V=ql(c,_),0<V.length&&(_=new Vm(_,t,null,n,d),p.push({event:_,listeners:V}),S?_.data=S:(S=Yv(n),S!==null&&(_.data=S)))),(S=oI?aI(t,n):lI(t,n))&&(c=ql(c,"onBeforeInput"),0<c.length&&(d=new Vm("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=S))}u_(p,e)})}function $o(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ql(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jo(t,n),s!=null&&r.unshift($o(t,s,i)),s=jo(t,e),s!=null&&r.push($o(t,s,i))),t=t.return}return r}function $i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=jo(n,s),u!=null&&o.unshift($o(n,u,l))):i||(u=jo(n,s),u!=null&&o.push($o(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TI=/\r\n?/g,II=/\u0000|\uFFFD/g;function Ym(t){return(typeof t=="string"?t:""+t).replace(TI,`
`).replace(II,"")}function tl(t,e,n){if(e=Ym(e),Ym(t)!==e&&n)throw Error(Q(425))}function Wl(){}var jd=null,Md=null;function Vd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ud=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,bI=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(t){return Jm.resolve(null).then(t).catch(SI)}:Ud;function SI(t){setTimeout(function(){throw t})}function zc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Uo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Uo(e)}function Ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),An="__reactFiber$"+Ds,qo="__reactProps$"+Ds,er="__reactContainer$"+Ds,Fd="__reactEvents$"+Ds,CI="__reactListeners$"+Ds,kI="__reactHandles$"+Ds;function ai(t){var e=t[An];if(e)return e;for(var n=t.parentNode;n;){if(e=n[er]||n[An]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zm(t);t!==null;){if(n=t[An])return n;t=Zm(t)}return e}t=n,n=t.parentNode}return null}function ha(t){return t=t[An]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Ru(t){return t[qo]||null}var Bd=[],Zi=-1;function Hr(t){return{current:t}}function Ue(t){0>Zi||(t.current=Bd[Zi],Bd[Zi]=null,Zi--)}function Ne(t,e){Zi++,Bd[Zi]=t.current,t.current=e}var Fr={},Rt=Hr(Fr),Wt=Hr(!1),mi=Fr;function _s(t,e){var n=t.type.contextTypes;if(!n)return Fr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function Hl(){Ue(Wt),Ue(Rt)}function eg(t,e,n){if(Rt.current!==Fr)throw Error(Q(168));Ne(Rt,e),Ne(Wt,n)}function d_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,h1(t)||"Unknown",i));return We({},n,r)}function Kl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,mi=Rt.current,Ne(Rt,t),Ne(Wt,Wt.current),!0}function tg(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=d_(t,e,mi),r.__reactInternalMemoizedMergedChildContext=t,Ue(Wt),Ue(Rt),Ne(Rt,t)):Ue(Wt),Ne(Wt,n)}var Wn=null,Nu=!1,$c=!1;function h_(t){Wn===null?Wn=[t]:Wn.push(t)}function AI(t){Nu=!0,h_(t)}function Kr(){if(!$c&&Wn!==null){$c=!0;var t=0,e=Pe;try{var n=Wn;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wn=null,Nu=!1}catch(i){throw Wn!==null&&(Wn=Wn.slice(t+1)),Mv(Gh,Kr),i}finally{Pe=e,$c=!1}}return null}var es=[],ts=0,Gl=null,Ql=0,ln=[],un=0,gi=null,Hn=1,Kn="";function ii(t,e){es[ts++]=Ql,es[ts++]=Gl,Gl=t,Ql=e}function f_(t,e,n){ln[un++]=Hn,ln[un++]=Kn,ln[un++]=gi,gi=t;var r=Hn;t=Kn;var i=32-wn(r)-1;r&=~(1<<i),n+=1;var s=32-wn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hn=1<<32-wn(e)+i|n<<i|r,Kn=s+t}else Hn=1<<s|n<<i|r,Kn=t}function rf(t){t.return!==null&&(ii(t,1),f_(t,1,0))}function sf(t){for(;t===Gl;)Gl=es[--ts],es[ts]=null,Ql=es[--ts],es[ts]=null;for(;t===gi;)gi=ln[--un],ln[un]=null,Kn=ln[--un],ln[un]=null,Hn=ln[--un],ln[un]=null}var tn=null,Jt=null,Be=!1,vn=null;function p_(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ng(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,Jt=Ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gi!==null?{id:Hn,overflow:Kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,Jt=null,!0):!1;default:return!1}}function zd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $d(t){if(Be){var e=Jt;if(e){var n=e;if(!ng(t,e)){if(zd(t))throw Error(Q(418));e=Ar(n.nextSibling);var r=tn;e&&ng(t,e)?p_(r,n):(t.flags=t.flags&-4097|2,Be=!1,tn=t)}}else{if(zd(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Be=!1,tn=t}}}function rg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function nl(t){if(t!==tn)return!1;if(!Be)return rg(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vd(t.type,t.memoizedProps)),e&&(e=Jt)){if(zd(t))throw m_(),Error(Q(418));for(;e;)p_(t,e),e=Ar(e.nextSibling)}if(rg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=Ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=tn?Ar(t.stateNode.nextSibling):null;return!0}function m_(){for(var t=Jt;t;)t=Ar(t.nextSibling)}function ws(){Jt=tn=null,Be=!1}function of(t){vn===null?vn=[t]:vn.push(t)}var PI=or.ReactCurrentBatchConfig;function io(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function rl(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ig(t){var e=t._init;return e(t._payload)}function g_(t){function e(y,w){if(t){var g=y.deletions;g===null?(y.deletions=[w],y.flags|=16):g.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Or(y,w),y.index=0,y.sibling=null,y}function s(y,w,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<w?(y.flags|=2,w):g):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,w,g,C){return w===null||w.tag!==6?(w=Xc(g,y.mode,C),w.return=y,w):(w=i(w,g),w.return=y,w)}function u(y,w,g,C){var O=g.type;return O===Gi?d(y,w,g.props.children,C,g.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===fr&&ig(O)===w.type)?(C=i(w,g.props),C.ref=io(y,w,g),C.return=y,C):(C=Cl(g.type,g.key,g.props,null,y.mode,C),C.ref=io(y,w,g),C.return=y,C)}function c(y,w,g,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==g.containerInfo||w.stateNode.implementation!==g.implementation?(w=Yc(g,y.mode,C),w.return=y,w):(w=i(w,g.children||[]),w.return=y,w)}function d(y,w,g,C,O){return w===null||w.tag!==7?(w=hi(g,y.mode,C,O),w.return=y,w):(w=i(w,g),w.return=y,w)}function p(y,w,g){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Xc(""+w,y.mode,g),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ha:return g=Cl(w.type,w.key,w.props,null,y.mode,g),g.ref=io(y,null,w),g.return=y,g;case Ki:return w=Yc(w,y.mode,g),w.return=y,w;case fr:var C=w._init;return p(y,C(w._payload),g)}if(co(w)||Zs(w))return w=hi(w,y.mode,g,null),w.return=y,w;rl(y,w)}return null}function v(y,w,g,C){var O=w!==null?w.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return O!==null?null:l(y,w,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ha:return g.key===O?u(y,w,g,C):null;case Ki:return g.key===O?c(y,w,g,C):null;case fr:return O=g._init,v(y,w,O(g._payload),C)}if(co(g)||Zs(g))return O!==null?null:d(y,w,g,C,null);rl(y,g)}return null}function T(y,w,g,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(g)||null,l(w,y,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ha:return y=y.get(C.key===null?g:C.key)||null,u(w,y,C,O);case Ki:return y=y.get(C.key===null?g:C.key)||null,c(w,y,C,O);case fr:var V=C._init;return T(y,w,g,V(C._payload),O)}if(co(C)||Zs(C))return y=y.get(g)||null,d(w,y,C,O,null);rl(w,C)}return null}function A(y,w,g,C){for(var O=null,V=null,S=w,_=w=0,E=null;S!==null&&_<g.length;_++){S.index>_?(E=S,S=null):E=S.sibling;var b=v(y,S,g[_],C);if(b===null){S===null&&(S=E);break}t&&S&&b.alternate===null&&e(y,S),w=s(b,w,_),V===null?O=b:V.sibling=b,V=b,S=E}if(_===g.length)return n(y,S),Be&&ii(y,_),O;if(S===null){for(;_<g.length;_++)S=p(y,g[_],C),S!==null&&(w=s(S,w,_),V===null?O=S:V.sibling=S,V=S);return Be&&ii(y,_),O}for(S=r(y,S);_<g.length;_++)E=T(S,y,_,g[_],C),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?_:E.key),w=s(E,w,_),V===null?O=E:V.sibling=E,V=E);return t&&S.forEach(function(k){return e(y,k)}),Be&&ii(y,_),O}function R(y,w,g,C){var O=Zs(g);if(typeof O!="function")throw Error(Q(150));if(g=O.call(g),g==null)throw Error(Q(151));for(var V=O=null,S=w,_=w=0,E=null,b=g.next();S!==null&&!b.done;_++,b=g.next()){S.index>_?(E=S,S=null):E=S.sibling;var k=v(y,S,b.value,C);if(k===null){S===null&&(S=E);break}t&&S&&k.alternate===null&&e(y,S),w=s(k,w,_),V===null?O=k:V.sibling=k,V=k,S=E}if(b.done)return n(y,S),Be&&ii(y,_),O;if(S===null){for(;!b.done;_++,b=g.next())b=p(y,b.value,C),b!==null&&(w=s(b,w,_),V===null?O=b:V.sibling=b,V=b);return Be&&ii(y,_),O}for(S=r(y,S);!b.done;_++,b=g.next())b=T(S,y,_,b.value,C),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?_:b.key),w=s(b,w,_),V===null?O=b:V.sibling=b,V=b);return t&&S.forEach(function(P){return e(y,P)}),Be&&ii(y,_),O}function N(y,w,g,C){if(typeof g=="object"&&g!==null&&g.type===Gi&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ha:e:{for(var O=g.key,V=w;V!==null;){if(V.key===O){if(O=g.type,O===Gi){if(V.tag===7){n(y,V.sibling),w=i(V,g.props.children),w.return=y,y=w;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===fr&&ig(O)===V.type){n(y,V.sibling),w=i(V,g.props),w.ref=io(y,V,g),w.return=y,y=w;break e}n(y,V);break}else e(y,V);V=V.sibling}g.type===Gi?(w=hi(g.props.children,y.mode,C,g.key),w.return=y,y=w):(C=Cl(g.type,g.key,g.props,null,y.mode,C),C.ref=io(y,w,g),C.return=y,y=C)}return o(y);case Ki:e:{for(V=g.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===g.containerInfo&&w.stateNode.implementation===g.implementation){n(y,w.sibling),w=i(w,g.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=Yc(g,y.mode,C),w.return=y,y=w}return o(y);case fr:return V=g._init,N(y,w,V(g._payload),C)}if(co(g))return A(y,w,g,C);if(Zs(g))return R(y,w,g,C);rl(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,g),w.return=y,y=w):(n(y,w),w=Xc(g,y.mode,C),w.return=y,y=w),o(y)):n(y,w)}return N}var Es=g_(!0),y_=g_(!1),Xl=Hr(null),Yl=null,ns=null,af=null;function lf(){af=ns=Yl=null}function uf(t){var e=Xl.current;Ue(Xl),t._currentValue=e}function qd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ds(t,e){Yl=t,af=ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(af!==t)if(t={context:t,memoizedValue:e,next:null},ns===null){if(Yl===null)throw Error(Q(308));ns=t,Yl.dependencies={lanes:0,firstContext:t}}else ns=ns.next=t;return e}var li=null;function cf(t){li===null?li=[t]:li.push(t)}function v_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cf(e)):(n.next=i.next,i.next=n),e.interleaved=n,tr(t,r)}function tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pr=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function __(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tr(t,n)}return i=r.interleaved,i===null?(e.next=e,cf(r)):(e.next=i.next,i.next=e),r.interleaved=e,tr(t,n)}function El(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qh(t,n)}}function sg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jl(t,e,n,r){var i=t.updateQueue;pr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,l=s;do{var v=l.lane,T=l.eventTime;if((r&v)===v){d!==null&&(d=d.next={eventTime:T,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var A=t,R=l;switch(v=e,T=n,R.tag){case 1:if(A=R.payload,typeof A=="function"){p=A.call(T,p,v);break e}p=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=R.payload,v=typeof A=="function"?A.call(T,p,v):A,v==null)break e;p=We({},p,v);break e;case 2:pr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[l]:v.push(l))}else T={eventTime:T,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=T,u=p):d=d.next=T,o|=v;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;v=l,l=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vi|=o,t.lanes=o,t.memoizedState=p}}function og(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var fa={},On=Hr(fa),Wo=Hr(fa),Ho=Hr(fa);function ui(t){if(t===fa)throw Error(Q(174));return t}function hf(t,e){switch(Ne(Ho,e),Ne(Wo,t),Ne(On,fa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xd(e,t)}Ue(On),Ne(On,e)}function Ts(){Ue(On),Ue(Wo),Ue(Ho)}function w_(t){ui(Ho.current);var e=ui(On.current),n=xd(e,t.type);e!==n&&(Ne(Wo,t),Ne(On,n))}function ff(t){Wo.current===t&&(Ue(On),Ue(Wo))}var $e=Hr(0);function Zl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qc=[];function pf(){for(var t=0;t<qc.length;t++)qc[t]._workInProgressVersionPrimary=null;qc.length=0}var Tl=or.ReactCurrentDispatcher,Wc=or.ReactCurrentBatchConfig,yi=0,qe=null,ot=null,dt=null,eu=!1,xo=!1,Ko=0,RI=0;function bt(){throw Error(Q(321))}function mf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!In(t[n],e[n]))return!1;return!0}function gf(t,e,n,r,i,s){if(yi=s,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tl.current=t===null||t.memoizedState===null?LI:jI,t=n(r,i),xo){s=0;do{if(xo=!1,Ko=0,25<=s)throw Error(Q(301));s+=1,dt=ot=null,e.updateQueue=null,Tl.current=MI,t=n(r,i)}while(xo)}if(Tl.current=tu,e=ot!==null&&ot.next!==null,yi=0,dt=ot=qe=null,eu=!1,e)throw Error(Q(300));return t}function yf(){var t=Ko!==0;return Ko=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?qe.memoizedState=dt=t:dt=dt.next=t,dt}function fn(){if(ot===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=dt===null?qe.memoizedState:dt.next;if(e!==null)dt=e,ot=t;else{if(t===null)throw Error(Q(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?qe.memoizedState=dt=t:dt=dt.next=t}return dt}function Go(t,e){return typeof e=="function"?e(t):e}function Hc(t){var e=fn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((yi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,qe.lanes|=d,vi|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,In(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qe.lanes|=s,vi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kc(t){var e=fn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);In(s,e.memoizedState)||(qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function E_(){}function T_(t,e){var n=qe,r=fn(),i=e(),s=!In(r.memoizedState,i);if(s&&(r.memoizedState=i,qt=!0),r=r.queue,vf(b_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Qo(9,x_.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(Q(349));yi&30||I_(n,e,i)}return i}function I_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function x_(t,e,n,r){e.value=n,e.getSnapshot=r,S_(e)&&C_(t)}function b_(t,e,n){return n(function(){S_(e)&&C_(t)})}function S_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!In(t,n)}catch{return!0}}function C_(t){var e=tr(t,1);e!==null&&En(e,t,1,-1)}function ag(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:t},e.queue=t,t=t.dispatch=DI.bind(null,qe,t),[e.memoizedState,t]}function Qo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function k_(){return fn().memoizedState}function Il(t,e,n,r){var i=kn();qe.flags|=t,i.memoizedState=Qo(1|e,n,void 0,r===void 0?null:r)}function Ou(t,e,n,r){var i=fn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&mf(r,o.deps)){i.memoizedState=Qo(e,n,s,r);return}}qe.flags|=t,i.memoizedState=Qo(1|e,n,s,r)}function lg(t,e){return Il(8390656,8,t,e)}function vf(t,e){return Ou(2048,8,t,e)}function A_(t,e){return Ou(4,2,t,e)}function P_(t,e){return Ou(4,4,t,e)}function R_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function N_(t,e,n){return n=n!=null?n.concat([t]):null,Ou(4,4,R_.bind(null,e,t),n)}function _f(){}function O_(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function D_(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function L_(t,e,n){return yi&21?(In(n,e)||(n=Fv(),qe.lanes|=n,vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function NI(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=Wc.transition;Wc.transition={};try{t(!1),e()}finally{Pe=n,Wc.transition=r}}function j_(){return fn().memoizedState}function OI(t,e,n){var r=Nr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},M_(t))V_(e,n);else if(n=v_(t,e,n,r),n!==null){var i=Mt();En(n,t,r,i),U_(n,e,r)}}function DI(t,e,n){var r=Nr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(M_(t))V_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,In(l,o)){var u=e.interleaved;u===null?(i.next=i,cf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=v_(t,e,i,r),n!==null&&(i=Mt(),En(n,t,r,i),U_(n,e,r))}}function M_(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function V_(t,e){xo=eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function U_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qh(t,n)}}var tu={readContext:hn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},LI={readContext:hn,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:lg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Il(4194308,4,R_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Il(4194308,4,t,e)},useInsertionEffect:function(t,e){return Il(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OI.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:ag,useDebugValue:_f,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=ag(!1),e=t[0];return t=NI.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=kn();if(Be){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),ht===null)throw Error(Q(349));yi&30||I_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lg(b_.bind(null,r,s,t),[t]),r.flags|=2048,Qo(9,x_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=kn(),e=ht.identifierPrefix;if(Be){var n=Kn,r=Hn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ko++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jI={readContext:hn,useCallback:O_,useContext:hn,useEffect:vf,useImperativeHandle:N_,useInsertionEffect:A_,useLayoutEffect:P_,useMemo:D_,useReducer:Hc,useRef:k_,useState:function(){return Hc(Go)},useDebugValue:_f,useDeferredValue:function(t){var e=fn();return L_(e,ot.memoizedState,t)},useTransition:function(){var t=Hc(Go)[0],e=fn().memoizedState;return[t,e]},useMutableSource:E_,useSyncExternalStore:T_,useId:j_,unstable_isNewReconciler:!1},MI={readContext:hn,useCallback:O_,useContext:hn,useEffect:vf,useImperativeHandle:N_,useInsertionEffect:A_,useLayoutEffect:P_,useMemo:D_,useReducer:Kc,useRef:k_,useState:function(){return Kc(Go)},useDebugValue:_f,useDeferredValue:function(t){var e=fn();return ot===null?e.memoizedState=t:L_(e,ot.memoizedState,t)},useTransition:function(){var t=Kc(Go)[0],e=fn().memoizedState;return[t,e]},useMutableSource:E_,useSyncExternalStore:T_,useId:j_,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Du={isMounted:function(t){return(t=t._reactInternals)?Pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Nr(t),s=Yn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Pr(t,s,i),e!==null&&(En(e,t,i,r),El(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Nr(t),s=Yn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Pr(t,s,i),e!==null&&(En(e,t,i,r),El(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Nr(t),i=Yn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pr(t,i,r),e!==null&&(En(e,t,r,n),El(e,t,r))}};function ug(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bo(n,r)||!Bo(i,s):!0}function F_(t,e,n){var r=!1,i=Fr,s=e.contextType;return typeof s=="object"&&s!==null?s=hn(s):(i=Ht(e)?mi:Rt.current,r=e.contextTypes,s=(r=r!=null)?_s(t,i):Fr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Du,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function cg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Du.enqueueReplaceState(e,e.state,null)}function Hd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},df(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hn(s):(s=Ht(e)?mi:Rt.current,i.context=_s(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Du.enqueueReplaceState(i,i.state,null),Jl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,e){try{var n="",r=e;do n+=d1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Kd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VI=typeof WeakMap=="function"?WeakMap:Map;function B_(t,e,n){n=Yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ru||(ru=!0,rh=r),Kd(t,e)},n}function z_(t,e,n){n=Yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Kd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Kd(t,e),typeof r!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JI.bind(null,t,e,n),e.then(t,t))}function hg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yn(-1,1),e.tag=2,Pr(n,e,1))),n.lanes|=1),t)}var UI=or.ReactCurrentOwner,qt=!1;function jt(t,e,n,r){e.child=t===null?y_(e,null,n,r):Es(e,t.child,n,r)}function pg(t,e,n,r,i){n=n.render;var s=e.ref;return ds(e,i),r=gf(t,e,n,r,s,i),n=yf(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(Be&&n&&rf(e),e.flags|=1,jt(t,e,r,i),e.child)}function mg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Cf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,$_(t,e,s,r,i)):(t=Cl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(o,r)&&t.ref===e.ref)return nr(t,e,i)}return e.flags|=1,t=Or(s,r),t.ref=e.ref,t.return=e,e.child=t}function $_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Bo(s,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,nr(t,e,i)}return Gd(t,e,n,r,i)}function q_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(is,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(is,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ne(is,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ne(is,Yt),Yt|=r;return jt(t,e,i,n),e.child}function W_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gd(t,e,n,r,i){var s=Ht(n)?mi:Rt.current;return s=_s(e,s),ds(e,i),n=gf(t,e,n,r,s,i),r=yf(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(Be&&r&&rf(e),e.flags|=1,jt(t,e,n,i),e.child)}function gg(t,e,n,r,i){if(Ht(n)){var s=!0;Kl(e)}else s=!1;if(ds(e,i),e.stateNode===null)xl(t,e),F_(e,n,r),Hd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=Ht(n)?mi:Rt.current,c=_s(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&cg(e,o,r,c),pr=!1;var v=e.memoizedState;o.state=v,Jl(e,r,o,i),u=e.memoizedState,l!==r||v!==u||Wt.current||pr?(typeof d=="function"&&(Wd(e,n,d,r),u=e.memoizedState),(l=pr||ug(e,n,l,r,v,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,__(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:gn(e.type,l),o.props=c,p=e.pendingProps,v=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=hn(u):(u=Ht(n)?mi:Rt.current,u=_s(e,u));var T=n.getDerivedStateFromProps;(d=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||v!==u)&&cg(e,o,r,u),pr=!1,v=e.memoizedState,o.state=v,Jl(e,r,o,i);var A=e.memoizedState;l!==p||v!==A||Wt.current||pr?(typeof T=="function"&&(Wd(e,n,T,r),A=e.memoizedState),(c=pr||ug(e,n,c,r,v,A,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Qd(t,e,n,r,s,i)}function Qd(t,e,n,r,i,s){W_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tg(e,n,!1),nr(t,e,s);r=e.stateNode,UI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Es(e,t.child,null,s),e.child=Es(e,null,l,s)):jt(t,e,l,s),e.memoizedState=r.state,i&&tg(e,n,!0),e.child}function H_(t){var e=t.stateNode;e.pendingContext?eg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eg(t,e.context,!1),hf(t,e.containerInfo)}function yg(t,e,n,r,i){return ws(),of(i),e.flags|=256,jt(t,e,n,r),e.child}var Xd={dehydrated:null,treeContext:null,retryLane:0};function Yd(t){return{baseLanes:t,cachePool:null,transitions:null}}function K_(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ne($e,i&1),t===null)return $d(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mu(o,r,0,null),t=hi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Yd(n),e.memoizedState=Xd,t):wf(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return FI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Or(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Or(l,s):(s=hi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Yd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xd,r}return s=t.child,t=s.sibling,r=Or(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wf(t,e){return e=Mu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function il(t,e,n,r){return r!==null&&of(r),Es(e,t.child,null,n),t=wf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Gc(Error(Q(422))),il(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Mu({mode:"visible",children:r.children},i,0,null),s=hi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Es(e,t.child,null,o),e.child.memoizedState=Yd(o),e.memoizedState=Xd,s);if(!(e.mode&1))return il(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Q(419)),r=Gc(s,r,void 0),il(t,e,o,r)}if(l=(o&t.childLanes)!==0,qt||l){if(r=ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,tr(t,i),En(r,t,i,-1))}return Sf(),r=Gc(Error(Q(421))),il(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jt=Ar(i.nextSibling),tn=e,Be=!0,vn=null,t!==null&&(ln[un++]=Hn,ln[un++]=Kn,ln[un++]=gi,Hn=t.id,Kn=t.overflow,gi=e),e=wf(e,r.children),e.flags|=4096,e)}function vg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qd(t.return,e,n)}function Qc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function G_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(jt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vg(t,n,e);else if(t.tag===19)vg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qc(e,!0,n,null,s);break;case"together":Qc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Or(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Or(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BI(t,e,n){switch(e.tag){case 3:H_(e),ws();break;case 5:w_(e);break;case 1:Ht(e.type)&&Kl(e);break;case 4:hf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(Xl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?K_(t,e,n):(Ne($e,$e.current&1),t=nr(t,e,n),t!==null?t.sibling:null);Ne($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return G_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,q_(t,e,n)}return nr(t,e,n)}var Q_,Jd,X_,Y_;Q_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jd=function(){};X_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ui(On.current);var s=null;switch(n){case"input":i=wd(t,i),r=wd(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=Id(t,i),r=Id(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wl)}bd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Do.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Do.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Me("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Y_=function(t,e,n,r){n!==r&&(e.flags|=4)};function so(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zI(t,e,n){var r=e.pendingProps;switch(sf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return Ht(e.type)&&Hl(),St(e),null;case 3:return r=e.stateNode,Ts(),Ue(Wt),Ue(Rt),pf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vn!==null&&(oh(vn),vn=null))),Jd(t,e),St(e),null;case 5:ff(e);var i=ui(Ho.current);if(n=e.type,t!==null&&e.stateNode!=null)X_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return St(e),null}if(t=ui(On.current),nl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[An]=e,r[qo]=s,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<fo.length;i++)Me(fo[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Cm(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":Am(r,s),Me("invalid",r)}bd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,l,t),i=["children",""+l]):Do.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":Ka(r),km(r,s,!0);break;case"textarea":Ka(r),Pm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[An]=e,t[qo]=r,Q_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sd(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<fo.length;i++)Me(fo[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":Cm(t,r),i=wd(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Me("invalid",t);break;case"textarea":Am(t,r),i=Id(t,r),Me("invalid",t);break;default:i=r}bd(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?kv(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Sv(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Lo(t,u):typeof u=="number"&&Lo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Do.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Me("scroll",t):u!=null&&$h(t,s,u,o))}switch(n){case"input":Ka(t),km(t,r,!1);break;case"textarea":Ka(t),Pm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ur(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?as(t,!!r.multiple,s,!1):r.defaultValue!=null&&as(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)Y_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=ui(Ho.current),ui(On.current),nl(e)){if(r=e.stateNode,n=e.memoizedProps,r[An]=e,(s=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:tl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=e,e.stateNode=r}return St(e),null;case 13:if(Ue($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Jt!==null&&e.mode&1&&!(e.flags&128))m_(),ws(),e.flags|=98560,s=!1;else if(s=nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[An]=e}else ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),s=!1}else vn!==null&&(oh(vn),vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?at===0&&(at=3):Sf())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return Ts(),Jd(t,e),t===null&&zo(e.stateNode.containerInfo),St(e),null;case 10:return uf(e.type._context),St(e),null;case 17:return Ht(e.type)&&Hl(),St(e),null;case 19:if(Ue($e),s=e.memoizedState,s===null)return St(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)so(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zl(t),o!==null){for(e.flags|=128,so(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>xs&&(e.flags|=128,r=!0,so(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),so(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Be)return St(e),null}else 2*Je()-s.renderingStartTime>xs&&n!==1073741824&&(e.flags|=128,r=!0,so(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=$e.current,Ne($e,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return bf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function $I(t,e){switch(sf(e),e.tag){case 1:return Ht(e.type)&&Hl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ts(),Ue(Wt),Ue(Rt),pf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ff(e),null;case 13:if(Ue($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue($e),null;case 4:return Ts(),null;case 10:return uf(e.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var sl=!1,At=!1,qI=typeof WeakSet=="function"?WeakSet:Set,ie=null;function rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function Zd(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var _g=!1;function WI(t,e){if(jd=zl,t=n_(),nf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,p=t,v=null;t:for(;;){for(var T;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(T=p.firstChild)!==null;)v=p,p=T;for(;;){if(p===t)break t;if(v===n&&++c===i&&(l=o),v===s&&++d===r&&(u=o),(T=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=T}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Md={focusedElem:t,selectionRange:n},zl=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var R=A.memoizedProps,N=A.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?R:gn(e.type,R),N);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(C){Ge(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return A=_g,_g=!1,A}function bo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zd(e,n,s)}i=i.next}while(i!==r)}}function Lu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function eh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function J_(t){var e=t.alternate;e!==null&&(t.alternate=null,J_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[An],delete e[qo],delete e[Fd],delete e[CI],delete e[kI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Z_(t){return t.tag===5||t.tag===3||t.tag===4}function wg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function th(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wl));else if(r!==4&&(t=t.child,t!==null))for(th(t,e,n),t=t.sibling;t!==null;)th(t,e,n),t=t.sibling}function nh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nh(t,e,n),t=t.sibling;t!==null;)nh(t,e,n),t=t.sibling}var mt=null,yn=!1;function dr(t,e,n){for(n=n.child;n!==null;)e0(t,e,n),n=n.sibling}function e0(t,e,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Cu,n)}catch{}switch(n.tag){case 5:At||rs(n,e);case 6:var r=mt,i=yn;mt=null,dr(t,e,n),mt=r,yn=i,mt!==null&&(yn?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(yn?(t=mt,n=n.stateNode,t.nodeType===8?zc(t.parentNode,n):t.nodeType===1&&zc(t,n),Uo(t)):zc(mt,n.stateNode));break;case 4:r=mt,i=yn,mt=n.stateNode.containerInfo,yn=!0,dr(t,e,n),mt=r,yn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Zd(n,e,o),i=i.next}while(i!==r)}dr(t,e,n);break;case 1:if(!At&&(rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ge(n,e,l)}dr(t,e,n);break;case 21:dr(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,dr(t,e,n),At=r):dr(t,e,n);break;default:dr(t,e,n)}}function Eg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qI),e.forEach(function(r){var i=ex.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:mt=l.stateNode,yn=!1;break e;case 3:mt=l.stateNode.containerInfo,yn=!0;break e;case 4:mt=l.stateNode.containerInfo,yn=!0;break e}l=l.return}if(mt===null)throw Error(Q(160));e0(s,o,i),mt=null,yn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ge(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)t0(e,t),e=e.sibling}function t0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),Sn(t),r&4){try{bo(3,t,t.return),Lu(3,t)}catch(R){Ge(t,t.return,R)}try{bo(5,t,t.return)}catch(R){Ge(t,t.return,R)}}break;case 1:mn(e,t),Sn(t),r&512&&n!==null&&rs(n,n.return);break;case 5:if(mn(e,t),Sn(t),r&512&&n!==null&&rs(n,n.return),t.flags&32){var i=t.stateNode;try{Lo(i,"")}catch(R){Ge(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Iv(i,s),Sd(l,o);var c=Sd(l,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?kv(i,p):d==="dangerouslySetInnerHTML"?Sv(i,p):d==="children"?Lo(i,p):$h(i,d,p,c)}switch(l){case"input":Ed(i,s);break;case"textarea":xv(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?as(i,!!s.multiple,T,!1):v!==!!s.multiple&&(s.defaultValue!=null?as(i,!!s.multiple,s.defaultValue,!0):as(i,!!s.multiple,s.multiple?[]:"",!1))}i[qo]=s}catch(R){Ge(t,t.return,R)}}break;case 6:if(mn(e,t),Sn(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){Ge(t,t.return,R)}}break;case 3:if(mn(e,t),Sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uo(e.containerInfo)}catch(R){Ge(t,t.return,R)}break;case 4:mn(e,t),Sn(t);break;case 13:mn(e,t),Sn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(If=Je())),r&4&&Eg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(At=(c=At)||d,mn(e,t),At=c):mn(e,t),Sn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ie=t,d=t.child;d!==null;){for(p=ie=d;ie!==null;){switch(v=ie,T=v.child,v.tag){case 0:case 11:case 14:case 15:bo(4,v,v.return);break;case 1:rs(v,v.return);var A=v.stateNode;if(typeof A.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(R){Ge(r,n,R)}}break;case 5:rs(v,v.return);break;case 22:if(v.memoizedState!==null){Ig(p);continue}}T!==null?(T.return=v,ie=T):Ig(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Cv("display",o))}catch(R){Ge(t,t.return,R)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(R){Ge(t,t.return,R)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mn(e,t),Sn(t),r&4&&Eg(t);break;case 21:break;default:mn(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Z_(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lo(i,""),r.flags&=-33);var s=wg(t);nh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=wg(t);th(t,l,o);break;default:throw Error(Q(161))}}catch(u){Ge(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HI(t,e,n){ie=t,n0(t)}function n0(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||sl;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||At;l=sl;var c=At;if(sl=o,(At=u)&&!c)for(ie=i;ie!==null;)o=ie,u=o.child,o.tag===22&&o.memoizedState!==null?xg(i):u!==null?(u.return=o,ie=u):xg(i);for(;s!==null;)ie=s,n0(s),s=s.sibling;ie=i,sl=l,At=c}Tg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):Tg(t)}}function Tg(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Lu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&og(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}og(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Uo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}At||e.flags&512&&eh(e)}catch(v){Ge(e,e.return,v)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function Ig(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function xg(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lu(4,e)}catch(u){Ge(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ge(e,i,u)}}var s=e.return;try{eh(e)}catch(u){Ge(e,s,u)}break;case 5:var o=e.return;try{eh(e)}catch(u){Ge(e,o,u)}}}catch(u){Ge(e,e.return,u)}if(e===t){ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ie=l;break}ie=e.return}}var KI=Math.ceil,nu=or.ReactCurrentDispatcher,Ef=or.ReactCurrentOwner,dn=or.ReactCurrentBatchConfig,be=0,ht=null,rt=null,vt=0,Yt=0,is=Hr(0),at=0,Xo=null,vi=0,ju=0,Tf=0,So=null,zt=null,If=0,xs=1/0,qn=null,ru=!1,rh=null,Rr=null,ol=!1,Ir=null,iu=0,Co=0,ih=null,bl=-1,Sl=0;function Mt(){return be&6?Je():bl!==-1?bl:bl=Je()}function Nr(t){return t.mode&1?be&2&&vt!==0?vt&-vt:PI.transition!==null?(Sl===0&&(Sl=Fv()),Sl):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:Kv(t.type)),t):1}function En(t,e,n,r){if(50<Co)throw Co=0,ih=null,Error(Q(185));ca(t,n,r),(!(be&2)||t!==ht)&&(t===ht&&(!(be&2)&&(ju|=n),at===4&&gr(t,vt)),Kt(t,r),n===1&&be===0&&!(e.mode&1)&&(xs=Je()+500,Nu&&Kr()))}function Kt(t,e){var n=t.callbackNode;P1(t,e);var r=Bl(t,t===ht?vt:0);if(r===0)n!==null&&Om(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Om(n),e===1)t.tag===0?AI(bg.bind(null,t)):h_(bg.bind(null,t)),bI(function(){!(be&6)&&Kr()}),n=null;else{switch(Bv(r)){case 1:n=Gh;break;case 4:n=Vv;break;case 16:n=Fl;break;case 536870912:n=Uv;break;default:n=Fl}n=c0(n,r0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function r0(t,e){if(bl=-1,Sl=0,be&6)throw Error(Q(327));var n=t.callbackNode;if(hs()&&t.callbackNode!==n)return null;var r=Bl(t,t===ht?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=su(t,r);else{e=r;var i=be;be|=2;var s=s0();(ht!==t||vt!==e)&&(qn=null,xs=Je()+500,di(t,e));do try{XI();break}catch(l){i0(t,l)}while(!0);lf(),nu.current=s,be=i,rt!==null?e=0:(ht=null,vt=0,e=at)}if(e!==0){if(e===2&&(i=Rd(t),i!==0&&(r=i,e=sh(t,i))),e===1)throw n=Xo,di(t,0),gr(t,r),Kt(t,Je()),n;if(e===6)gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!GI(i)&&(e=su(t,r),e===2&&(s=Rd(t),s!==0&&(r=s,e=sh(t,s))),e===1))throw n=Xo,di(t,0),gr(t,r),Kt(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:si(t,zt,qn);break;case 3:if(gr(t,r),(r&130023424)===r&&(e=If+500-Je(),10<e)){if(Bl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ud(si.bind(null,t,zt,qn),e);break}si(t,zt,qn);break;case 4:if(gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-wn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KI(r/1960))-r,10<r){t.timeoutHandle=Ud(si.bind(null,t,zt,qn),r);break}si(t,zt,qn);break;case 5:si(t,zt,qn);break;default:throw Error(Q(329))}}}return Kt(t,Je()),t.callbackNode===n?r0.bind(null,t):null}function sh(t,e){var n=So;return t.current.memoizedState.isDehydrated&&(di(t,e).flags|=256),t=su(t,e),t!==2&&(e=zt,zt=n,e!==null&&oh(e)),t}function oh(t){zt===null?zt=t:zt.push.apply(zt,t)}function GI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!In(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~Tf,e&=~ju,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wn(e),r=1<<n;t[n]=-1,e&=~r}}function bg(t){if(be&6)throw Error(Q(327));hs();var e=Bl(t,0);if(!(e&1))return Kt(t,Je()),null;var n=su(t,e);if(t.tag!==0&&n===2){var r=Rd(t);r!==0&&(e=r,n=sh(t,r))}if(n===1)throw n=Xo,di(t,0),gr(t,e),Kt(t,Je()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,si(t,zt,qn),Kt(t,Je()),null}function xf(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(xs=Je()+500,Nu&&Kr())}}function _i(t){Ir!==null&&Ir.tag===0&&!(be&6)&&hs();var e=be;be|=1;var n=dn.transition,r=Pe;try{if(dn.transition=null,Pe=1,t)return t()}finally{Pe=r,dn.transition=n,be=e,!(be&6)&&Kr()}}function bf(){Yt=is.current,Ue(is)}function di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xI(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(sf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hl();break;case 3:Ts(),Ue(Wt),Ue(Rt),pf();break;case 5:ff(r);break;case 4:Ts();break;case 13:Ue($e);break;case 19:Ue($e);break;case 10:uf(r.type._context);break;case 22:case 23:bf()}n=n.return}if(ht=t,rt=t=Or(t.current,null),vt=Yt=e,at=0,Xo=null,Tf=ju=vi=0,zt=So=null,li!==null){for(e=0;e<li.length;e++)if(n=li[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}li=null}return t}function i0(t,e){do{var n=rt;try{if(lf(),Tl.current=tu,eu){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}eu=!1}if(yi=0,dt=ot=qe=null,xo=!1,Ko=0,Ef.current=null,n===null||n.return===null){at=1,Xo=e,rt=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=vt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var T=hg(o);if(T!==null){T.flags&=-257,fg(T,o,l,s,e),T.mode&1&&dg(s,c,e),e=T,u=c;var A=e.updateQueue;if(A===null){var R=new Set;R.add(u),e.updateQueue=R}else A.add(u);break e}else{if(!(e&1)){dg(s,c,e),Sf();break e}u=Error(Q(426))}}else if(Be&&l.mode&1){var N=hg(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),fg(N,o,l,s,e),of(Is(u,l));break e}}s=u=Is(u,l),at!==4&&(at=2),So===null?So=[s]:So.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=B_(s,u,e);sg(s,y);break e;case 1:l=u;var w=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Rr===null||!Rr.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=z_(s,l,e);sg(s,C);break e}}s=s.return}while(s!==null)}a0(n)}catch(O){e=O,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function s0(){var t=nu.current;return nu.current=tu,t===null?tu:t}function Sf(){(at===0||at===3||at===2)&&(at=4),ht===null||!(vi&268435455)&&!(ju&268435455)||gr(ht,vt)}function su(t,e){var n=be;be|=2;var r=s0();(ht!==t||vt!==e)&&(qn=null,di(t,e));do try{QI();break}catch(i){i0(t,i)}while(!0);if(lf(),be=n,nu.current=r,rt!==null)throw Error(Q(261));return ht=null,vt=0,at}function QI(){for(;rt!==null;)o0(rt)}function XI(){for(;rt!==null&&!E1();)o0(rt)}function o0(t){var e=u0(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?a0(t):rt=e,Ef.current=null}function a0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$I(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,rt=null;return}}else if(n=zI(n,e,Yt),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);at===0&&(at=5)}function si(t,e,n){var r=Pe,i=dn.transition;try{dn.transition=null,Pe=1,YI(t,e,n,r)}finally{dn.transition=i,Pe=r}return null}function YI(t,e,n,r){do hs();while(Ir!==null);if(be&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(R1(t,s),t===ht&&(rt=ht=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ol||(ol=!0,c0(Fl,function(){return hs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dn.transition,dn.transition=null;var o=Pe;Pe=1;var l=be;be|=4,Ef.current=null,WI(t,n),t0(n,t),yI(Md),zl=!!jd,Md=jd=null,t.current=n,HI(n),T1(),be=l,Pe=o,dn.transition=s}else t.current=n;if(ol&&(ol=!1,Ir=t,iu=i),s=t.pendingLanes,s===0&&(Rr=null),b1(n.stateNode),Kt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ru)throw ru=!1,t=rh,rh=null,t;return iu&1&&t.tag!==0&&hs(),s=t.pendingLanes,s&1?t===ih?Co++:(Co=0,ih=t):Co=0,Kr(),null}function hs(){if(Ir!==null){var t=Bv(iu),e=dn.transition,n=Pe;try{if(dn.transition=null,Pe=16>t?16:t,Ir===null)var r=!1;else{if(t=Ir,Ir=null,iu=0,be&6)throw Error(Q(331));var i=be;for(be|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(ie=c;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:bo(8,d,s)}var p=d.child;if(p!==null)p.return=d,ie=p;else for(;ie!==null;){d=ie;var v=d.sibling,T=d.return;if(J_(d),d===c){ie=null;break}if(v!==null){v.return=T,ie=v;break}ie=T}}}var A=s.alternate;if(A!==null){var R=A.child;if(R!==null){A.child=null;do{var N=R.sibling;R.sibling=null,R=N}while(R!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bo(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ie=y;break e}ie=s.return}}var w=t.current;for(ie=w;ie!==null;){o=ie;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,ie=g;else e:for(o=w;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lu(9,l)}}catch(O){Ge(l,l.return,O)}if(l===o){ie=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,ie=C;break e}ie=l.return}}if(be=i,Kr(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Cu,t)}catch{}r=!0}return r}finally{Pe=n,dn.transition=e}}return!1}function Sg(t,e,n){e=Is(n,e),e=B_(t,e,1),t=Pr(t,e,1),e=Mt(),t!==null&&(ca(t,1,e),Kt(t,e))}function Ge(t,e,n){if(t.tag===3)Sg(t,t,n);else for(;e!==null;){if(e.tag===3){Sg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rr===null||!Rr.has(r))){t=Is(n,t),t=z_(e,t,1),e=Pr(e,t,1),t=Mt(),e!==null&&(ca(e,1,t),Kt(e,t));break}}e=e.return}}function JI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(vt&n)===n&&(at===4||at===3&&(vt&130023424)===vt&&500>Je()-If?di(t,0):Tf|=n),Kt(t,e)}function l0(t,e){e===0&&(t.mode&1?(e=Xa,Xa<<=1,!(Xa&130023424)&&(Xa=4194304)):e=1);var n=Mt();t=tr(t,e),t!==null&&(ca(t,e,n),Kt(t,n))}function ZI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),l0(t,n)}function ex(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),l0(t,n)}var u0;u0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,BI(t,e,n);qt=!!(t.flags&131072)}else qt=!1,Be&&e.flags&1048576&&f_(e,Ql,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xl(t,e),t=e.pendingProps;var i=_s(e,Rt.current);ds(e,n),i=gf(null,e,r,t,i,n);var s=yf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,Kl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,df(e),i.updater=Du,e.stateNode=i,i._reactInternals=e,Hd(e,r,t,n),e=Qd(null,e,r,!0,s,n)):(e.tag=0,Be&&s&&rf(e),jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nx(r),t=gn(r,t),i){case 0:e=Gd(null,e,r,t,n);break e;case 1:e=gg(null,e,r,t,n);break e;case 11:e=pg(null,e,r,t,n);break e;case 14:e=mg(null,e,r,gn(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),Gd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),gg(t,e,r,i,n);case 3:e:{if(H_(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,__(t,e),Jl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Is(Error(Q(423)),e),e=yg(t,e,r,n,i);break e}else if(r!==i){i=Is(Error(Q(424)),e),e=yg(t,e,r,n,i);break e}else for(Jt=Ar(e.stateNode.containerInfo.firstChild),tn=e,Be=!0,vn=null,n=y_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ws(),r===i){e=nr(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return w_(e),t===null&&$d(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vd(r,i)?o=null:s!==null&&Vd(r,s)&&(e.flags|=32),W_(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&$d(e),null;case 13:return K_(t,e,n);case 4:return hf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Es(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),pg(t,e,r,i,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ne(Xl,r._currentValue),r._currentValue=o,s!==null)if(In(s.value,o)){if(s.children===i.children&&!Wt.current){e=nr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Yn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),qd(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),qd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ds(e,n),i=hn(i),r=r(i),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,i=gn(r,e.pendingProps),i=gn(r.type,i),mg(t,e,r,i,n);case 15:return $_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),xl(t,e),e.tag=1,Ht(r)?(t=!0,Kl(e)):t=!1,ds(e,n),F_(e,r,i),Hd(e,r,i,n),Qd(null,e,r,!0,t,n);case 19:return G_(t,e,n);case 22:return q_(t,e,n)}throw Error(Q(156,e.tag))};function c0(t,e){return Mv(t,e)}function tx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new tx(t,e,n,r)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nx(t){if(typeof t=="function")return Cf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wh)return 11;if(t===Hh)return 14}return 2}function Or(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Cf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gi:return hi(n.children,i,s,e);case qh:o=8,i|=8;break;case gd:return t=cn(12,n,e,i|2),t.elementType=gd,t.lanes=s,t;case yd:return t=cn(13,n,e,i),t.elementType=yd,t.lanes=s,t;case vd:return t=cn(19,n,e,i),t.elementType=vd,t.lanes=s,t;case wv:return Mu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vv:o=10;break e;case _v:o=9;break e;case Wh:o=11;break e;case Hh:o=14;break e;case fr:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function hi(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Mu(t,e,n,r){return t=cn(22,t,r,e),t.elementType=wv,t.lanes=n,t.stateNode={isHidden:!1},t}function Xc(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Yc(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rx(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rc(0),this.expirationTimes=Rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kf(t,e,n,r,i,s,o,l,u){return t=new rx(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},df(s),t}function ix(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function d0(t){if(!t)return Fr;t=t._reactInternals;e:{if(Pi(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Ht(n))return d_(t,n,e)}return e}function h0(t,e,n,r,i,s,o,l,u){return t=kf(n,r,!0,t,i,s,o,l,u),t.context=d0(null),n=t.current,r=Mt(),i=Nr(n),s=Yn(r,i),s.callback=e??null,Pr(n,s,i),t.current.lanes=i,ca(t,i,r),Kt(t,r),t}function Vu(t,e,n,r){var i=e.current,s=Mt(),o=Nr(i);return n=d0(n),e.context===null?e.context=n:e.pendingContext=n,e=Yn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pr(i,e,o),t!==null&&(En(t,i,o,s),El(t,i,o)),o}function ou(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Af(t,e){Cg(t,e),(t=t.alternate)&&Cg(t,e)}function sx(){return null}var f0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pf(t){this._internalRoot=t}Uu.prototype.render=Pf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Vu(t,e,null,null)};Uu.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_i(function(){Vu(null,t,null,null)}),e[er]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var e=qv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&Hv(t)}};function Rf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kg(){}function ox(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ou(o);s.call(c)}}var o=h0(e,r,t,0,null,!1,!1,"",kg);return t._reactRootContainer=o,t[er]=o.current,zo(t.nodeType===8?t.parentNode:t),_i(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=ou(u);l.call(c)}}var u=kf(t,0,!1,null,null,!1,!1,"",kg);return t._reactRootContainer=u,t[er]=u.current,zo(t.nodeType===8?t.parentNode:t),_i(function(){Vu(e,u,n,r)}),u}function Bu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=ou(o);l.call(u)}}Vu(e,o,t,i)}else o=ox(n,e,t,i,r);return ou(o)}zv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ho(e.pendingLanes);n!==0&&(Qh(e,n|1),Kt(e,Je()),!(be&6)&&(xs=Je()+500,Kr()))}break;case 13:_i(function(){var r=tr(t,1);if(r!==null){var i=Mt();En(r,t,1,i)}}),Af(t,1)}};Xh=function(t){if(t.tag===13){var e=tr(t,134217728);if(e!==null){var n=Mt();En(e,t,134217728,n)}Af(t,134217728)}};$v=function(t){if(t.tag===13){var e=Nr(t),n=tr(t,e);if(n!==null){var r=Mt();En(n,t,e,r)}Af(t,e)}};qv=function(){return Pe};Wv=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};kd=function(t,e,n){switch(e){case"input":if(Ed(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ru(r);if(!i)throw Error(Q(90));Tv(r),Ed(r,i)}}}break;case"textarea":xv(t,n);break;case"select":e=n.value,e!=null&&as(t,!!n.multiple,e,!1)}};Rv=xf;Nv=_i;var ax={usingClientEntryPoint:!1,Events:[ha,Ji,Ru,Av,Pv,xf]},oo={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lx={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lv(t),t===null?null:t.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{Cu=al.inject(lx),Nn=al}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rf(e))throw Error(Q(200));return ix(t,e,null,n)};on.createRoot=function(t,e){if(!Rf(t))throw Error(Q(299));var n=!1,r="",i=f0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kf(t,1,!1,null,null,n,!1,r,i),t[er]=e.current,zo(t.nodeType===8?t.parentNode:t),new Pf(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=Lv(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return _i(t)};on.hydrate=function(t,e,n){if(!Fu(e))throw Error(Q(200));return Bu(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!Rf(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=f0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=h0(e,null,t,1,n??null,i,!1,s,o),t[er]=e.current,zo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Uu(e)};on.render=function(t,e,n){if(!Fu(e))throw Error(Q(200));return Bu(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!Fu(t))throw Error(Q(40));return t._reactRootContainer?(_i(function(){Bu(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1};on.unstable_batchedUpdates=xf;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fu(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Bu(t,e,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function p0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p0)}catch(t){console.error(t)}}p0(),pv.exports=on;var m0=pv.exports,Ag=m0;pd.createRoot=Ag.createRoot,pd.hydrateRoot=Ag.hydrateRoot;var Pg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ux=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let v=(l&15)<<2|c>>6,T=c&63;u||(T=64,o||(v=64)),r.push(n[d],n[p],n[v],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(g0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ux(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||p==null)throw new cx;const v=s<<2|l>>4;if(r.push(v),c!==64){const T=l<<4&240|c>>2;if(r.push(T),p!==64){const A=c<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dx=function(t){const e=g0(t);return y0.encodeByteArray(e,!0)},au=function(t){return dx(t).replace(/\./g,"")},v0=function(t){try{return y0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=()=>hx().__FIREBASE_DEFAULTS__,px=()=>{if(typeof process>"u"||typeof Pg>"u")return;const t=Pg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v0(t[1]);return e&&JSON.parse(e)},zu=()=>{try{return fx()||px()||mx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_0=t=>{var e,n;return(n=(e=zu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},w0=t=>{const e=_0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},E0=()=>{var t;return(t=zu())===null||t===void 0?void 0:t.config},T0=t=>{var e;return(e=zu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[au(JSON.stringify(n)),au(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function vx(){var t;const e=(t=zu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _x(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ex(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tx(){return!vx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ix(){try{return typeof indexedDB=="object"}catch{return!1}}function xx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="FirebaseError";class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bx,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Sx(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Bn(i,l,r)}}function Sx(t,e){return t.replace(Cx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Cx=/\{\$([^}]+)}/g;function kx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Rg(s)&&Rg(o)){if(!lu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function po(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function mo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ax(t,e){const n=new Px(t,e);return n.subscribe.bind(n)}class Px{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Rx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jc),i.error===void 0&&(i.error=Jc),i.complete===void 0&&(i.complete=Jc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class Br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dx(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oi){return this.instances.has(e)}getOptions(e=oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ox(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oi){return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ox(t){return t===oi?void 0:t}function Dx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const jx={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},Mx=Ie.INFO,Vx={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},Ux=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Vx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nf{constructor(e){this.name=e,this._logLevel=Mx,this._logHandler=Ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const Fx=(t,e)=>e.some(n=>t instanceof n);let Ng,Og;function Bx(){return Ng||(Ng=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zx(){return Og||(Og=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x0=new WeakMap,ah=new WeakMap,b0=new WeakMap,Zc=new WeakMap,Of=new WeakMap;function $x(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Dr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&x0.set(n,t)}).catch(()=>{}),Of.set(e,t),e}function qx(t){if(ah.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ah.set(t,e)}let lh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ah.get(t);if(e==="objectStoreNames")return t.objectStoreNames||b0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Wx(t){lh=t(lh)}function Hx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ed(this),e,...n);return b0.set(r,e.sort?e.sort():[e]),Dr(r)}:zx().includes(t)?function(...e){return t.apply(ed(this),e),Dr(x0.get(this))}:function(...e){return Dr(t.apply(ed(this),e))}}function Kx(t){return typeof t=="function"?Hx(t):(t instanceof IDBTransaction&&qx(t),Fx(t,Bx())?new Proxy(t,lh):t)}function Dr(t){if(t instanceof IDBRequest)return $x(t);if(Zc.has(t))return Zc.get(t);const e=Kx(t);return e!==t&&(Zc.set(t,e),Of.set(e,t)),e}const ed=t=>Of.get(t);function Gx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Dr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Dr(o.result),u.oldVersion,u.newVersion,Dr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Qx=["get","getKey","getAll","getAllKeys","count"],Xx=["put","add","delete","clear"],td=new Map;function Dg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(td.get(e))return td.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Xx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Qx.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return td.set(e,s),s}Wx(t=>({...t,get:(e,n,r)=>Dg(e,n)||t.get(e,n,r),has:(e,n)=>!!Dg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Jx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Jx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uh="@firebase/app",Lg="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Nf("@firebase/app"),Zx="@firebase/app-compat",eb="@firebase/analytics-compat",tb="@firebase/analytics",nb="@firebase/app-check-compat",rb="@firebase/app-check",ib="@firebase/auth",sb="@firebase/auth-compat",ob="@firebase/database",ab="@firebase/database-compat",lb="@firebase/functions",ub="@firebase/functions-compat",cb="@firebase/installations",db="@firebase/installations-compat",hb="@firebase/messaging",fb="@firebase/messaging-compat",pb="@firebase/performance",mb="@firebase/performance-compat",gb="@firebase/remote-config",yb="@firebase/remote-config-compat",vb="@firebase/storage",_b="@firebase/storage-compat",wb="@firebase/firestore",Eb="@firebase/vertexai-preview",Tb="@firebase/firestore-compat",Ib="firebase",xb="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="[DEFAULT]",bb={[uh]:"fire-core",[Zx]:"fire-core-compat",[tb]:"fire-analytics",[eb]:"fire-analytics-compat",[rb]:"fire-app-check",[nb]:"fire-app-check-compat",[ib]:"fire-auth",[sb]:"fire-auth-compat",[ob]:"fire-rtdb",[ab]:"fire-rtdb-compat",[lb]:"fire-fn",[ub]:"fire-fn-compat",[cb]:"fire-iid",[db]:"fire-iid-compat",[hb]:"fire-fcm",[fb]:"fire-fcm-compat",[pb]:"fire-perf",[mb]:"fire-perf-compat",[gb]:"fire-rc",[yb]:"fire-rc-compat",[vb]:"fire-gcs",[_b]:"fire-gcs-compat",[wb]:"fire-fst",[Tb]:"fire-fst-compat",[Eb]:"fire-vertex","fire-js":"fire-js",[Ib]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new Map,Sb=new Map,dh=new Map;function jg(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ei(t){const e=t.name;if(dh.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;dh.set(e,t);for(const n of uu.values())jg(n,t);for(const n of Sb.values())jg(n,t);return!0}function $u(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new pa("app","Firebase",Cb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=xb;function S0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ch,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(n||(n=E0()),!n)throw Lr.create("no-options");const s=uu.get(i);if(s){if(lu(n,s.options)&&lu(r,s.config))return s;throw Lr.create("duplicate-app",{appName:i})}const o=new Lx(i);for(const u of dh.values())o.addComponent(u);const l=new kb(n,r,o);return uu.set(i,l),l}function Df(t=ch){const e=uu.get(t);if(!e&&t===ch&&E0())return S0();if(!e)throw Lr.create("no-app",{appName:t});return e}function Dn(t,e,n){var r;let i=(r=bb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(l.join(" "));return}Ei(new Br(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="firebase-heartbeat-database",Pb=1,Yo="firebase-heartbeat-store";let nd=null;function C0(){return nd||(nd=Gx(Ab,Pb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),nd}async function Rb(t){try{const n=(await C0()).transaction(Yo),r=await n.objectStore(Yo).get(k0(t));return await n.done,r}catch(e){if(e instanceof Bn)wi.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(n.message)}}}async function Mg(t,e){try{const r=(await C0()).transaction(Yo,"readwrite");await r.objectStore(Yo).put(e,k0(t)),await r.done}catch(n){if(n instanceof Bn)wi.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wi.warn(r.message)}}}function k0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=1024,Ob=30*24*60*60*1e3;class Db{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vg();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Ob}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vg(),{heartbeatsToSend:r,unsentEntries:i}=Lb(this._heartbeatsCache.heartbeats),s=au(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Vg(){return new Date().toISOString().substring(0,10)}function Lb(t,e=Nb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ug(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ug(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ix()?xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Rb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ug(t){return au(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){Ei(new Br("platform-logger",e=>new Yx(e),"PRIVATE")),Ei(new Br("heartbeat",e=>new Db(e),"PRIVATE")),Dn(uh,Lg,t),Dn(uh,Lg,"esm2017"),Dn("fire-js","")}Mb("");function Lf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function A0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vb=A0,P0=new pa("auth","Firebase",A0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Nf("@firebase/auth");function Ub(t,...e){cu.logLevel<=Ie.WARN&&cu.warn(`Auth (${Ri}): ${t}`,...e)}function kl(t,...e){cu.logLevel<=Ie.ERROR&&cu.error(`Auth (${Ri}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,...e){throw jf(t,...e)}function Ln(t,...e){return jf(t,...e)}function R0(t,e,n){const r=Object.assign(Object.assign({},Vb()),{[e]:n});return new pa("auth","Firebase",r).create(e,{appName:t.name})}function Jn(t){return R0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return P0.create(t,...e)}function he(t,e,...n){if(!t)throw jf(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kl(e),new Error(e)}function rr(t,e){t||Gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Fb(){return Fg()==="http:"||Fg()==="https:"}function Fg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fb()||_x()||"connection"in navigator)?navigator.onLine:!0}function zb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=yx()||wx()}get(){return Bb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new ga(3e4,6e4);function Gr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qr(t,e,n,r,i={}){return O0(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=ma(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),N0.fetch()(D0(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function O0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$b),e);try{const i=new Hb(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ll(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ll(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ll(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ll(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw R0(t,d,c);xn(t,d)}}catch(i){if(i instanceof Bn)throw i;xn(t,"network-request-failed",{message:String(i)})}}async function ya(t,e,n,r,i={}){const s=await Qr(t,e,n,r,i);return"mfaPendingCredential"in s&&xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function D0(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Mf(t.config,i):`${t.config.apiScheme}://${i}`}function Wb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ln(this.auth,"network-request-failed")),qb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ll(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ln(t,e,r);return i.customData._tokenResponse=n,i}function Bg(t){return t!==void 0&&t.enterprise!==void 0}class Kb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Wb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Gb(t,e){return Qr(t,"GET","/v2/recaptchaConfig",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(t,e){return Qr(t,"POST","/v1/accounts:delete",e)}async function L0(t,e){return Qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xb(t,e=!1){const n=Ze(t),r=await n.getIdToken(e),i=Vf(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ko(rd(i.auth_time)),issuedAtTime:ko(rd(i.iat)),expirationTime:ko(rd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rd(t){return Number(t)*1e3}function Vf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kl("JWT malformed, contained fewer than 3 sections"),null;try{const i=v0(n);return i?JSON.parse(i):(kl("Failed to decode base64 JWT payload"),null)}catch(i){return kl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function zg(t){const e=Vf(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bn&&Yb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Yb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ko(this.lastLoginAt),this.creationTime=ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Jo(t,L0(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?j0(s.providerUserInfo):[],l=eS(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new fh(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function Zb(t){const e=Ze(t);await du(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eS(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function j0(t){return t.map(e=>{var{providerId:n}=e,r=Lf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(t,e){const n=await O0(t,{},async()=>{const r=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=D0(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",N0.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nS(t,e){return Qr(t,"POST","/v2/accounts:revokeToken",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=zg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tS(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fs;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fs,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Jo(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Xb(this,e)}reload(){return Zb(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await du(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Jn(this.auth));const e=await this.getIdToken();return await Jo(this,Qb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(l=n.tenantId)!==null&&l!==void 0?l:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:g,emailVerified:C,isAnonymous:O,providerData:V,stsTokenManager:S}=n;he(g&&S,e,"internal-error");const _=fs.fromJSON(this.name,S);he(typeof g=="string",e,"internal-error"),hr(p,e.name),hr(v,e.name),he(typeof C=="boolean",e,"internal-error"),he(typeof O=="boolean",e,"internal-error"),hr(T,e.name),hr(A,e.name),hr(R,e.name),hr(N,e.name),hr(y,e.name),hr(w,e.name);const E=new Qn({uid:g,auth:e,email:v,emailVerified:C,displayName:p,isAnonymous:O,photoURL:A,phoneNumber:T,tenantId:R,stsTokenManager:_,createdAt:y,lastLoginAt:w});return V&&Array.isArray(V)&&(E.providerData=V.map(b=>Object.assign({},b))),N&&(E._redirectEventId=N),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new fs;i.updateFromServerResponse(n);const s=new Qn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await du(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?j0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new fs;l.updateFromIdToken(r);const u=new Qn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new fh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=new Map;function Xn(t){rr(t instanceof Function,"Expected a class definition");let e=$g.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$g.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M0.type="NONE";const qg=M0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t,e,n){return`firebase:${t}:${e}:${n}`}class ps{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Al(this.userKey,i.apiKey,s),this.fullPersistenceKey=Al("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ps(Xn(qg),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Xn(qg);const o=Al(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const p=Qn._fromJSON(e,d);c!==s&&(l=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ps(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ps(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z0(e))return"Blackberry";if($0(e))return"Webos";if(Uf(e))return"Safari";if((e.includes("chrome/")||U0(e))&&!e.includes("edge/"))return"Chrome";if(B0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function V0(t=Et()){return/firefox\//i.test(t)}function Uf(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U0(t=Et()){return/crios\//i.test(t)}function F0(t=Et()){return/iemobile/i.test(t)}function B0(t=Et()){return/android/i.test(t)}function z0(t=Et()){return/blackberry/i.test(t)}function $0(t=Et()){return/webos/i.test(t)}function qu(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rS(t=Et()){var e;return qu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iS(){return Ex()&&document.documentMode===10}function q0(t=Et()){return qu(t)||B0(t)||$0(t)||z0(t)||/windows phone/i.test(t)||F0(t)}function sS(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e=[]){let n;switch(t){case"Browser":n=Wg(Et());break;case"Worker":n=`${Wg(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ri}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(t,e={}){return Qr(t,"GET","/v2/passwordPolicy",Gr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=6;class uS{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lS,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hg(this),this.idTokenSubscription=new Hg(this),this.beforeStateQueue=new oS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ps.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await L0(this,{idToken:e}),r=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await du(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Jn(this));const n=e?Ze(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aS(this),n=new uS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nS(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xn(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await ps.create(this,[Xn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ub(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ni(t){return Ze(t)}class Hg{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ax(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dS(t){Wu=t}function H0(t){return Wu.loadJS(t)}function hS(){return Wu.recaptchaEnterpriseScript}function fS(){return Wu.gapiScript}function pS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const mS="recaptcha-enterprise",gS="NO_RECAPTCHA";class yS{constructor(e){this.type=mS,this.auth=Ni(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Gb(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new Kb(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;Bg(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(gS)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&Bg(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=hS();u.length!==0&&(u+=l),H0(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function Kg(t,e,n,r=!1){const i=new yS(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ph(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Kg(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Kg(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e){const n=$u(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(lu(s,e??{}))return i;xn(i,"already-initialized")}return n.initialize({options:e})}function _S(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wS(t,e,n){const r=Ni(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=K0(e),{host:o,port:l}=ES(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),TS()}function K0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ES(t){const e=K0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Gg(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Gg(o)}}}function Gg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TS(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}async function IS(t,e){return Qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(t,e){return ya(t,"POST","/v1/accounts:signInWithPassword",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(t,e){return ya(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}async function SS(t,e){return ya(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Ff{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Zo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,n,"signInWithPassword",xS);case"emailLink":return bS(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,r,"signUpPassword",IS);case"emailLink":return SS(e,{idToken:n,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(t,e){return ya(t,"POST","/v1/accounts:signInWithIdp",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="http://localhost";class Ti extends Ff{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Lf(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ti(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ms(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ms(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ms(e,n)}buildRequest(){const e={requestUri:CS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ma(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AS(t){const e=po(mo(t)).link,n=e?po(mo(e)).deep_link_id:null,r=po(mo(t)).deep_link_id;return(r?po(mo(r)).link:null)||r||n||e||t}class Bf{constructor(e){var n,r,i,s,o,l;const u=po(mo(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,p=kS((i=u.mode)!==null&&i!==void 0?i:null);he(c&&d&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=AS(e);try{return new Bf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.providerId=Ls.PROVIDER_ID}static credential(e,n){return Zo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bf.parseLink(n);return he(r,"argument-error"),Zo._fromEmailAndCode(e,r.code,r.tenantId)}}Ls.PROVIDER_ID="password";Ls.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ls.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends G0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends va{constructor(){super("facebook.com")}static credential(e){return Ti._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends va{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ti._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends va{constructor(){super("github.com")}static credential(e){return Ti._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends va{constructor(){super("twitter.com")}static credential(e,n){return Ti._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(t,e){return ya(t,"POST","/v1/accounts:signUp",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Qn._fromIdTokenResponse(e,r,i),o=Qg(r);return new Ii({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Qg(r);return new Ii({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Qg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Bn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hu(e,n,r,i)}}function Q0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hu._fromErrorAndOperation(t,s,e,r):s})}async function RS(t,e,n=!1){const r=await Jo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ii._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(t,e,n=!1){const{auth:r}=t;if(Pn(r.app))return Promise.reject(Jn(r));const i="reauthenticate";try{const s=await Jo(t,Q0(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=Vf(s.idToken);he(o,r,"internal-error");const{sub:l}=o;return he(t.uid===l,r,"user-mismatch"),Ii._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&xn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(t,e,n=!1){if(Pn(t.app))return Promise.reject(Jn(t));const r="signIn",i=await Q0(t,r,e),s=await Ii._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function OS(t,e){return X0(Ni(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y0(t){const e=Ni(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DS(t,e,n){if(Pn(t.app))return Promise.reject(Jn(t));const r=Ni(t),o=await ph(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PS).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Y0(t),u}),l=await Ii._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function LS(t,e,n){return Pn(t.app)?Promise.reject(Jn(t)):OS(Ze(t),Ls.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Y0(t),r})}function jS(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function MS(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function VS(t,e,n,r){return Ze(t).onAuthStateChanged(e,n,r)}const fu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fu,"1"),this.storage.removeItem(fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){const t=Et();return Uf(t)||qu(t)}const FS=1e3,BS=10;class Z0 extends J0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=US()&&sS(),this.fallbackToPolling=q0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);iS()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,BS):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z0.type="LOCAL";const zS=Z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends J0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ew.type="SESSION";const tw=ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await $S(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=zf("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===c)switch(v.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(v.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function WS(t){jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function HS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KS(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GS(){return nw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firebaseLocalStorageDb",QS=1,pu="firebaseLocalStorage",iw="fbase_key";class _a{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ku(t,e){return t.transaction([pu],e?"readwrite":"readonly").objectStore(pu)}function XS(){const t=indexedDB.deleteDatabase(rw);return new _a(t).toPromise()}function mh(){const t=indexedDB.open(rw,QS);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pu,{keyPath:iw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pu)?e(r):(r.close(),await XS(),e(await mh()))})})}async function Xg(t,e,n){const r=Ku(t,!0).put({[iw]:e,value:n});return new _a(r).toPromise()}async function YS(t,e){const n=Ku(t,!1).get(e),r=await new _a(n).toPromise();return r===void 0?null:r.value}function Yg(t,e){const n=Ku(t,!0).delete(e);return new _a(n).toPromise()}const JS=800,ZS=3;class sw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZS)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hu._getInstance(GS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HS(),!this.activeServiceWorker)return;this.sender=new qS(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mh();return await Xg(e,fu,"1"),await Yg(e,fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YS(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ku(i,!1).getAll();return new _a(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sw.type="LOCAL";const eC=sw;new ga(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t,e){return e?Xn(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends Ff{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nC(t){return X0(t.auth,new $f(t),t.bypassAuthState)}function rC(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),NS(n,new $f(t),t.bypassAuthState)}async function iC(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),RS(n,new $f(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nC;case"linkViaPopup":case"linkViaRedirect":return iC;case"reauthViaPopup":case"reauthViaRedirect":return rC;default:xn(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new ga(2e3,1e4);class ss extends ow{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=zf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sC.get())};e()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="pendingRedirect",Pl=new Map;class aC extends ow{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pl.get(this.auth._key());if(!e){try{const r=await lC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pl.set(this.auth._key(),e)}return this.bypassAuthState||Pl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lC(t,e){const n=dC(e),r=cC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function uC(t,e){Pl.set(t._key(),e)}function cC(t){return Xn(t._redirectPersistence)}function dC(t){return Al(oC,t.config.apiKey,t.name)}async function hC(t,e,n=!1){if(Pn(t.app))return Promise.reject(Jn(t));const r=Ni(t),i=tC(r,e),o=await new aC(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=10*60*1e3;class pC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aw(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jg(e))}saveEventToCache(e){this.cachedEventUids.add(Jg(e)),this.lastProcessedEventTime=Date.now()}}function Jg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(t,e={}){return Qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vC=/^https?/;async function _C(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gC(t);for(const n of e)try{if(wC(n))return}catch{}xn(t,"unauthorized-domain")}function wC(t){const e=hh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vC.test(n))return!1;if(yC.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new ga(3e4,6e4);function Zg(){const t=jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TC(t){return new Promise((e,n)=>{var r,i,s;function o(){Zg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zg(),n(Ln(t,"network-request-failed"))},timeout:EC.get()})}if(!((i=(r=jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=jn().gapi)===null||s===void 0)&&s.load)o();else{const l=pS("iframefcb");return jn()[l]=()=>{gapi.load?o():n(Ln(t,"network-request-failed"))},H0(`${fS()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Rl=null,e})}let Rl=null;function IC(t){return Rl=Rl||TC(t),Rl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new ga(5e3,15e3),bC="__/auth/iframe",SC="emulator/auth/iframe",CC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AC(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mf(e,SC):`https://${t.config.authDomain}/${bC}`,r={apiKey:e.apiKey,appName:t.name,v:Ri},i=kC.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ma(r).slice(1)}`}async function PC(t){const e=await IC(t),n=jn().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:AC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CC,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ln(t,"network-request-failed"),l=jn().setTimeout(()=>{s(o)},xC.get());function u(){jn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NC=500,OC=600,DC="_blank",LC="http://localhost";class ey{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jC(t,e,n,r=NC,i=OC){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},RC),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Et().toLowerCase();n&&(l=U0(c)?DC:n),V0(c)&&(e=e||LC,u.scrollbars="yes");const d=Object.entries(u).reduce((v,[T,A])=>`${v}${T}=${A},`,"");if(rS(c)&&l!=="_self")return MC(e||"",l),new ey(null);const p=window.open(e||"",l,d);he(p,t,"popup-blocked");try{p.focus()}catch{}return new ey(p)}function MC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="__/auth/handler",UC="emulator/auth/handler",FC=encodeURIComponent("fac");async function ty(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ri,eventId:i};if(e instanceof G0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",kx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof va){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${FC}=${encodeURIComponent(u)}`:"";return`${BC(t)}?${ma(l).slice(1)}${c}`}function BC({config:t}){return t.emulator?Mf(t,UC):`https://${t.authDomain}/${VC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tw,this._completeRedirectFn=hC,this._overrideRedirectResult=uC}async _openPopup(e,n,r,i){var s;rr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ty(e,n,r,hh(),i);return jC(e,o,zf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ty(e,n,r,hh(),i);return WS(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(rr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await PC(e),r=new pC(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(id,{type:id},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[id];o!==void 0&&n(!!o),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_C(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return q0()||Uf()||qu()}}const $C=zC;var ny="@firebase/auth",ry="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HC(t){Ei(new Br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W0(t)},c=new cS(r,i,s,u);return _S(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ei(new Br("auth-internal",e=>{const n=Ni(e.getProvider("auth").getImmediate());return(r=>new qC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(ny,ry,WC(t)),Dn(ny,ry,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=5*60,GC=T0("authIdTokenMaxAge")||KC;let iy=null;const QC=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GC)return;const i=n==null?void 0:n.token;iy!==i&&(iy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XC(t=Df()){const e=$u(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vS(t,{popupRedirectResolver:$C,persistence:[eC,zS,tw]}),r=T0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=QC(s.toString());MS(n,o,()=>o(n.currentUser)),jS(n,l=>o(l))}}const i=_0("auth");return i&&wS(n,`http://${i}`),n}function YC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dS({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ln("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",YC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HC("Browser");var JC="firebase",ZC="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(JC,ZC,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebasestorage.googleapis.com",uw="storageBucket",ek=2*60*1e3,tk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe extends Bn{constructor(e,n,r=0){super(sd(e),`Firebase Storage: ${n} (${sd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qe||(Qe={}));function sd(t){return"storage/"+t}function qf(){const t="An unknown error occurred, please check the error payload for server response.";return new Xe(Qe.UNKNOWN,t)}function nk(t){return new Xe(Qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function rk(t){return new Xe(Qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ik(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xe(Qe.UNAUTHENTICATED,t)}function sk(){return new Xe(Qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ok(t){return new Xe(Qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ak(){return new Xe(Qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lk(){return new Xe(Qe.CANCELED,"User canceled the upload/download.")}function uk(t){return new Xe(Qe.INVALID_URL,"Invalid URL '"+t+"'.")}function ck(t){return new Xe(Qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dk(){return new Xe(Qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uw+"' property when initializing the app?")}function hk(){return new Xe(Qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fk(){return new Xe(Qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pk(t){return new Xe(Qe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gh(t){return new Xe(Qe.INVALID_ARGUMENT,t)}function cw(){return new Xe(Qe.APP_DELETED,"The Firebase app was deleted.")}function mk(t){return new Xe(Qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ao(t,e){return new Xe(Qe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ao(t){throw new Xe(Qe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zt.makeFromUrl(e,n)}catch{return new Zt(e,"")}if(r.path==="")return r;throw ck(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",T=new RegExp(`^https?://${p}/${d}/b/${i}/o${v}`,"i"),A={bucket:1,path:3},R=n===lw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",y=new RegExp(`^https?://${R}/${i}/${N}`,"i"),g=[{regex:l,indices:u,postModify:s},{regex:T,indices:A,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<g.length;C++){const O=g[C],V=O.regex.exec(e);if(V){const S=V[O.indices.bucket];let _=V[O.indices.path];_||(_=""),r=new Zt(S,_),O.postModify(r);break}}if(r==null)throw uk(e);return r}}class gk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function u(){return l===2}let c=!1;function d(...N){c||(c=!0,e.apply(null,N))}function p(N){i=setTimeout(()=>{i=null,t(T,u())},N)}function v(){s&&clearTimeout(s)}function T(N,...y){if(c){v();return}if(N){v(),d.call(null,N,...y);return}if(u()||o){v(),d.call(null,N,...y);return}r<64&&(r*=2);let g;l===1?(l=2,g=0):g=(r+Math.random())*1e3,p(g)}let A=!1;function R(N){A||(A=!0,v(),!c&&(i!==null?(N||(l=2),clearTimeout(i),p(0)):N||(l=1)))}return p(0),s=setTimeout(()=>{o=!0,R(!0)},n),R}function vk(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t){return t!==void 0}function wk(t){return typeof t=="object"&&!Array.isArray(t)}function Wf(t){return typeof t=="string"||t instanceof String}function sy(t){return Hf()&&t instanceof Blob}function Hf(){return typeof Blob<"u"}function oy(t,e,n,r){if(r<e)throw gh(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gh(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function dw(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fi||(fi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r,i,s,o,l,u,c,d,p,v=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=p,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,A)=>{this.resolve_=T,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ul(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===fi.NO_ERROR,u=s.getStatus();if(!l||Ek(u,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===fi.ABORT;r(!1,new ul(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new ul(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());_k(u)?s(u):s()}catch(u){o(u)}else if(l!==null){const u=qf();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?cw():lk();o(u)}else{const u=ak();o(u)}};this.canceled_?n(!1,new ul(!1,null,!0)):this.backoffId_=yk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ul{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ik(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xk(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bk(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Sk(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ck(t,e,n,r,i,s,o=!0){const l=dw(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return bk(c,e),Ik(c,n),xk(c,s),Sk(c,r),new Tk(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ak(...t){const e=kk();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Hf())return new Blob(t);throw new Xe(Qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Pk(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){if(typeof atob>"u")throw pk("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class od{constructor(e,n){this.data=e,this.contentType=n||null}}function Nk(t,e){switch(t){case Rn.RAW:return new od(hw(e));case Rn.BASE64:case Rn.BASE64URL:return new od(fw(t,e));case Rn.DATA_URL:return new od(Dk(e),Lk(e))}throw qf()}function hw(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Ok(t){let e;try{e=decodeURIComponent(t)}catch{throw Ao(Rn.DATA_URL,"Malformed data URL.")}return hw(e)}function fw(t,e){switch(t){case Rn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ao(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Rn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ao(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Rk(e)}catch(i){throw i.message.includes("polyfill")?i:Ao(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class pw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ao(Rn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=jk(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Dk(t){const e=new pw(t);return e.base64?fw(Rn.BASE64,e.rest):Ok(e.rest)}function Lk(t){return new pw(t).contentType}function jk(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){let r=0,i="";sy(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(sy(this.data_)){const r=this.data_,i=Pk(r,e,n);return i===null?null:new Er(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Er(r,!0)}}static getBlob(...e){if(Hf()){const n=e.map(r=>r instanceof Er?r.data_:r);return new Er(Ak.apply(null,n))}else{const n=e.map(o=>Wf(o)?Nk(Rn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new Er(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t){let e;try{e=JSON.parse(t)}catch{return null}return wk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Vk(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function gw(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t,e){return e}class Lt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Uk}}let cl=null;function Fk(t){return!Wf(t)||t.length<2?t:gw(t)}function yw(){if(cl)return cl;const t=[];t.push(new Lt("bucket")),t.push(new Lt("generation")),t.push(new Lt("metageneration")),t.push(new Lt("name","fullPath",!0));function e(s,o){return Fk(o)}const n=new Lt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Lt("size");return i.xform=r,t.push(i),t.push(new Lt("timeCreated")),t.push(new Lt("updated")),t.push(new Lt("md5Hash",null,!0)),t.push(new Lt("cacheControl",null,!0)),t.push(new Lt("contentDisposition",null,!0)),t.push(new Lt("contentEncoding",null,!0)),t.push(new Lt("contentLanguage",null,!0)),t.push(new Lt("contentType",null,!0)),t.push(new Lt("metadata","customMetadata",!0)),cl=t,cl}function Bk(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Zt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function zk(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Bk(r,t),r}function vw(t,e,n){const r=mw(e);return r===null?null:zk(t,r,n)}function $k(t,e,n,r){const i=mw(e);if(i===null||!Wf(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,p=t.fullPath,v="/b/"+o(d)+"/o/"+o(p),T=Kf(v,n,r),A=dw({alt:"media",token:c});return T+A})[0]}function qk(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class _w{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t){if(!t)throw qf()}function Wk(t,e){function n(r,i){const s=vw(t,i,e);return ww(s!==null),s}return n}function Hk(t,e){function n(r,i){const s=vw(t,i,e);return ww(s!==null),$k(s,i,t.host,t._protocol)}return n}function Ew(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=sk():i=ik():n.getStatus()===402?i=rk(t.bucket):n.getStatus()===403?i=ok(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Kk(t){const e=Ew(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=nk(t.path)),s.serverResponse=i.serverResponse,s}return n}function Gk(t,e,n){const r=e.fullServerUrl(),i=Kf(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new _w(i,s,Hk(t,n),o);return l.errorHandler=Kk(e),l}function Qk(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Xk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Qk(null,e)),r}function Yk(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let g="";for(let C=0;C<2;C++)g=g+Math.random().toString().slice(2);return g}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const c=Xk(e,r,i),d=qk(c,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,v=`\r
--`+u+"--",T=Er.getBlob(p,r,v);if(T===null)throw hk();const A={name:c.fullPath},R=Kf(s,t.host,t._protocol),N="POST",y=t.maxUploadRetryTime,w=new _w(R,N,Wk(t,n),y);return w.urlParams=A,w.headers=o,w.body=T.uploadData(),w.errorHandler=Ew(e),w}class Jk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ao("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ao("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ao("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ao("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ao("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Zk extends Jk{initXhr(){this.xhr_.responseType="text"}}function Tw(){return new Zk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){this._service=e,n instanceof Zt?this._location=n:this._location=Zt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xi(e,n)}get root(){const e=new Zt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gw(this._location.path)}get storage(){return this._service}get parent(){const e=Mk(this._location.path);if(e===null)return null;const n=new Zt(this._location.bucket,e);return new xi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mk(e)}}function eA(t,e,n){t._throwIfRoot("uploadBytes");const r=Yk(t.storage,t._location,yw(),new Er(e,!0),n);return t.storage.makeRequestWithTokens(r,Tw).then(i=>({metadata:i,ref:t}))}function tA(t){t._throwIfRoot("getDownloadURL");const e=Gk(t.storage,t._location,yw());return t.storage.makeRequestWithTokens(e,Tw).then(n=>{if(n===null)throw fk();return n})}function nA(t,e){const n=Vk(t._location.path,e),r=new Zt(t._location.bucket,n);return new xi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){return/^[A-Za-z]+:\/\//.test(t)}function iA(t,e){return new xi(t,e)}function Iw(t,e){if(t instanceof Gf){const n=t;if(n._bucket==null)throw dk();const r=new xi(n,n._bucket);return e!=null?Iw(r,e):r}else return e!==void 0?nA(t,e):t}function sA(t,e){if(e&&rA(e)){if(t instanceof Gf)return iA(t,e);throw gh("To use ref(service, url), the first argument must be a Storage instance.")}else return Iw(t,e)}function ay(t,e){const n=e==null?void 0:e[uw];return n==null?null:Zt.makeFromBucketSpec(n,t)}function oA(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:I0(i,t.app.options.projectId))}class Gf{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=lw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ek,this._maxUploadRetryTime=tk,this._requests=new Set,i!=null?this._bucket=Zt.makeFromBucketSpec(i,this._host):this._bucket=ay(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zt.makeFromBucketSpec(this._url,e):this._bucket=ay(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xi(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new gk(cw());{const o=Ck(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ly="@firebase/storage",uy="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="storage";function bw(t,e,n){return t=Ze(t),eA(t,e,n)}function Sw(t){return t=Ze(t),tA(t)}function Cw(t,e){return t=Ze(t),sA(t,e)}function aA(t=Df(),e){t=Ze(t);const r=$u(t,xw).getImmediate({identifier:e}),i=w0("storage");return i&&lA(r,...i),r}function lA(t,e,n,r={}){oA(t,e,n,r)}function uA(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Gf(n,r,i,e,Ri)}function cA(){Ei(new Br(xw,uA,"PUBLIC").setMultipleInstances(!0)),Dn(ly,uy,""),Dn(ly,uy,"esm2017")}cA();var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pi,kw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,_){function E(){}E.prototype=_.prototype,S.D=_.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(b,k,P){for(var I=Array(arguments.length-2),X=2;X<arguments.length;X++)I[X-2]=arguments[X];return _.prototype[k].apply(b,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,_,E){E||(E=0);var b=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)b[k]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(k=0;16>k;++k)b[k]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=S.g[0],E=S.g[1],k=S.g[2];var P=S.g[3],I=_+(P^E&(k^P))+b[0]+3614090360&4294967295;_=E+(I<<7&4294967295|I>>>25),I=P+(k^_&(E^k))+b[1]+3905402710&4294967295,P=_+(I<<12&4294967295|I>>>20),I=k+(E^P&(_^E))+b[2]+606105819&4294967295,k=P+(I<<17&4294967295|I>>>15),I=E+(_^k&(P^_))+b[3]+3250441966&4294967295,E=k+(I<<22&4294967295|I>>>10),I=_+(P^E&(k^P))+b[4]+4118548399&4294967295,_=E+(I<<7&4294967295|I>>>25),I=P+(k^_&(E^k))+b[5]+1200080426&4294967295,P=_+(I<<12&4294967295|I>>>20),I=k+(E^P&(_^E))+b[6]+2821735955&4294967295,k=P+(I<<17&4294967295|I>>>15),I=E+(_^k&(P^_))+b[7]+4249261313&4294967295,E=k+(I<<22&4294967295|I>>>10),I=_+(P^E&(k^P))+b[8]+1770035416&4294967295,_=E+(I<<7&4294967295|I>>>25),I=P+(k^_&(E^k))+b[9]+2336552879&4294967295,P=_+(I<<12&4294967295|I>>>20),I=k+(E^P&(_^E))+b[10]+4294925233&4294967295,k=P+(I<<17&4294967295|I>>>15),I=E+(_^k&(P^_))+b[11]+2304563134&4294967295,E=k+(I<<22&4294967295|I>>>10),I=_+(P^E&(k^P))+b[12]+1804603682&4294967295,_=E+(I<<7&4294967295|I>>>25),I=P+(k^_&(E^k))+b[13]+4254626195&4294967295,P=_+(I<<12&4294967295|I>>>20),I=k+(E^P&(_^E))+b[14]+2792965006&4294967295,k=P+(I<<17&4294967295|I>>>15),I=E+(_^k&(P^_))+b[15]+1236535329&4294967295,E=k+(I<<22&4294967295|I>>>10),I=_+(k^P&(E^k))+b[1]+4129170786&4294967295,_=E+(I<<5&4294967295|I>>>27),I=P+(E^k&(_^E))+b[6]+3225465664&4294967295,P=_+(I<<9&4294967295|I>>>23),I=k+(_^E&(P^_))+b[11]+643717713&4294967295,k=P+(I<<14&4294967295|I>>>18),I=E+(P^_&(k^P))+b[0]+3921069994&4294967295,E=k+(I<<20&4294967295|I>>>12),I=_+(k^P&(E^k))+b[5]+3593408605&4294967295,_=E+(I<<5&4294967295|I>>>27),I=P+(E^k&(_^E))+b[10]+38016083&4294967295,P=_+(I<<9&4294967295|I>>>23),I=k+(_^E&(P^_))+b[15]+3634488961&4294967295,k=P+(I<<14&4294967295|I>>>18),I=E+(P^_&(k^P))+b[4]+3889429448&4294967295,E=k+(I<<20&4294967295|I>>>12),I=_+(k^P&(E^k))+b[9]+568446438&4294967295,_=E+(I<<5&4294967295|I>>>27),I=P+(E^k&(_^E))+b[14]+3275163606&4294967295,P=_+(I<<9&4294967295|I>>>23),I=k+(_^E&(P^_))+b[3]+4107603335&4294967295,k=P+(I<<14&4294967295|I>>>18),I=E+(P^_&(k^P))+b[8]+1163531501&4294967295,E=k+(I<<20&4294967295|I>>>12),I=_+(k^P&(E^k))+b[13]+2850285829&4294967295,_=E+(I<<5&4294967295|I>>>27),I=P+(E^k&(_^E))+b[2]+4243563512&4294967295,P=_+(I<<9&4294967295|I>>>23),I=k+(_^E&(P^_))+b[7]+1735328473&4294967295,k=P+(I<<14&4294967295|I>>>18),I=E+(P^_&(k^P))+b[12]+2368359562&4294967295,E=k+(I<<20&4294967295|I>>>12),I=_+(E^k^P)+b[5]+4294588738&4294967295,_=E+(I<<4&4294967295|I>>>28),I=P+(_^E^k)+b[8]+2272392833&4294967295,P=_+(I<<11&4294967295|I>>>21),I=k+(P^_^E)+b[11]+1839030562&4294967295,k=P+(I<<16&4294967295|I>>>16),I=E+(k^P^_)+b[14]+4259657740&4294967295,E=k+(I<<23&4294967295|I>>>9),I=_+(E^k^P)+b[1]+2763975236&4294967295,_=E+(I<<4&4294967295|I>>>28),I=P+(_^E^k)+b[4]+1272893353&4294967295,P=_+(I<<11&4294967295|I>>>21),I=k+(P^_^E)+b[7]+4139469664&4294967295,k=P+(I<<16&4294967295|I>>>16),I=E+(k^P^_)+b[10]+3200236656&4294967295,E=k+(I<<23&4294967295|I>>>9),I=_+(E^k^P)+b[13]+681279174&4294967295,_=E+(I<<4&4294967295|I>>>28),I=P+(_^E^k)+b[0]+3936430074&4294967295,P=_+(I<<11&4294967295|I>>>21),I=k+(P^_^E)+b[3]+3572445317&4294967295,k=P+(I<<16&4294967295|I>>>16),I=E+(k^P^_)+b[6]+76029189&4294967295,E=k+(I<<23&4294967295|I>>>9),I=_+(E^k^P)+b[9]+3654602809&4294967295,_=E+(I<<4&4294967295|I>>>28),I=P+(_^E^k)+b[12]+3873151461&4294967295,P=_+(I<<11&4294967295|I>>>21),I=k+(P^_^E)+b[15]+530742520&4294967295,k=P+(I<<16&4294967295|I>>>16),I=E+(k^P^_)+b[2]+3299628645&4294967295,E=k+(I<<23&4294967295|I>>>9),I=_+(k^(E|~P))+b[0]+4096336452&4294967295,_=E+(I<<6&4294967295|I>>>26),I=P+(E^(_|~k))+b[7]+1126891415&4294967295,P=_+(I<<10&4294967295|I>>>22),I=k+(_^(P|~E))+b[14]+2878612391&4294967295,k=P+(I<<15&4294967295|I>>>17),I=E+(P^(k|~_))+b[5]+4237533241&4294967295,E=k+(I<<21&4294967295|I>>>11),I=_+(k^(E|~P))+b[12]+1700485571&4294967295,_=E+(I<<6&4294967295|I>>>26),I=P+(E^(_|~k))+b[3]+2399980690&4294967295,P=_+(I<<10&4294967295|I>>>22),I=k+(_^(P|~E))+b[10]+4293915773&4294967295,k=P+(I<<15&4294967295|I>>>17),I=E+(P^(k|~_))+b[1]+2240044497&4294967295,E=k+(I<<21&4294967295|I>>>11),I=_+(k^(E|~P))+b[8]+1873313359&4294967295,_=E+(I<<6&4294967295|I>>>26),I=P+(E^(_|~k))+b[15]+4264355552&4294967295,P=_+(I<<10&4294967295|I>>>22),I=k+(_^(P|~E))+b[6]+2734768916&4294967295,k=P+(I<<15&4294967295|I>>>17),I=E+(P^(k|~_))+b[13]+1309151649&4294967295,E=k+(I<<21&4294967295|I>>>11),I=_+(k^(E|~P))+b[4]+4149444226&4294967295,_=E+(I<<6&4294967295|I>>>26),I=P+(E^(_|~k))+b[11]+3174756917&4294967295,P=_+(I<<10&4294967295|I>>>22),I=k+(_^(P|~E))+b[2]+718787259&4294967295,k=P+(I<<15&4294967295|I>>>17),I=E+(P^(k|~_))+b[9]+3951481745&4294967295,S.g[0]=S.g[0]+_&4294967295,S.g[1]=S.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,_){_===void 0&&(_=S.length);for(var E=_-this.blockSize,b=this.B,k=this.h,P=0;P<_;){if(k==0)for(;P<=E;)i(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<_;)if(b[k++]=S.charCodeAt(P++),k==this.blockSize){i(this,b),k=0;break}}else for(;P<_;)if(b[k++]=S[P++],k==this.blockSize){i(this,b),k=0;break}}this.h=k,this.o+=_},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var _=1;_<S.length-8;++_)S[_]=0;var E=8*this.o;for(_=S.length-8;_<S.length;++_)S[_]=E&255,E/=256;for(this.u(S),S=Array(16),_=E=0;4>_;++_)for(var b=0;32>b;b+=8)S[E++]=this.g[_]>>>b&255;return S};function s(S,_){var E=l;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=_(S)}function o(S,_){this.h=_;for(var E=[],b=!0,k=S.length-1;0<=k;k--){var P=S[k]|0;b&&P==_||(E[k]=P,b=!1)}this.g=E}var l={};function u(S){return-128<=S&&128>S?s(S,function(_){return new o([_|0],0>_?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return N(c(-S));for(var _=[],E=1,b=0;S>=E;b++)_[b]=S/E|0,E*=4294967296;return new o(_,0)}function d(S,_){if(S.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(S.charAt(0)=="-")return N(d(S.substring(1),_));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(_,8)),b=p,k=0;k<S.length;k+=8){var P=Math.min(8,S.length-k),I=parseInt(S.substring(k,k+P),_);8>P?(P=c(Math.pow(_,P)),b=b.j(P).add(c(I))):(b=b.j(E),b=b.add(c(I)))}return b}var p=u(0),v=u(1),T=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-N(this).m();for(var S=0,_=1,E=0;E<this.g.length;E++){var b=this.i(E);S+=(0<=b?b:4294967296+b)*_,_*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A(this))return"0";if(R(this))return"-"+N(this).toString(S);for(var _=c(Math.pow(S,6)),E=this,b="";;){var k=C(E,_).g;E=y(E,k.j(_));var P=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=k,A(E))return P+b;for(;6>P.length;)P="0"+P;b=P+b}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function A(S){if(S.h!=0)return!1;for(var _=0;_<S.g.length;_++)if(S.g[_]!=0)return!1;return!0}function R(S){return S.h==-1}t.l=function(S){return S=y(this,S),R(S)?-1:A(S)?0:1};function N(S){for(var _=S.g.length,E=[],b=0;b<_;b++)E[b]=~S.g[b];return new o(E,~S.h).add(v)}t.abs=function(){return R(this)?N(this):this},t.add=function(S){for(var _=Math.max(this.g.length,S.g.length),E=[],b=0,k=0;k<=_;k++){var P=b+(this.i(k)&65535)+(S.i(k)&65535),I=(P>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);b=I>>>16,P&=65535,I&=65535,E[k]=I<<16|P}return new o(E,E[E.length-1]&-2147483648?-1:0)};function y(S,_){return S.add(N(_))}t.j=function(S){if(A(this)||A(S))return p;if(R(this))return R(S)?N(this).j(N(S)):N(N(this).j(S));if(R(S))return N(this.j(N(S)));if(0>this.l(T)&&0>S.l(T))return c(this.m()*S.m());for(var _=this.g.length+S.g.length,E=[],b=0;b<2*_;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(var k=0;k<S.g.length;k++){var P=this.i(b)>>>16,I=this.i(b)&65535,X=S.i(k)>>>16,te=S.i(k)&65535;E[2*b+2*k]+=I*te,w(E,2*b+2*k),E[2*b+2*k+1]+=P*te,w(E,2*b+2*k+1),E[2*b+2*k+1]+=I*X,w(E,2*b+2*k+1),E[2*b+2*k+2]+=P*X,w(E,2*b+2*k+2)}for(b=0;b<_;b++)E[b]=E[2*b+1]<<16|E[2*b];for(b=_;b<2*_;b++)E[b]=0;return new o(E,0)};function w(S,_){for(;(S[_]&65535)!=S[_];)S[_+1]+=S[_]>>>16,S[_]&=65535,_++}function g(S,_){this.g=S,this.h=_}function C(S,_){if(A(_))throw Error("division by zero");if(A(S))return new g(p,p);if(R(S))return _=C(N(S),_),new g(N(_.g),N(_.h));if(R(_))return _=C(S,N(_)),new g(N(_.g),_.h);if(30<S.g.length){if(R(S)||R(_))throw Error("slowDivide_ only works with positive integers.");for(var E=v,b=_;0>=b.l(S);)E=O(E),b=O(b);var k=V(E,1),P=V(b,1);for(b=V(b,2),E=V(E,2);!A(b);){var I=P.add(b);0>=I.l(S)&&(k=k.add(E),P=I),b=V(b,1),E=V(E,1)}return _=y(S,k.j(_)),new g(k,_)}for(k=p;0<=S.l(_);){for(E=Math.max(1,Math.floor(S.m()/_.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),P=c(E),I=P.j(_);R(I)||0<I.l(S);)E-=b,P=c(E),I=P.j(_);A(P)&&(P=v),k=k.add(P),S=y(S,I)}return new g(k,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var _=Math.max(this.g.length,S.g.length),E=[],b=0;b<_;b++)E[b]=this.i(b)&S.i(b);return new o(E,this.h&S.h)},t.or=function(S){for(var _=Math.max(this.g.length,S.g.length),E=[],b=0;b<_;b++)E[b]=this.i(b)|S.i(b);return new o(E,this.h|S.h)},t.xor=function(S){for(var _=Math.max(this.g.length,S.g.length),E=[],b=0;b<_;b++)E[b]=this.i(b)^S.i(b);return new o(E,this.h^S.h)};function O(S){for(var _=S.g.length+1,E=[],b=0;b<_;b++)E[b]=S.i(b)<<1|S.i(b-1)>>>31;return new o(E,S.h)}function V(S,_){var E=_>>5;_%=32;for(var b=S.g.length-E,k=[],P=0;P<b;P++)k[P]=0<_?S.i(P+E)>>>_|S.i(P+E+1)<<32-_:S.i(P+E);return new o(k,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,pi=o}).apply(typeof cy<"u"?cy:typeof self<"u"?self:typeof window<"u"?window:{});var dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Aw,Pw,go,Rw,Nl,yh,Nw,Ow,Dw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,m){return a==Array.prototype||a==Object.prototype||(a[h]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof dl=="object"&&dl];for(var h=0;h<a.length;++h){var m=a[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var m=r;a=a.split(".");for(var x=0;x<a.length-1;x++){var j=a[x];if(!(j in m))break e;m=m[j]}a=a[a.length-1],x=m[a],h=h(x),h!=x&&h!=null&&e(m,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var m=0,x=!1,j={next:function(){if(!x&&m<a.length){var z=m++;return{value:h(z,a[z]),done:!1}}return x=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,m){return a.call.apply(a.bind,arguments)}function p(a,h,m){if(!a)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,x),a.apply(h,j)}}return function(){return a.apply(h,arguments)}}function v(a,h,m){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,v.apply(null,arguments)}function T(a,h){var m=Array.prototype.slice.call(arguments,1);return function(){var x=m.slice();return x.push.apply(x,arguments),a.apply(this,x)}}function A(a,h){function m(){}m.prototype=h.prototype,a.aa=h.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(x,j,z){for(var J=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)J[Re-2]=arguments[Re];return h.prototype[j].apply(x,J)}}function R(a){const h=a.length;if(0<h){const m=Array(h);for(let x=0;x<h;x++)m[x]=a[x];return m}return[]}function N(a,h){for(let m=1;m<arguments.length;m++){const x=arguments[m];if(u(x)){const j=a.length||0,z=x.length||0;a.length=j+z;for(let J=0;J<z;J++)a[j+J]=x[J]}else a.push(x)}}class y{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function w(a){return/^[\s\xa0]*$/.test(a)}function g(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function C(a){return C[" "](a),a}C[" "]=function(){};var O=g().indexOf("Gecko")!=-1&&!(g().toLowerCase().indexOf("webkit")!=-1&&g().indexOf("Edge")==-1)&&!(g().indexOf("Trident")!=-1||g().indexOf("MSIE")!=-1)&&g().indexOf("Edge")==-1;function V(a,h,m){for(const x in a)h.call(m,a[x],x,a)}function S(a,h){for(const m in a)h.call(void 0,a[m],m,a)}function _(a){const h={};for(const m in a)h[m]=a[m];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(a,h){let m,x;for(let j=1;j<arguments.length;j++){x=arguments[j];for(m in x)a[m]=x[m];for(let z=0;z<E.length;z++)m=E[z],Object.prototype.hasOwnProperty.call(x,m)&&(a[m]=x[m])}}function k(a){var h=1;a=a.split(":");const m=[];for(;0<h&&a.length;)m.push(a.shift()),h--;return a.length&&m.push(a.join(":")),m}function P(a){l.setTimeout(()=>{throw a},0)}function I(){var a=q;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class X{constructor(){this.h=this.g=null}add(h,m){const x=te.get();x.set(h,m),this.h?this.h.next=x:this.g=x,this.h=x}}var te=new y(()=>new ve,a=>a.reset());class ve{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,K=!1,q=new X,U=()=>{const a=l.Promise.resolve(void 0);Ae=()=>{a.then(Z)}};var Z=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(m){P(m)}var h=te;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}K=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,h),l.removeEventListener("test",m,h)}catch{}return a}();function ge(a,h){if(ee.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,x=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(O){e:{try{C(h.nodeName);var j=!0;break e}catch{}j=!1}j||(h=null)}}else m=="mouseover"?h=a.fromElement:m=="mouseout"&&(h=a.toElement);this.relatedTarget=h,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ce[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ge.aa.h.call(this)}}A(ge,ee);var ce={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function M(a,h,m,x,j){this.listener=a,this.proxy=null,this.src=h,this.type=m,this.capture=!!x,this.ha=j,this.key=++Ye,this.da=this.fa=!1}function D(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function L(a){this.src=a,this.g={},this.h=0}L.prototype.add=function(a,h,m,x,j){var z=a.toString();a=this.g[z],a||(a=this.g[z]=[],this.h++);var J=$(a,h,x,j);return-1<J?(h=a[J],m||(h.fa=!1)):(h=new M(h,this.src,z,!!x,j),h.fa=m,a.push(h)),h};function F(a,h){var m=h.type;if(m in a.g){var x=a.g[m],j=Array.prototype.indexOf.call(x,h,void 0),z;(z=0<=j)&&Array.prototype.splice.call(x,j,1),z&&(D(h),a.g[m].length==0&&(delete a.g[m],a.h--))}}function $(a,h,m,x){for(var j=0;j<a.length;++j){var z=a[j];if(!z.da&&z.listener==h&&z.capture==!!m&&z.ha==x)return j}return-1}var ne="closure_lm_"+(1e6*Math.random()|0),Y={};function de(a,h,m,x,j){if(Array.isArray(h)){for(var z=0;z<h.length;z++)de(a,h[z],m,x,j);return null}return m=Gt(m),a&&a[re]?a.K(h,m,c(x)?!!x.capture:!!x,j):_e(a,h,m,!1,x,j)}function _e(a,h,m,x,j,z){if(!h)throw Error("Invalid event type");var J=c(j)?!!j.capture:!!j,Re=et(a);if(Re||(a[ne]=Re=new L(a)),m=Re.add(h,m,x,J,z),m.proxy)return m;if(x=ye(),m.proxy=x,x.src=a,x.listener=m,a.addEventListener)ue||(j=J),j===void 0&&(j=!1),a.addEventListener(h.toString(),x,j);else if(a.attachEvent)a.attachEvent(De(h.toString()),x);else if(a.addListener&&a.removeListener)a.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ye(){function a(m){return h.call(a.src,a.listener,m)}const h=ze;return a}function ae(a,h,m,x,j){if(Array.isArray(h))for(var z=0;z<h.length;z++)ae(a,h[z],m,x,j);else x=c(x)?!!x.capture:!!x,m=Gt(m),a&&a[re]?(a=a.i,h=String(h).toString(),h in a.g&&(z=a.g[h],m=$(z,m,x,j),-1<m&&(D(z[m]),Array.prototype.splice.call(z,m,1),z.length==0&&(delete a.g[h],a.h--)))):a&&(a=et(a))&&(h=a.g[h.toString()],a=-1,h&&(a=$(h,m,x,j)),(m=-1<a?h[a]:null)&&we(m))}function we(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[re])F(h.i,a);else{var m=a.type,x=a.proxy;h.removeEventListener?h.removeEventListener(m,x,a.capture):h.detachEvent?h.detachEvent(De(m),x):h.addListener&&h.removeListener&&h.removeListener(x),(m=et(h))?(F(m,a),m.h==0&&(m.src=null,h[ne]=null)):D(a)}}}function De(a){return a in Y?Y[a]:Y[a]="on"+a}function ze(a,h){if(a.da)a=!0;else{h=new ge(h,this);var m=a.listener,x=a.ha||a.src;a.fa&&we(a),a=m.call(x,h)}return a}function et(a){return a=a[ne],a instanceof L?a:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gt(a){return typeof a=="function"?a:(a[Ft]||(a[Ft]=function(h){return a.handleEvent(h)}),a[Ft])}function Fe(){G.call(this),this.i=new L(this),this.M=this,this.F=null}A(Fe,G),Fe.prototype[re]=!0,Fe.prototype.removeEventListener=function(a,h,m,x){ae(this,a,h,m,x)};function ft(a,h){var m,x=a.F;if(x)for(m=[];x;x=x.F)m.push(x);if(a=a.M,x=h.type||h,typeof h=="string")h=new ee(h,a);else if(h instanceof ee)h.target=h.target||a;else{var j=h;h=new ee(x,a),b(h,j)}if(j=!0,m)for(var z=m.length-1;0<=z;z--){var J=h.g=m[z];j=ut(J,x,!0,h)&&j}if(J=h.g=a,j=ut(J,x,!0,h)&&j,j=ut(J,x,!1,h)&&j,m)for(z=0;z<m.length;z++)J=h.g=m[z],j=ut(J,x,!1,h)&&j}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var m=a.g[h],x=0;x<m.length;x++)D(m[x]);delete a.g[h],a.h--}}this.F=null},Fe.prototype.K=function(a,h,m,x){return this.i.add(String(a),h,!1,m,x)},Fe.prototype.L=function(a,h,m,x){return this.i.add(String(a),h,!0,m,x)};function ut(a,h,m,x){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var j=!0,z=0;z<h.length;++z){var J=h[z];if(J&&!J.da&&J.capture==m){var Re=J.listener,pt=J.ha||J.src;J.fa&&F(a.i,J),j=Re.call(pt,x)!==!1&&j}}return j&&!x.defaultPrevented}function Se(a,h,m){if(typeof a=="function")m&&(a=v(a,m));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Le(a){a.g=Se(()=>{a.g=null,a.i&&(a.i=!1,Le(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Bt extends G{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(a){G.call(this),this.h=a,this.g={}}A(Qt,G);var ar=[];function Jr(a){V(a.g,function(h,m){this.g.hasOwnProperty(m)&&we(h)},a),a.g={}}Qt.prototype.N=function(){Qt.aa.N.call(this),Jr(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ot=l.JSON.stringify,Tt=l.JSON.parse,hc=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Zr(){}Zr.prototype.h=null;function Aa(a){return a.h||(a.h=a.i())}function fc(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pa(){ee.call(this,"d")}A(Pa,ee);function Fs(){ee.call(this,"c")}A(Fs,ee);var ei={},Np=null;function Ra(){return Np=Np||new Fe}ei.La="serverreachability";function Op(a){ee.call(this,ei.La,a)}A(Op,ee);function Bs(a){const h=Ra();ft(h,new Op(h))}ei.STAT_EVENT="statevent";function Dp(a,h){ee.call(this,ei.STAT_EVENT,a),this.stat=h}A(Dp,ee);function Dt(a){const h=Ra();ft(h,new Dp(h,a))}ei.Ma="timingevent";function Lp(a,h){ee.call(this,ei.Ma,a),this.size=h}A(Lp,ee);function zs(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function $s(){this.g=!0}$s.prototype.xa=function(){this.g=!1};function fT(a,h,m,x,j,z){a.info(function(){if(a.g)if(z)for(var J="",Re=z.split("&"),pt=0;pt<Re.length;pt++){var Ce=Re[pt].split("=");if(1<Ce.length){var It=Ce[0];Ce=Ce[1];var xt=It.split("_");J=2<=xt.length&&xt[1]=="type"?J+(It+"="+Ce+"&"):J+(It+"=redacted&")}}else J=null;else J=z;return"XMLHTTP REQ ("+x+") [attempt "+j+"]: "+h+`
`+m+`
`+J})}function pT(a,h,m,x,j,z,J){a.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+j+"]: "+h+`
`+m+`
`+z+" "+J})}function Ui(a,h,m,x){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+gT(a,m)+(x?" "+x:"")})}function mT(a,h){a.info(function(){return"TIMEOUT: "+h})}$s.prototype.info=function(){};function gT(a,h){if(!a.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var x=m[a];if(!(2>x.length)){var j=x[1];if(Array.isArray(j)&&!(1>j.length)){var z=j[0];if(z!="noop"&&z!="stop"&&z!="close")for(var J=1;J<j.length;J++)j[J]=""}}}}return Ot(m)}catch{return h}}var Na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pc;function Oa(){}A(Oa,Zr),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},pc=new Oa;function lr(a,h,m,x){this.j=a,this.i=h,this.l=m,this.R=x||1,this.U=new Qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mp}function Mp(){this.i=null,this.g="",this.h=!1}var Vp={},mc={};function gc(a,h,m){a.L=1,a.v=Ma(zn(h)),a.m=m,a.P=!0,Up(a,null)}function Up(a,h){a.F=Date.now(),Da(a),a.A=zn(a.v);var m=a.A,x=a.R;Array.isArray(x)||(x=[String(x)]),Zp(m.i,"t",x),a.C=0,m=a.j.J,a.h=new Mp,a.g=ym(a.j,m?h:null,!a.m),0<a.O&&(a.M=new Bt(v(a.Y,a,a.g),a.O)),h=a.U,m=a.g,x=a.ca;var j="readystatechange";Array.isArray(j)||(j&&(ar[0]=j.toString()),j=ar);for(var z=0;z<j.length;z++){var J=de(m,j[z],x||h.handleEvent,!1,h.h||h);if(!J)break;h.g[J.key]=J}h=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Bs(),fT(a.i,a.u,a.A,a.l,a.R,a.m)}lr.prototype.ca=function(a){a=a.target;const h=this.M;h&&$n(a)==3?h.j():this.Y(a)},lr.prototype.Y=function(a){try{if(a==this.g)e:{const xt=$n(this.g);var h=this.g.Ba();const zi=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||om(this.g)))){this.J||xt!=4||h==7||(h==8||0>=zi?Bs(3):Bs(2)),yc(this);var m=this.g.Z();this.X=m;t:if(Fp(this)){var x=om(this.g);a="";var j=x.length,z=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ti(this),qs(this);var J="";break t}this.h.i=new l.TextDecoder}for(h=0;h<j;h++)this.h.h=!0,a+=this.h.i.decode(x[h],{stream:!(z&&h==j-1)});x.length=0,this.h.g+=a,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=m==200,pT(this.i,this.u,this.A,this.l,this.R,xt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,pt=this.g;if((Re=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Re)){var Ce=Re;break t}}Ce=null}if(m=Ce)Ui(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vc(this,m);else{this.o=!1,this.s=3,Dt(12),ti(this),qs(this);break e}}if(this.P){m=!0;let pn;for(;!this.J&&this.C<J.length;)if(pn=yT(this,J),pn==mc){xt==4&&(this.s=4,Dt(14),m=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Vp){this.s=4,Dt(15),Ui(this.i,this.l,J,"[Invalid Chunk]"),m=!1;break}else Ui(this.i,this.l,pn,null),vc(this,pn);if(Fp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||J.length!=0||this.h.h||(this.s=1,Dt(16),m=!1),this.o=this.o&&m,!m)Ui(this.i,this.l,J,"[Invalid Chunked Response]"),ti(this),qs(this);else if(0<J.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),xc(It),It.M=!0,Dt(11))}}else Ui(this.i,this.l,J,null),vc(this,J);xt==4&&ti(this),this.o&&!this.J&&(xt==4?fm(this.j,this):(this.o=!1,Da(this)))}else DT(this.g),m==400&&0<J.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),ti(this),qs(this)}}}catch{}finally{}};function Fp(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function yT(a,h){var m=a.C,x=h.indexOf(`
`,m);return x==-1?mc:(m=Number(h.substring(m,x)),isNaN(m)?Vp:(x+=1,x+m>h.length?mc:(h=h.slice(x,x+m),a.C=x+m,h)))}lr.prototype.cancel=function(){this.J=!0,ti(this)};function Da(a){a.S=Date.now()+a.I,Bp(a,a.I)}function Bp(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=zs(v(a.ba,a),h)}function yc(a){a.B&&(l.clearTimeout(a.B),a.B=null)}lr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(mT(this.i,this.A),this.L!=2&&(Bs(),Dt(17)),ti(this),this.s=2,qs(this)):Bp(this,this.S-a)};function qs(a){a.j.G==0||a.J||fm(a.j,a)}function ti(a){yc(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Jr(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function vc(a,h){try{var m=a.j;if(m.G!=0&&(m.g==a||_c(m.h,a))){if(!a.K&&_c(m.h,a)&&m.G==3){try{var x=m.Da.g.parse(h)}catch{x=null}if(Array.isArray(x)&&x.length==3){var j=x;if(j[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)za(m),Fa(m);else break e;Ic(m),Dt(18)}}else m.za=j[1],0<m.za-m.T&&37500>j[2]&&m.F&&m.v==0&&!m.C&&(m.C=zs(v(m.Za,m),6e3));if(1>=qp(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ri(m,11)}else if((a.K||m.g==a)&&za(m),!w(h))for(j=m.Da.g.parse(h),h=0;h<j.length;h++){let Ce=j[h];if(m.T=Ce[0],Ce=Ce[1],m.G==2)if(Ce[0]=="c"){m.K=Ce[1],m.ia=Ce[2];const It=Ce[3];It!=null&&(m.la=It,m.j.info("VER="+m.la));const xt=Ce[4];xt!=null&&(m.Aa=xt,m.j.info("SVER="+m.Aa));const zi=Ce[5];zi!=null&&typeof zi=="number"&&0<zi&&(x=1.5*zi,m.L=x,m.j.info("backChannelRequestTimeoutMs_="+x)),x=m;const pn=a.g;if(pn){const qa=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qa){var z=x.h;z.g||qa.indexOf("spdy")==-1&&qa.indexOf("quic")==-1&&qa.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(wc(z,z.h),z.h=null))}if(x.D){const bc=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;bc&&(x.ya=bc,je(x.I,x.D,bc))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),x=m;var J=a;if(x.qa=gm(x,x.J?x.ia:null,x.W),J.K){Wp(x.h,J);var Re=J,pt=x.L;pt&&(Re.I=pt),Re.B&&(yc(Re),Da(Re)),x.g=J}else dm(x);0<m.i.length&&Ba(m)}else Ce[0]!="stop"&&Ce[0]!="close"||ri(m,7);else m.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?ri(m,7):Tc(m):Ce[0]!="noop"&&m.l&&m.l.ta(Ce),m.v=0)}}Bs(4)}catch{}}var vT=class{constructor(a,h){this.g=a,this.map=h}};function zp(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $p(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function qp(a){return a.h?1:a.g?a.g.size:0}function _c(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function wc(a,h){a.g?a.g.add(h):a.h=h}function Wp(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}zp.prototype.cancel=function(){if(this.i=Hp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Hp(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const m of a.g.values())h=h.concat(m.D);return h}return R(a.i)}function _T(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],m=a.length,x=0;x<m;x++)h.push(a[x]);return h}h=[],m=0;for(x in a)h[m++]=a[x];return h}function wT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var m=0;m<a;m++)h.push(m);return h}h=[],m=0;for(const x in a)h[m++]=x;return h}}}function Kp(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var m=wT(a),x=_T(a),j=x.length,z=0;z<j;z++)h.call(void 0,x[z],m&&m[z],a)}var Gp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ET(a,h){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var x=a[m].indexOf("="),j=null;if(0<=x){var z=a[m].substring(0,x);j=a[m].substring(x+1)}else z=a[m];h(z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ni(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ni){this.h=a.h,La(this,a.j),this.o=a.o,this.g=a.g,ja(this,a.s),this.l=a.l;var h=a.i,m=new Ks;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),Qp(this,m),this.m=a.m}else a&&(h=String(a).match(Gp))?(this.h=!1,La(this,h[1]||"",!0),this.o=Ws(h[2]||""),this.g=Ws(h[3]||"",!0),ja(this,h[4]),this.l=Ws(h[5]||"",!0),Qp(this,h[6]||"",!0),this.m=Ws(h[7]||"")):(this.h=!1,this.i=new Ks(null,this.h))}ni.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Hs(h,Xp,!0),":");var m=this.g;return(m||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Hs(h,Xp,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Hs(m,m.charAt(0)=="/"?xT:IT,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Hs(m,ST)),a.join("")};function zn(a){return new ni(a)}function La(a,h,m){a.j=m?Ws(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function ja(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Qp(a,h,m){h instanceof Ks?(a.i=h,CT(a.i,a.h)):(m||(h=Hs(h,bT)),a.i=new Ks(h,a.h))}function je(a,h,m){a.i.set(h,m)}function Ma(a){return je(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ws(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Hs(a,h,m){return typeof a=="string"?(a=encodeURI(a).replace(h,TT),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function TT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Xp=/[#\/\?@]/g,IT=/[#\?:]/g,xT=/[#\?]/g,bT=/[#\?@]/g,ST=/#/g;function Ks(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function ur(a){a.g||(a.g=new Map,a.h=0,a.i&&ET(a.i,function(h,m){a.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Ks.prototype,t.add=function(a,h){ur(this),this.i=null,a=Fi(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(h),this.h+=1,this};function Yp(a,h){ur(a),h=Fi(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Jp(a,h){return ur(a),h=Fi(a,h),a.g.has(h)}t.forEach=function(a,h){ur(this),this.g.forEach(function(m,x){m.forEach(function(j){a.call(h,j,x,this)},this)},this)},t.na=function(){ur(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let x=0;x<h.length;x++){const j=a[x];for(let z=0;z<j.length;z++)m.push(h[x])}return m},t.V=function(a){ur(this);let h=[];if(typeof a=="string")Jp(this,a)&&(h=h.concat(this.g.get(Fi(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)h=h.concat(a[m])}return h},t.set=function(a,h){return ur(this),this.i=null,a=Fi(this,a),Jp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Zp(a,h,m){Yp(a,h),0<m.length&&(a.i=null,a.g.set(Fi(a,h),R(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var x=h[m];const z=encodeURIComponent(String(x)),J=this.V(x);for(x=0;x<J.length;x++){var j=z;J[x]!==""&&(j+="="+encodeURIComponent(String(J[x]))),a.push(j)}}return this.i=a.join("&")};function Fi(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function CT(a,h){h&&!a.j&&(ur(a),a.i=null,a.g.forEach(function(m,x){var j=x.toLowerCase();x!=j&&(Yp(this,x),Zp(this,j,m))},a)),a.j=h}function kT(a,h){const m=new $s;if(l.Image){const x=new Image;x.onload=T(cr,m,"TestLoadImage: loaded",!0,h,x),x.onerror=T(cr,m,"TestLoadImage: error",!1,h,x),x.onabort=T(cr,m,"TestLoadImage: abort",!1,h,x),x.ontimeout=T(cr,m,"TestLoadImage: timeout",!1,h,x),l.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=a}else h(!1)}function AT(a,h){const m=new $s,x=new AbortController,j=setTimeout(()=>{x.abort(),cr(m,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:x.signal}).then(z=>{clearTimeout(j),z.ok?cr(m,"TestPingServer: ok",!0,h):cr(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(j),cr(m,"TestPingServer: error",!1,h)})}function cr(a,h,m,x,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),x(m)}catch{}}function PT(){this.g=new hc}function RT(a,h,m){const x=m||"";try{Kp(a,function(j,z){let J=j;c(j)&&(J=Ot(j)),h.push(x+z+"="+encodeURIComponent(J))})}catch(j){throw h.push(x+"type="+encodeURIComponent("_badmap")),j}}function Gs(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Gs,Zr),Gs.prototype.g=function(){return new Va(this.l,this.j)},Gs.prototype.i=function(a){return function(){return a}}({});function Va(a,h){Fe.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Va,Fe),t=Va.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Xs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;em(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function em(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Qs(this):Xs(this),this.readyState==3&&em(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Qs(this))},t.Qa=function(a){this.g&&(this.response=a,Qs(this))},t.ga=function(){this.g&&Qs(this)};function Qs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Xs(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=h.next();return a.join(`\r
`)};function Xs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function tm(a){let h="";return V(a,function(m,x){h+=x,h+=":",h+=m,h+=`\r
`}),h}function Ec(a,h,m){e:{for(x in m){var x=!1;break e}x=!0}x||(m=tm(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):je(a,h,m))}function Ke(a){Fe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ke,Fe);var NT=/^https?$/i,OT=["POST","PUT"];t=Ke.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,m,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pc.g(),this.v=this.o?Aa(this.o):Aa(pc),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(z){nm(this,z);return}if(a=m||"",m=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var j in x)m.set(j,x[j]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const z of x.keys())m.set(z,x.get(z));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(m.keys()).find(z=>z.toLowerCase()=="content-type"),j=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(OT,h,void 0))||x||j||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,J]of m)this.g.setRequestHeader(z,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sm(this),this.u=!0,this.g.send(a),this.u=!1}catch(z){nm(this,z)}};function nm(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,rm(a),Ua(a)}function rm(a){a.A||(a.A=!0,ft(a,"complete"),ft(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ft(this,"complete"),ft(this,"abort"),Ua(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ua(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?im(this):this.bb())},t.bb=function(){im(this)};function im(a){if(a.h&&typeof o<"u"&&(!a.v[1]||$n(a)!=4||a.Z()!=2)){if(a.u&&$n(a)==4)Se(a.Ea,0,a);else if(ft(a,"readystatechange"),$n(a)==4){a.h=!1;try{const J=a.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var x;if(x=J===0){var j=String(a.D).match(Gp)[1]||null;!j&&l.self&&l.self.location&&(j=l.self.location.protocol.slice(0,-1)),x=!NT.test(j?j.toLowerCase():"")}m=x}if(m)ft(a,"complete"),ft(a,"success");else{a.m=6;try{var z=2<$n(a)?a.g.statusText:""}catch{z=""}a.l=z+" ["+a.Z()+"]",rm(a)}}finally{Ua(a)}}}}function Ua(a,h){if(a.g){sm(a);const m=a.g,x=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||ft(a,"ready");try{m.onreadystatechange=x}catch{}}}function sm(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function $n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Tt(h)}};function om(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function DT(a){const h={};a=(a.g&&2<=$n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<a.length;x++){if(w(a[x]))continue;var m=k(a[x]);const j=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const z=h[j]||[];h[j]=z,z.push(m)}S(h,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(a,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||h}function am(a){this.Aa=0,this.i=[],this.j=new $s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ys("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ys("baseRetryDelayMs",5e3,a),this.cb=Ys("retryDelaySeedMs",1e4,a),this.Wa=Ys("forwardChannelMaxRetries",2,a),this.wa=Ys("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new zp(a&&a.concurrentRequestLimit),this.Da=new PT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=am.prototype,t.la=8,t.G=1,t.connect=function(a,h,m,x){Dt(0),this.W=a,this.H=h||{},m&&x!==void 0&&(this.H.OSID=m,this.H.OAID=x),this.F=this.X,this.I=gm(this,null,this.W),Ba(this)};function Tc(a){if(lm(a),a.G==3){var h=a.U++,m=zn(a.I);if(je(m,"SID",a.K),je(m,"RID",h),je(m,"TYPE","terminate"),Js(a,m),h=new lr(a,a.j,h),h.L=2,h.v=Ma(zn(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=h.v,m=!0),m||(h.g=ym(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Da(h)}mm(a)}function Fa(a){a.g&&(xc(a),a.g.cancel(),a.g=null)}function lm(a){Fa(a),a.u&&(l.clearTimeout(a.u),a.u=null),za(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ba(a){if(!$p(a.h)&&!a.s){a.s=!0;var h=a.Ga;Ae||U(),K||(Ae(),K=!0),q.add(h,a),a.B=0}}function LT(a,h){return qp(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=zs(v(a.Ga,a,h),pm(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const j=new lr(this,this.j,a);let z=this.o;if(this.S&&(z?(z=_(z),b(z,this.S)):z=this.S),this.m!==null||this.O||(j.H=z,z=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var x=this.i[m];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(h+=x,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=cm(this,j,h),m=zn(this.I),je(m,"RID",a),je(m,"CVER",22),this.D&&je(m,"X-HTTP-Session-Id",this.D),Js(this,m),z&&(this.O?h="headers="+encodeURIComponent(String(tm(z)))+"&"+h:this.m&&Ec(m,this.m,z)),wc(this.h,j),this.Ua&&je(m,"TYPE","init"),this.P?(je(m,"$req",h),je(m,"SID","null"),j.T=!0,gc(j,m,null)):gc(j,m,h),this.G=2}}else this.G==3&&(a?um(this,a):this.i.length==0||$p(this.h)||um(this))};function um(a,h){var m;h?m=h.l:m=a.U++;const x=zn(a.I);je(x,"SID",a.K),je(x,"RID",m),je(x,"AID",a.T),Js(a,x),a.m&&a.o&&Ec(x,a.m,a.o),m=new lr(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),h&&(a.i=h.D.concat(a.i)),h=cm(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),wc(a.h,m),gc(m,x,h)}function Js(a,h){a.H&&V(a.H,function(m,x){je(h,x,m)}),a.l&&Kp({},function(m,x){je(h,x,m)})}function cm(a,h,m){m=Math.min(a.i.length,m);var x=a.l?v(a.l.Na,a.l,a):null;e:{var j=a.i;let z=-1;for(;;){const J=["count="+m];z==-1?0<m?(z=j[0].g,J.push("ofs="+z)):z=0:J.push("ofs="+z);let Re=!0;for(let pt=0;pt<m;pt++){let Ce=j[pt].g;const It=j[pt].map;if(Ce-=z,0>Ce)z=Math.max(0,j[pt].g-100),Re=!1;else try{RT(It,J,"req"+Ce+"_")}catch{x&&x(It)}}if(Re){x=J.join("&");break e}}}return a=a.i.splice(0,m),h.D=a,x}function dm(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Ae||U(),K||(Ae(),K=!0),q.add(h,a),a.v=0}}function Ic(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=zs(v(a.Fa,a),pm(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,hm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=zs(v(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Fa(this),hm(this))};function xc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function hm(a){a.g=new lr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=zn(a.qa);je(h,"RID","rpc"),je(h,"SID",a.K),je(h,"AID",a.T),je(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&je(h,"TO",a.ja),je(h,"TYPE","xmlhttp"),Js(a,h),a.m&&a.o&&Ec(h,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Ma(zn(h)),m.m=null,m.P=!0,Up(m,a)}t.Za=function(){this.C!=null&&(this.C=null,Fa(this),Ic(this),Dt(19))};function za(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function fm(a,h){var m=null;if(a.g==h){za(a),xc(a),a.g=null;var x=2}else if(_c(a.h,h))m=h.D,Wp(a.h,h),x=1;else return;if(a.G!=0){if(h.o)if(x==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var j=a.B;x=Ra(),ft(x,new Lp(x,m)),Ba(a)}else dm(a);else if(j=h.s,j==3||j==0&&0<h.X||!(x==1&&LT(a,h)||x==2&&Ic(a)))switch(m&&0<m.length&&(h=a.h,h.i=h.i.concat(m)),j){case 1:ri(a,5);break;case 4:ri(a,10);break;case 3:ri(a,6);break;default:ri(a,2)}}}function pm(a,h){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*h}function ri(a,h){if(a.j.info("Error code "+h),h==2){var m=v(a.fb,a),x=a.Xa;const j=!x;x=new ni(x||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||La(x,"https"),Ma(x),j?kT(x.toString(),m):AT(x.toString(),m)}else Dt(2);a.G=0,a.l&&a.l.sa(h),mm(a),lm(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function mm(a){if(a.G=0,a.ka=[],a.l){const h=Hp(a.h);(h.length!=0||a.i.length!=0)&&(N(a.ka,h),N(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function gm(a,h,m){var x=m instanceof ni?zn(m):new ni(m);if(x.g!="")h&&(x.g=h+"."+x.g),ja(x,x.s);else{var j=l.location;x=j.protocol,h=h?h+"."+j.hostname:j.hostname,j=+j.port;var z=new ni(null);x&&La(z,x),h&&(z.g=h),j&&ja(z,j),m&&(z.l=m),x=z}return m=a.D,h=a.ya,m&&h&&je(x,m,h),je(x,"VER",a.la),Js(a,x),x}function ym(a,h,m){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Ke(new Gs({eb:m})):new Ke(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vm(){}t=vm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $a(){}$a.prototype.g=function(a,h){return new Xt(a,h)};function Xt(a,h){Fe.call(this),this.g=new am(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!w(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Bi(this)}A(Xt,Fe),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Tc(this.g)},Xt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Ot(a),a=m);h.i.push(new vT(h.Ya++,a)),h.G==3&&Ba(h)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Tc(this.g),delete this.g,Xt.aa.N.call(this)};function _m(a){Pa.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const m in h){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}A(_m,Pa);function wm(){Fs.call(this),this.status=1}A(wm,Fs);function Bi(a){this.g=a}A(Bi,vm),Bi.prototype.ua=function(){ft(this.g,"a")},Bi.prototype.ta=function(a){ft(this.g,new _m(a))},Bi.prototype.sa=function(a){ft(this.g,new wm)},Bi.prototype.ra=function(){ft(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,Dw=function(){return new $a},Ow=function(){return Ra()},Nw=ei,yh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Na.NO_ERROR=0,Na.TIMEOUT=8,Na.HTTP_ERROR=6,Nl=Na,jp.COMPLETE="complete",Rw=jp,fc.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,go=fc,Pw=Gs,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,Aw=Ke}).apply(typeof dl<"u"?dl:typeof self<"u"?self:typeof window<"u"?window:{});const dy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Nf("@firebase/firestore");function lo(){return bi.logLevel}function oe(t,...e){if(bi.logLevel<=Ie.DEBUG){const n=e.map(Qf);bi.debug(`Firestore (${js}): ${t}`,...n)}}function ir(t,...e){if(bi.logLevel<=Ie.ERROR){const n=e.map(Qf);bi.error(`Firestore (${js}): ${t}`,...n)}}function bs(t,...e){if(bi.logLevel<=Ie.WARN){const n=e.map(Qf);bi.warn(`Firestore (${js}): ${t}`,...n)}}function Qf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: `+t;throw ir(e),new Error(e)}function Oe(t,e){t||fe()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class hA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fA{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new Lw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new kt(e)}}class pA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new gA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vA(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function Ss(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new lt(0,0))}static max(){return new pe(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends ea{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const _A=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends ea{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return _A.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new se(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new se(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new se(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Ve.fromString(e))}static fromName(e){return new le(Ve.fromString(e).popFirst(5))}static empty(){return new le(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ve(e.slice()))}}function wA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new zr(i,le.empty(),e)}function EA(t){return new zr(t.readTime,t.key,-1)}class zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zr(pe.min(),le.empty(),-1)}static max(){return new zr(pe.max(),le.empty(),-1)}}function TA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==IA)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function bA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ea(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xf.oe=-1;function Gu(t){return t==null}function mu(t){return t===0&&1/t==-1/0}function SA(t){return typeof t=="number"&&Number.isInteger(t)&&!mu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Mw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hl(this.root,e,this.comparator,!1)}getReverseIterator(){return new hl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hl(this.root,e,this.comparator,!0)}}class hl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gt.RED,this.left=i??gt.EMPTY,this.right=s??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fy(this.data.getIterator())}getIteratorFrom(e){return new fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new en([])}unionWith(e){let n=new _t(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Vw("Invalid base64 string: "+s):s}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const CA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if(Oe(!!t),typeof t=="string"){let e=0;const n=CA.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Si(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jf(t){const e=t.mapValue.fields.__previous_value__;return Yf(e)?Jf(e):e}function ta(t){const e=$r(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class na{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new na("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof na&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yf(t)?4:AA(t)?9007199254740991:10:fe()}function Fn(t,e){if(t===e)return!0;const n=Ci(t);if(n!==Ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ta(t).isEqual(ta(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$r(i.timestampValue),l=$r(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Si(i.bytesValue).isEqual(Si(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return nt(i.geoPointValue.latitude)===nt(s.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return nt(i.integerValue)===nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=nt(i.doubleValue),l=nt(s.doubleValue);return o===l?mu(o)===mu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ss(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(hy(o)!==hy(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Fn(o[u],l[u])))return!1;return!0}(t,e);default:return fe()}}function ra(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function Cs(t,e){if(t===e)return 0;const n=Ci(t),r=Ci(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=nt(s.integerValue||s.doubleValue),u=nt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return py(t.timestampValue,e.timestampValue);case 4:return py(ta(t),ta(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Si(s),u=Si(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=ke(l[c],u[c]);if(d!==0)return d}return ke(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ke(nt(s.latitude),nt(o.latitude));return l!==0?l:ke(nt(s.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let c=0;c<l.length&&c<u.length;++c){const d=Cs(l[c],u[c]);if(d)return d}return ke(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===fl.mapValue&&o===fl.mapValue)return 0;if(s===fl.mapValue)return 1;if(o===fl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const v=ke(u[p],d[p]);if(v!==0)return v;const T=Cs(l[u[p]],c[d[p]]);if(T!==0)return T}return ke(u.length,d.length)}(t.mapValue,e.mapValue);default:throw fe()}}function py(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=$r(t),r=$r(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function ks(t){return vh(t)}function vh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$r(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Si(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=vh(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${vh(n.fields[o])}`;return i+"}"}(t.mapValue):fe()}function my(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _h(t){return!!t&&"integerValue"in t}function Zf(t){return!!t&&"arrayValue"in t}function gy(t){return!!t&&"nullValue"in t}function yy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ol(t){return!!t&&"mapValue"in t}function Po(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Po(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Po(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ol(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Po(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Po(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ol(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ol(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(Po(this.value))}}function Uw(t){const e=[];return Oi(t.fields,(n,r)=>{const i=new yt([n]);if(Ol(r)){const s=Uw(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Pt(e,0,pe.min(),pe.min(),pe.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new Pt(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new Pt(e,2,n,pe.min(),pe.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,pe.min(),pe.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.position=e,this.inclusive=n}}function vy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=Cs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _y(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n="asc"){this.field=e,this.dir=n}}function PA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{}class it extends Fw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NA(e,n,r):n==="array-contains"?new LA(e,r):n==="in"?new jA(e,r):n==="not-in"?new MA(e,r):n==="array-contains-any"?new VA(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OA(e,r):new DA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Cs(n,this.value)):n!==null&&Ci(this.value)===Ci(n)&&this.matchesComparison(Cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends Fw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new bn(e,n)}matches(e){return Bw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Bw(t){return t.op==="and"}function zw(t){return RA(t)&&Bw(t)}function RA(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function wh(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+ks(t.value);if(zw(t))return t.filters.map(e=>wh(e)).join(",");{const e=t.filters.map(n=>wh(n)).join(",");return`${t.op}(${e})`}}function $w(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&Fn(r.value,i.value)}(t,e):t instanceof bn?function(r,i){return i instanceof bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&$w(o,i.filters[l]),!0):!1}(t,e):void fe()}function qw(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${ks(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map(qw).join(" ,")+"}"}(t):"Filter"}class NA extends it{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class OA extends it{constructor(e,n){super(e,"in",n),this.keys=Ww("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DA extends it{constructor(e,n){super(e,"not-in",n),this.keys=Ww("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ww(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class LA extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zf(n)&&ra(n.arrayValue,this.value)}}class jA extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ra(this.value.arrayValue,n)}}class MA extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ra(this.value.arrayValue,n)}}class VA extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ra(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function wy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new UA(t,e,n,r,i,s,o)}function ep(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Gu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ks(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ks(r)).join(",")),e.ue=n}return e.ue}function tp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$w(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_y(t.startAt,e.startAt)&&_y(t.endAt,e.endAt)}function Eh(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FA(t,e,n,r,i,s,o,l){return new Ms(t,e,n,r,i,s,o,l)}function Hw(t){return new Ms(t)}function Ey(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kw(t){return t.collectionGroup!==null}function Ro(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new _t(yt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ia(s,r))}),n.has(yt.keyField().canonicalString())||e.ce.push(new ia(yt.keyField(),r))}return e.ce}function Mn(t){const e=me(t);return e.le||(e.le=BA(e,Ro(t))),e.le}function BA(t,e){if(t.limitType==="F")return wy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ia(i.field,s)});const n=t.endAt?new gu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gu(t.startAt.position,t.startAt.inclusive):null;return wy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Th(t,e){const n=t.filters.concat([e]);return new Ms(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ih(t,e,n){return new Ms(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qu(t,e){return tp(Mn(t),Mn(e))&&t.limitType===e.limitType}function Gw(t){return`${ep(Mn(t))}|lt:${t.limitType}`}function qi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qw(i)).join(", ")}]`),Gu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ks(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ks(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function Xu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ro(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=vy(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Ro(r),i)||r.endAt&&!function(o,l,u){const c=vy(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Ro(r),i))}(t,e)}function zA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Qw(t){return(e,n)=>{let r=!1;for(const i of Ro(t)){const s=$A(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $A(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Cs(u,c):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Mw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=new He(le.comparator);function sr(){return qA}const Xw=new He(le.comparator);function yo(...t){let e=Xw;for(const n of t)e=e.insert(n.key,n);return e}function Yw(t){let e=Xw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ci(){return No()}function Jw(){return No()}function No(){return new Vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const WA=new He(le.comparator),HA=new _t(le.comparator);function Te(...t){let e=HA;for(const n of t)e=e.add(n);return e}const KA=new _t(ke);function GA(){return KA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(e)?"-0":e}}function eE(t){return{integerValue:""+t}}function QA(t,e){return SA(e)?eE(e):Zw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this._=void 0}}function XA(t,e,n){return t instanceof yu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Yf(s)&&(s=Jf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof sa?nE(t,e):t instanceof oa?rE(t,e):function(i,s){const o=tE(i,s),l=Ty(o)+Ty(i.Pe);return _h(o)&&_h(i.Pe)?eE(l):Zw(i.serializer,l)}(t,e)}function YA(t,e,n){return t instanceof sa?nE(t,e):t instanceof oa?rE(t,e):n}function tE(t,e){return t instanceof vu?function(r){return _h(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class yu extends Yu{}class sa extends Yu{constructor(e){super(),this.elements=e}}function nE(t,e){const n=iE(e);for(const r of t.elements)n.some(i=>Fn(i,r))||n.push(r);return{arrayValue:{values:n}}}class oa extends Yu{constructor(e){super(),this.elements=e}}function rE(t,e){let n=iE(e);for(const r of t.elements)n=n.filter(i=>!Fn(i,r));return{arrayValue:{values:n}}}class vu extends Yu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ty(t){return nt(t.integerValue||t.doubleValue)}function iE(t){return Zf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JA(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sa&&i instanceof sa||r instanceof oa&&i instanceof oa?Ss(r.elements,i.elements,Fn):r instanceof vu&&i instanceof vu?Fn(r.Pe,i.Pe):r instanceof yu&&i instanceof yu}(t.transform,e.transform)}class ZA{constructor(e,n){this.version=e,this.transformResults=n}}class Tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ju{}function sE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new np(t.key,Tn.none()):new Ta(t.key,t.data,Tn.none());{const n=t.data,r=$t.empty();let i=new _t(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xr(t.key,r,new en(i.toArray()),Tn.none())}}function eP(t,e,n){t instanceof Ta?function(i,s,o){const l=i.value.clone(),u=xy(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Xr?function(i,s,o){if(!Dl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=xy(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(oE(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Oo(t,e,n,r){return t instanceof Ta?function(s,o,l,u){if(!Dl(s.precondition,o))return l;const c=s.value.clone(),d=by(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xr?function(s,o,l,u){if(!Dl(s.precondition,o))return l;const c=by(s.fieldTransforms,u,o),d=o.data;return d.setAll(oE(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Dl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function tP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tE(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function Iy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ss(r,i,(s,o)=>JA(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ta extends Ju{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xr extends Ju{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xy(t,e,n){const r=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,YA(o,l,n[i]))}return r}function by(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,XA(s,o,e))}return r}class np extends Ju{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nP extends Ju{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eP(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Oo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Jw();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=sE(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(n,r)=>Iy(n,r))&&Ss(this.baseMutations,e.baseMutations,(n,r)=>Iy(n,r))}}class rp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length);let i=function(){return WA}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new rp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,xe;function oP(t){switch(t){default:return fe();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function aE(t){if(t===void 0)return ir("GRPC error has no .code"),W.UNKNOWN;switch(t){case tt.OK:return W.OK;case tt.CANCELLED:return W.CANCELLED;case tt.UNKNOWN:return W.UNKNOWN;case tt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case tt.INTERNAL:return W.INTERNAL;case tt.UNAVAILABLE:return W.UNAVAILABLE;case tt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case tt.NOT_FOUND:return W.NOT_FOUND;case tt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case tt.ABORTED:return W.ABORTED;case tt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case tt.DATA_LOSS:return W.DATA_LOSS;default:return fe()}}(xe=tt||(tt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new pi([4294967295,4294967295],0);function Sy(t){const e=aP().encode(t),n=new kw;return n.update(e),new Uint8Array(n.digest())}function Cy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pi([n,r],0),new pi([i,s],0)]}class ip{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vo(`Invalid padding: ${n}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=pi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(pi.fromNumber(r)));return i.compare(lP)===1&&(i=new pi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Sy(e),[r,i]=Cy(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ip(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Sy(e),[r,i]=Cy(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zu(pe.min(),i,new He(ke),sr(),Te())}}class Ia{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ia(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class lE{constructor(e,n){this.targetId=e,this.me=n}}class uE{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ky{constructor(){this.fe=0,this.ge=Py(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Te(),n=Te(),r=Te();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new Ia(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Py()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uP{constructor(e){this.Le=e,this.Be=new Map,this.ke=sr(),this.qe=Ay(),this.Qe=new He(ke)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Eh(s))if(r===0){const o=new le(s.path);this.Ue(n,o,Pt.newNoDocument(o,pe.min()))}else Oe(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Si(r).toUint8Array()}catch(u){if(u instanceof Vw)return bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ip(o,i,s)}catch(u){return bs(u instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Eh(l.target)){const u=new le(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Pt.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Te();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Zu(e,n,this.Qe,this.ke,r);return this.ke=sr(),this.qe=Ay(),this.Qe=new He(ke),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ky,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _t(ke),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ky),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ay(){return new He(le.comparator)}function Py(){return new He(le.comparator)}const cP={asc:"ASCENDING",desc:"DESCENDING"},dP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hP={and:"AND",or:"OR"};class fP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xh(t,e){return t.useProto3Json||Gu(e)?e:{value:e}}function _u(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pP(t,e){return _u(t,e.toTimestamp())}function Vn(t){return Oe(!!t),pe.fromTimestamp(function(n){const r=$r(n);return new lt(r.seconds,r.nanos)}(t))}function sp(t,e){return bh(t,e).canonicalString()}function bh(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dE(t){const e=Ve.fromString(t);return Oe(gE(e)),e}function Sh(t,e){return sp(t.databaseId,e.path)}function ad(t,e){const n=dE(e);if(n.get(1)!==t.databaseId.projectId)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(fE(n))}function hE(t,e){return sp(t.databaseId,e)}function mP(t){const e=dE(t);return e.length===4?Ve.emptyPath():fE(e)}function Ch(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fE(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ry(t,e,n){return{name:Sh(t,e),fields:n.value.mapValue.fields}}function gP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Oe(d===void 0||typeof d=="string"),Nt.fromBase64String(d||"")):(Oe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Nt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?W.UNKNOWN:aE(c.code);return new se(d,c.message||"")}(o);n=new uE(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ad(t,r.document.name),s=Vn(r.document.updateTime),o=r.document.createTime?Vn(r.document.createTime):pe.min(),l=new $t({mapValue:{fields:r.document.fields}}),u=Pt.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Ll(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ad(t,r.document),s=r.readTime?Vn(r.readTime):pe.min(),o=Pt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Ll([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ad(t,r.document),s=r.removedTargetIds||[];n=new Ll([],s,i,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new sP(i,s),l=r.targetId;n=new lE(l,o)}}return n}function yP(t,e){let n;if(e instanceof Ta)n={update:Ry(t,e.key,e.value)};else if(e instanceof np)n={delete:Sh(t,e.key)};else if(e instanceof Xr)n={update:Ry(t,e.key,e.data),updateMask:SP(e.fieldMask)};else{if(!(e instanceof nP))return fe();n={verify:Sh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof yu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof oa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof vu)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pP(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(t,e.precondition)),n}function vP(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Vn(i.updateTime):Vn(s);return o.isEqual(pe.min())&&(o=Vn(s)),new ZA(o,i.transformResults||[])}(n,e))):[]}function _P(t,e){return{documents:[hE(t,e.path)]}}function wP(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hE(t,i);const s=function(c){if(c.length!==0)return mE(bn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(v){return{field:Wi(v.field),direction:IP(v.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=xh(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function EP(t){let e=mP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const v=pE(p);return v instanceof bn&&zw(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(v=>function(A){return new ia(Hi(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(n.orderBy));let l=null;n.limit&&(l=function(p){let v;return v=typeof p=="object"?p.value:p,Gu(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(p){const v=!!p.before,T=p.values||[];return new gu(T,v)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const v=!p.before,T=p.values||[];return new gu(T,v)}(n.endAt)),FA(e,i,o,s,l,"F",u,c)}function TP(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hi(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hi(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hi(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hi(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return it.create(Hi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(r=>pE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function IP(t){return cP[t]}function xP(t){return dP[t]}function bP(t){return hP[t]}function Wi(t){return{fieldPath:t.canonicalString()}}function Hi(t){return yt.fromServerFormat(t.fieldPath)}function mE(t){return t instanceof it?function(n){if(n.op==="=="){if(yy(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NAN"}};if(gy(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yy(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NAN"}};if(gy(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wi(n.field),op:xP(n.op),value:n.value}}}(t):t instanceof bn?function(n){const r=n.getFilters().map(i=>mE(i));return r.length===1?r[0]:{compositeFilter:{op:bP(n.op),filters:r}}}(t):fe()}function SP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,i,s=pe.min(),o=pe.min(),l=Nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.ct=e}}function kP(t){const e=EP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this._n=new PP}addToCollectionParentIndex(e,n){return this._n.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(zr.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class PP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new As(0)}static Ln(){return new As(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.changes=new Vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Oo(r.mutation,i,en.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const i=ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yo();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=sr();const o=No(),l=function(){return No()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Xr)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Oo(d.mutation,c,d.mutation.getFieldMask(),lt.now())):o.set(c.key,en.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return l.set(c,new NP(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=No();let i=new He((o,l)=>o-l),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||en.empty();d=l.applyToLocalView(c,d),r.set(u,d);const p=(i.get(l.batchId)||Te()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=Jw();d.forEach(v=>{if(!s.has(v)){const T=sE(n.get(v),r.get(v));T!==null&&p.set(v,T),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(ci());let l=-1,u=s;return o.next(c=>H.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{u=u.insert(d,v)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Te())).next(d=>({batchId:l,changes:Yw(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=yo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=yo();return this.indexManager.getCollectionParents(e,s).next(l=>H.forEach(l,u=>{const c=function(p,v){return new Ms(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,v)=>{o=o.insert(p,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Pt.newInvalidDocument(d)))});let l=yo();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Oo(d.mutation,c,en.empty(),lt.now()),Xu(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return H.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vn(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:kP(i.bundledQuery),readTime:Vn(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.overlays=new He(le.comparator),this.hr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ci();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=ci(),s=n.length+1,o=new le(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=ci(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=ci(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return H.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iP(n,r));let s=this.hr.get(n);s===void 0&&(s=Te(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.Pr=new _t(ct.Ir),this.Tr=new _t(ct.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ct(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new le(new Ve([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new le(new Ve([])),r=new ct(n,e),i=new ct(n,e+1);let s=Te();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return le.comparator(e.key,n.key)||ke(e.pr,n.pr)}static Er(e,n){return ke(e.pr,n.pr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new _t(ct.Ir)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rP(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new ct(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(ke);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),H.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new ct(new le(s),0);let l=new _t(ke);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.pr)),!0)},o),H.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return H.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new ct(n,0),i=this.wr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.vr=e,this.docs=function(){return new He(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=sr();const o=n.path,l=new le(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||TA(EA(d),r)<=0||(i.has(d.key)||Xu(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){fe()}Fr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VP(this)}getSize(e){return H.resolve(this.size)}}class VP extends RP{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.persistence=e,this.Mr=new Vs(n=>ep(n),tp),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new op,this.targetCount=0,this.Lr=As.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),H.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new As(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.qn(n),H.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n){this.Br={},this.overlays={},this.kr=new Xf(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new UP(this),this.indexManager=new AP,this.remoteDocumentCache=function(i){return new MP(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new CP(n),this.$r=new DP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new jP(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new BP(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return H.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class BP extends xA{constructor(e){super(),this.currentSequenceNumber=e}}class ap{constructor(e){this.persistence=e,this.zr=new op,this.jr=null}static Hr(e){return new ap(e)}get Jr(){if(this.jr)return this.jr;throw fe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),H.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Jr,r=>{const i=le.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,pe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return H.or([()=>H.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Tx()?8:bA(Et())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zP;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(lo()<=Ie.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",qi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),H.resolve()):(lo()<=Ie.DEBUG&&oe("QueryEngine","Query:",qi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(lo()<=Ie.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",qi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):H.resolve())}ji(e,n){if(Ey(n))return H.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ih(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Te(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,l);return this.Xi(n,c,o,u.readTime)?this.ji(e,Ih(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return Ey(n)||i.isEqual(pe.min())?H.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?H.resolve(null):(lo()<=Ie.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qi(n)),this.es(e,o,n,wA(i,-1)).next(l=>l))})}Zi(e,n){let r=new _t(Qw(e));return n.forEach((i,s)=>{Xu(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return lo()<=Ie.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",qi(n)),this.zi.getDocumentsMatchingQuery(e,n,zr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new He(ke),this.rs=new Vs(s=>ep(s),tp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OP(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function WP(t,e,n,r){return new qP(t,e,n,r)}async function yE(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Te();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:o,addedBatchIds:l}))})})}function HP(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,v=p.keys();let T=H.resolve();return v.forEach(A=>{T=T.next(()=>d.getEntry(u,A)).next(R=>{const N=c.docVersions.get(A);Oe(N!==null),R.version.compareTo(N)<0&&(p.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),d.addEntry(R)))})}),T.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Te();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vE(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function KP(t,e){const n=me(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((d,p)=>{const v=i.get(p);if(!v)return;l.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,p)));let T=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(Nt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):d.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(d.resumeToken,r)),i=i.insert(p,T),function(R,N,y){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(v,T,d)&&l.push(n.Qr.updateTargetData(s,T))});let u=sr(),c=Te();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(GP(s,o,e.documentUpdates).next(d=>{u=d.cs,c=d.ls})),!r.isEqual(pe.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(p=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return H.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ns=i,s))}function GP(t,e,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=sr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(pe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):oe("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{cs:o,ls:i}})}function QP(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XP(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function kh(t,e,n){const r=me(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ea(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Ny(t,e,n){const r=me(t);let i=pe.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=me(u),v=p.rs.get(d);return v!==void 0?H.resolve(p.ns.get(v)):p.Qr.getTargetData(c,d)}(r,o,Mn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:pe.min(),n?s:Te())).next(l=>(YP(r,zA(e),l),{documents:l,hs:s})))}function YP(t,e,n){let r=t.ss.get(e)||pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Oy{constructor(){this.activeTargetIds=GA()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JP{constructor(){this.no=new Oy,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Oy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl=null;function ld(){return pl===null?pl=function(){return 268435456+Math.round(2147483648*Math.random())}():pl++,"0x"+pl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class nR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=ld(),u=this.vo(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,u,c,i).then(d=>(oe("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw bs("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=eR[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=ld();return new Promise((o,l)=>{const u=new Aw;u.setWithCredentials(!0),u.listenOnce(Rw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Nl.NO_ERROR:const d=u.getResponseJson();oe(Ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Nl.TIMEOUT:oe(Ct,`RPC '${e}' ${s} timed out`),l(new se(W.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:const p=u.getStatus();if(oe(Ct,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const A=function(N){const y=N.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(y)>=0?y:W.UNKNOWN}(T.status);l(new se(A,T.message))}else l(new se(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new se(W.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{oe(Ct,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);oe(Ct,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=ld(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dw(),l=Ow(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Pw({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");oe(Ct,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);let v=!1,T=!1;const A=new tR({lo:N=>{T?oe(Ct,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(v||(oe(Ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),oe(Ct,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},ho:()=>p.close()}),R=(N,y,w)=>{N.listen(y,g=>{try{w(g)}catch(C){setTimeout(()=>{throw C},0)}})};return R(p,go.EventType.OPEN,()=>{T||(oe(Ct,`RPC '${e}' stream ${i} transport opened.`),A.mo())}),R(p,go.EventType.CLOSE,()=>{T||(T=!0,oe(Ct,`RPC '${e}' stream ${i} transport closed`),A.po())}),R(p,go.EventType.ERROR,N=>{T||(T=!0,bs(Ct,`RPC '${e}' stream ${i} transport errored:`,N),A.po(new se(W.UNAVAILABLE,"The operation could not be completed")))}),R(p,go.EventType.MESSAGE,N=>{var y;if(!T){const w=N.data[0];Oe(!!w);const g=w,C=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(C){oe(Ct,`RPC '${e}' stream ${i} received error:`,C);const O=C.status;let V=function(E){const b=tt[E];if(b!==void 0)return aE(b)}(O),S=C.message;V===void 0&&(V=W.INTERNAL,S="Unknown error status: "+O+" with message "+C.message),T=!0,A.po(new se(V,S)),p.close()}else oe(Ct,`RPC '${e}' stream ${i} received:`,w),A.yo(w)}}),R(l,Nw.STAT_EVENT,N=>{N.stat===yh.PROXY?oe(Ct,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===yh.NOPROXY&&oe(Ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}}function ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){return new fP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r,i,s,o,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new _E(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new se(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rR extends wE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=gP(this.serializer,e),r=function(s){if(!("targetChange"in s))return pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Vn(o.readTime):pe.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Ch(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=Eh(u)?{documents:_P(s,u)}:{query:wP(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=cE(s,o.resumeToken);const c=xh(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(pe.min())>0){l.readTime=_u(s,o.snapshotVersion.toTimestamp());const c=xh(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=TP(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Ch(this.serializer),n.removeTarget=e,this.i_(n)}}class iR extends wE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=vP(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.A_(r,n)}return Oe(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Ch(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yP(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,bh(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(W.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,bh(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(W.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class oR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ir(n),this.y_=!1):oe("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Di(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=me(u);c.M_.add(4),await xa(c),c.N_.set("Unknown"),c.M_.delete(4),await tc(c)}(this))})}),this.N_=new oR(r,i)}}async function tc(t){if(Di(t))for(const e of t.x_)await e(!0)}async function xa(t){for(const e of t.x_)await e(!1)}function EE(t,e){const n=me(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),hp(n)?dp(n):Us(n).Xo()&&cp(n,e))}function up(t,e){const n=me(t),r=Us(n);n.F_.delete(e),r.Xo()&&TE(n,e),n.F_.size===0&&(r.Xo()?r.n_():Di(n)&&n.N_.set("Unknown"))}function cp(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Us(t).P_(e)}function TE(t,e){t.L_.xe(e),Us(t).I_(e)}function dp(t){t.L_=new uP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Us(t).start(),t.N_.w_()}function hp(t){return Di(t)&&!Us(t).Zo()&&t.F_.size>0}function Di(t){return me(t).M_.size===0}function IE(t){t.L_=void 0}async function lR(t){t.N_.set("Online")}async function uR(t){t.F_.forEach((e,n)=>{cp(t,e)})}async function cR(t,e){IE(t),hp(t)?(t.N_.D_(e),dp(t)):t.N_.set("Unknown")}async function dR(t,e,n){if(t.N_.set("Online"),e instanceof uE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wu(t,r)}else if(e instanceof Ll?t.L_.Ke(e):e instanceof lE?t.L_.He(e):t.L_.We(e),!n.isEqual(pe.min()))try{const r=await vE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=s.F_.get(u);if(!d)return;s.F_.set(u,d.withResumeToken(Nt.EMPTY_BYTE_STRING,d.snapshotVersion)),TE(s,u);const p=new xr(d.target,u,c,d.sequenceNumber);cp(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await wu(t,r)}}async function wu(t,e,n){if(!Ea(e))throw e;t.M_.add(1),await xa(t),t.N_.set("Offline"),n||(n=()=>vE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await tc(t)})}function xE(t,e){return e().catch(n=>wu(t,n,e))}async function nc(t){const e=me(t),n=qr(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;hR(e);)try{const i=await QP(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,fR(e,i)}catch(i){await wu(e,i)}bE(e)&&SE(e)}function hR(t){return Di(t)&&t.v_.length<10}function fR(t,e){t.v_.push(e);const n=qr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function bE(t){return Di(t)&&!qr(t).Zo()&&t.v_.length>0}function SE(t){qr(t).start()}async function pR(t){qr(t).V_()}async function mR(t){const e=qr(t);for(const n of t.v_)e.d_(n.mutations)}async function gR(t,e,n){const r=t.v_.shift(),i=rp.from(r,e,n);await xE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nc(t)}async function yR(t,e){e&&qr(t).E_&&await async function(r,i){if(function(o){return oP(o)&&o!==W.ABORTED}(i.code)){const s=r.v_.shift();qr(r).t_(),await xE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await nc(r)}}(t,e),bE(t)&&SE(t)}async function Ly(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=Di(n);n.M_.add(3),await xa(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await tc(n)}async function vR(t,e){const n=me(t);e?(n.M_.delete(2),await tc(n)):e||(n.M_.add(2),await xa(n),n.N_.set("Unknown"))}function Us(t){return t.B_||(t.B_=function(n,r,i){const s=me(n);return s.f_(),new rR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:lR.bind(null,t),To:uR.bind(null,t),Ao:cR.bind(null,t),h_:dR.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),hp(t)?dp(t):t.N_.set("Unknown")):(await t.B_.stop(),IE(t))})),t.B_}function qr(t){return t.k_||(t.k_=function(n,r,i){const s=me(n);return s.f_(),new iR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:pR.bind(null,t),Ao:yR.bind(null,t),R_:mR.bind(null,t),A_:gR.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await nc(t)):(await t.k_.stop(),t.v_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new fp(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pp(t,e){if(ir("AsyncQueue",`${e}: ${t}`),Ea(t))return new se(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=yo(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new gs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.q_=new He(le.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):fe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ps{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ps(e,n,gs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class wR{constructor(){this.queries=new Vs(e=>Gw(e),Qu),this.onlineState="Unknown",this.z_=new Set}}async function ER(t,e){const n=me(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new _R,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=pp(o,`Initialization of query '${qi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&mp(n)}async function TR(t,e){const n=me(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IR(t,e){const n=me(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&mp(n)}function xR(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function mp(t){t.z_.forEach(e=>{e.next()})}var Ah,My;(My=Ah||(Ah={})).J_="default",My.Cache="cache";class bR{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ps(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Ah.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.key=e}}class kE{constructor(e){this.key=e}}class SR{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Te(),this.mutatedKeys=Te(),this.Ia=Qw(e),this.Ta=new gs(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new jy,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const v=i.get(d),T=Xu(this.query,p)?p:null,A=!!v&&this.mutatedKeys.has(v.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let N=!1;v&&T?v.data.isEqual(T.data)?A!==R&&(r.track({type:3,doc:T}),N=!0):this.Ra(v,T)||(r.track({type:2,doc:T}),N=!0,(u&&this.Ia(T,u)>0||c&&this.Ia(T,c)<0)&&(l=!0)):!v&&T?(r.track({type:0,doc:T}),N=!0):v&&!T&&(r.track({type:1,doc:v}),N=!0,(u||c)&&(l=!0)),N&&(T?(o=o.add(T),s=R?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,p)=>function(T,A){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return R(T)-R(A)}(d.type,p.type)||this.Ia(d.doc,p.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,o.length!==0||c?{snapshot:new Ps(this.query,e.Ta,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new jy,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Te(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new kE(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new CE(r))}),n}pa(e){this.la=e.hs,this.Pa=Te();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Ps.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class CR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kR{constructor(e){this.key=e,this.wa=!1}}class AR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Vs(l=>Gw(l),Qu),this.Da=new Map,this.Ca=new Set,this.va=new He(le.comparator),this.Fa=new Map,this.Ma=new op,this.xa={},this.Oa=new Map,this.Na=As.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function PR(t,e,n=!0){const r=DE(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await AE(r,e,n,!0),i}async function RR(t,e){const n=DE(t);await AE(n,e,!0,!1)}async function AE(t,e,n,r){const i=await XP(t.localStore,Mn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await NR(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&EE(t.remoteStore,i),l}async function NR(t,e,n,r,i){t.Ba=(p,v,T)=>async function(R,N,y,w){let g=N.view.da(y);g.Xi&&(g=await Ny(R.localStore,N.query,!1).then(({documents:S})=>N.view.da(S,g)));const C=w&&w.targetChanges.get(N.targetId),O=w&&w.targetMismatches.get(N.targetId)!=null,V=N.view.applyChanges(g,R.isPrimaryClient,C,O);return Uy(R,N.targetId,V.fa),V.snapshot}(t,p,v,T);const s=await Ny(t.localStore,e,!0),o=new SR(e,s.hs),l=o.da(s.documents),u=Ia.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);Uy(t,n,c.fa);const d=new CR(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function OR(t,e,n){const r=me(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Qu(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&up(r.remoteStore,i.targetId),Ph(r,i.targetId)}).catch(wa)):(Ph(r,i.targetId),await kh(r.localStore,i.targetId,!0))}async function DR(t,e){const n=me(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),up(n.remoteStore,r.targetId))}async function LR(t,e,n){const r=zR(t);try{const i=await function(o,l){const u=me(o),c=lt.now(),d=l.reduce((T,A)=>T.add(A.key),Te());let p,v;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=sr(),R=Te();return u.os.getEntries(T,d).next(N=>{A=N,A.forEach((y,w)=>{w.isValidDocument()||(R=R.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,A)).next(N=>{p=N;const y=[];for(const w of l){const g=tP(w,p.get(w.key).overlayedDocument);g!=null&&y.push(new Xr(w.key,g,Uw(g.value.mapValue),Tn.exists(!0)))}return u.mutationQueue.addMutationBatch(T,c,y,l)}).next(N=>{v=N;const y=N.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(T,N.batchId,y)})}).then(()=>({batchId:v.batchId,changes:Yw(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.xa[o.currentUser.toKey()];c||(c=new He(ke)),c=c.insert(l,u),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await ba(r,i.changes),await nc(r.remoteStore)}catch(i){const s=pp(i,"Failed to persist write");n.reject(s)}}async function PE(t,e){const n=me(t);try{const r=await KP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Oe(o.wa):i.removedDocuments.size>0&&(Oe(o.wa),o.wa=!1))}),await ba(n,r,e)}catch(r){await wa(r)}}function Vy(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=me(o);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const v of p.U_)v.j_(l)&&(c=!0)}),c&&mp(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jR(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new He(le.comparator);o=o.insert(s,Pt.newNoDocument(s,pe.min()));const l=Te().add(s),u=new Zu(pe.min(),new Map,new He(ke),o,l);await PE(r,u),r.va=r.va.remove(s),r.Fa.delete(e),gp(r)}else await kh(r.localStore,e,!1).then(()=>Ph(r,e,n)).catch(wa)}async function MR(t,e){const n=me(t),r=e.batch.batchId;try{const i=await HP(n.localStore,e);NE(n,r,null),RE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ba(n,i)}catch(i){await wa(i)}}async function VR(t,e,n){const r=me(t);try{const i=await function(o,l){const u=me(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(Oe(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);NE(r,e,n),RE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ba(r,i)}catch(i){await wa(i)}}function RE(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function NE(t,e,n){const r=me(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Ph(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||OE(t,r)})}function OE(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(up(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),gp(t))}function Uy(t,e,n){for(const r of n)r instanceof CE?(t.Ma.addReference(r.key,e),UR(t,r)):r instanceof kE?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||OE(t,r.key)):fe()}function UR(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.Ca.add(r),gp(t))}function gp(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new le(Ve.fromString(e)),r=t.Na.next();t.Fa.set(r,new kR(n)),t.va=t.va.insert(n,r),EE(t.remoteStore,new xr(Mn(Hw(n.path)),r,"TargetPurposeLimboResolution",Xf.oe))}}async function ba(t,e,n){const r=me(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{o.push(r.Ba(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=lp.Ki(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,c){const d=me(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>H.forEach(c,v=>H.forEach(v.qi,T=>d.persistence.referenceDelegate.addReference(p,v.targetId,T)).next(()=>H.forEach(v.Qi,T=>d.persistence.referenceDelegate.removeReference(p,v.targetId,T)))))}catch(p){if(!Ea(p))throw p;oe("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const v=p.targetId;if(!p.fromCache){const T=d.ns.get(v),A=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(A);d.ns=d.ns.insert(v,R)}}}(r.localStore,s))}async function FR(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await yE(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(u=>{u.reject(new se(W.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ba(n,r.us)}}function BR(t,e){const n=me(t),r=n.Fa.get(e);if(r&&r.wa)return Te().add(r.key);{let i=Te();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function DE(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jR.bind(null,e),e.Sa.h_=IR.bind(null,e.eventManager),e.Sa.ka=xR.bind(null,e.eventManager),e}function zR(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VR.bind(null,e),e}class Fy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ec(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return WP(this.persistence,new $P,e.initialUser,this.serializer)}createPersistence(e){return new FP(ap.Hr,this.serializer)}createSharedClientState(e){return new JP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $R{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FR.bind(null,this.syncEngine),await vR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wR}()}createDatastore(e){const n=ec(e.databaseInfo.databaseId),r=function(s){return new nR(s)}(e.databaseInfo);return function(s,o,l,u){return new sR(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new aR(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Vy(this.syncEngine,n,0),function(){return Dy.D()?new Dy:new ZP}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,d){const p=new AR(i,s,o,l,u,c);return d&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=me(r);oe("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await xa(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{oe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cd(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function By(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KR(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ly(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ly(e.remoteStore,i)),t._onlineComponents=e}function HR(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function KR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await cd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!HR(n))throw n;bs("Error using user provided cache. Falling back to memory cache: "+n),await cd(t,new Fy)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await cd(t,new Fy);return t._offlineComponents}async function LE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await By(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await By(t,new $R))),t._onlineComponents}function GR(t){return LE(t).then(e=>e.syncEngine)}async function QR(t){const e=await LE(t),n=e.eventManager;return n.onListen=PR.bind(null,e.syncEngine),n.onUnlisten=OR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DR.bind(null,e.syncEngine),n}function XR(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const d=new qR({next:v=>{o.enqueueAndForget(()=>TR(s,p)),v.fromCache&&u.source==="server"?c.reject(new se(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(v)},error:v=>c.reject(v)}),p=new bR(l,d,{includeMetadataChanges:!0,ra:!0});return ER(s,p)}(await QR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e,n){if(!n)throw new se(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YR(t,e,n,r){if(e===!0&&r===!0)throw new se(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $y(t){if(!le.isDocumentKey(t))throw new se(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qy(t){if(le.isDocumentKey(t))throw new se(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function ki(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rc(t);throw new se(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ic{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dA;switch(r.type){case"firstParty":return new mA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zy.get(n);r&&(oe("ComponentProvider","Removing Datastore"),zy.delete(n),r.terminate())}(this),Promise.resolve()}}function JR(t,e,n,r={}){var i;const s=(t=ki(t,ic))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=kt.MOCK_USER;else{l=I0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new se(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kt(c)}t._authCredentials=new hA(new Lw(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class Mr extends Li{constructor(e,n,r){super(e,n,Hw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new le(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function Un(t,e,...n){if(t=Ze(t),ME("collection","path",e),t instanceof ic){const r=Ve.fromString(e,...n);return qy(r),new Mr(t,null,r)}{if(!(t instanceof nn||t instanceof Mr))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return qy(r),new Mr(t.firestore,null,r)}}function sc(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=jw.newId()),ME("doc","path",e),t instanceof ic){const r=Ve.fromString(e,...n);return $y(r),new nn(t,null,new le(r))}{if(!(t instanceof nn||t instanceof Mr))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return $y(r),new nn(t.firestore,t instanceof Mr?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new _E(this,"async_queue_retry"),this.hu=()=>{const n=ud();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=ud();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new jr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ea(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ir("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=fp.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&fe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Sa extends ic{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ZR}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||UE(this),this._firestoreClient.terminate()}}function eN(t,e){const n=typeof t=="object"?t:Df(),r=typeof t=="string"?t:"(default)",i=$u(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=w0("firestore");s&&JR(i,...s)}return i}function VE(t){return t._firestoreClient||UE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function UE(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,d){return new kA(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,jE(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new WR(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(Nt.fromBase64String(e))}catch(n){throw new se(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rs(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=/^__.*__$/;class nN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ta(e,this.data,n,this.fieldTransforms)}}class FE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class _p{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new _p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Eu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(BE(this.fu)&&tN.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class rN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ec(e)}Fu(e,n,r,i=!1){return new _p({fu:e,methodName:n,vu:r,path:yt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wp(t){const e=t._freezeSettings(),n=ec(t._databaseId);return new rN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iN(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Ep("Data must be an object, but it was:",o,r);const l=zE(r,o);let u,c;if(s.merge)u=new en(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const v=Rh(e,p,n);if(!o.contains(v))throw new se(W.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);qE(d,v)||d.push(v)}u=new en(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new nN(new $t(l),u,c)}class ac extends yp{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ac}}function sN(t,e,n,r){const i=t.Fu(1,e,n);Ep("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();Oi(r,(u,c)=>{const d=Tp(e,u,n);c=Ze(c);const p=i.Su(d);if(c instanceof ac)s.push(d);else{const v=Ca(c,p);v!=null&&(s.push(d),o.set(d,v))}});const l=new en(s);return new FE(o,l,i.fieldTransforms)}function oN(t,e,n,r,i,s){const o=t.Fu(1,e,n),l=[Rh(e,r,n)],u=[i];if(s.length%2!=0)throw new se(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)l.push(Rh(e,s[v])),u.push(s[v+1]);const c=[],d=$t.empty();for(let v=l.length-1;v>=0;--v)if(!qE(c,l[v])){const T=l[v];let A=u[v];A=Ze(A);const R=o.Su(T);if(A instanceof ac)c.push(T);else{const N=Ca(A,R);N!=null&&(c.push(T),d.set(T,N))}}const p=new en(c);return new FE(d,p,o.fieldTransforms)}function aN(t,e,n,r=!1){return Ca(n,t.Fu(r?4:3,e))}function Ca(t,e){if($E(t=Ze(t)))return Ep("Unsupported field value:",e,t),zE(t,e);if(t instanceof yp)return function(r,i){if(!BE(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Ca(l,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:_u(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_u(i.serializer,s)}}if(r instanceof vp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rs)return{bytesValue:cE(i.serializer,r._byteString)};if(r instanceof nn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sp(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${rc(r)}`)}(t,e)}function zE(t,e){const n={};return Mw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oi(t,(r,i)=>{const s=Ca(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $E(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof vp||t instanceof Rs||t instanceof nn||t instanceof yp)}function Ep(t,e,n){if(!$E(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=rc(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Rh(t,e,n){if((e=Ze(e))instanceof oc)return e._internalPath;if(typeof e=="string")return Tp(t,e);throw Eu("Field path arguments must be of type string or ",t,!1,void 0,n)}const lN=new RegExp("[~\\*/\\[\\]]");function Tp(t,e,n){if(e.search(lN)>=0)throw Eu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oc(...e.split("."))._internalPath}catch{throw Eu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new se(W.INVALID_ARGUMENT,l+t+u)}function qE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uN extends WE{data(){return super.data()}}function lc(t,e){return typeof e=="string"?Tp(t,e):e instanceof oc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ip{}class HE extends Ip{}function KE(t,e,...n){let r=[];e instanceof Ip&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof xp).length,l=s.filter(u=>u instanceof uc).length;if(o>1||o>0&&l>0)throw new se(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class uc extends HE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uc(e,n,r)}_apply(e){const n=this._parse(e);return GE(e._query,n),new Li(e.firestore,e.converter,Th(e._query,n))}_parse(e){const n=wp(e.firestore);return function(s,o,l,u,c,d,p){let v;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new se(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Ky(p,d);const T=[];for(const A of p)T.push(Hy(u,s,A));v={arrayValue:{values:T}}}else v=Hy(u,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Ky(p,d),v=aN(l,o,p,d==="in"||d==="not-in");return it.create(c,d,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dN(t,e,n){const r=e,i=lc("where",t);return uc._create(i,r,n)}class xp extends Ip{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)GE(o,u),o=Th(o,u)}(e._query,n),new Li(e.firestore,e.converter,Th(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bp extends HE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bp(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new se(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new se(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ia(s,o)}(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ms(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function hN(t,e="asc"){const n=e,r=lc("orderBy",t);return bp._create(r,n)}function Hy(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new se(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kw(e)&&n.indexOf("/")!==-1)throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!le.isDocumentKey(r))throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return my(t,new le(r))}if(n instanceof nn)return my(t,n._key);throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rc(n)}.`)}function Ky(t,e){if(!Array.isArray(t)||t.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GE(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fN{convertValue(e,n="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new vp(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ta(e));default:return null}}convertTimestamp(e){const n=$r(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Oe(gE(r));const i=new na(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||ir(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mN extends WE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jl extends mN{data(e={}){return super.data(e)}}class gN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ml(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jl(this._firestore,this._userDataWriter,r.key,r,new ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new jl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ml(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new jl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ml(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:yN(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}class vN extends fN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function ys(t){t=ki(t,Li);const e=ki(t.firestore,Sa),n=VE(e),r=new vN(e);return cN(t._query),XR(n,t._query).then(i=>new gN(e,r,t,i))}function QE(t,e,n,...r){t=ki(t,nn);const i=ki(t.firestore,Sa),s=wp(i);let o;return o=typeof(e=Ze(e))=="string"||e instanceof oc?oN(s,"updateDoc",t._key,e,n,r):sN(s,"updateDoc",t._key,e),Cp(i,[o.toMutation(t._key,Tn.exists(!0))])}function _N(t){return Cp(ki(t.firestore,Sa),[new np(t._key,Tn.none())])}function Sp(t,e){const n=ki(t.firestore,Sa),r=sc(t),i=pN(t.converter,e);return Cp(n,[iN(wp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tn.exists(!1))]).then(()=>r)}function Cp(t,e){return function(r,i){const s=new jr;return r.asyncQueue.enqueueAndForget(async()=>LR(await GR(r),i,s)),s.promise}(VE(t),e)}(function(e,n=!0){(function(i){js=i})(Ri),Ei(new Br("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Sa(new fA(r.getProvider("auth-internal")),new yA(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new na(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Dn(dy,"4.6.4",e),Dn(dy,"4.6.4","esm2017")})();const wN={apiKey:"AIzaSyAomjHvZ-PiDd_kUDlpIdIBMddXLPqOS9c",authDomain:"registro-estudiantil-869e6.firebaseapp.com",projectId:"registro-estudiantil-869e6",storageBucket:"registro-estudiantil-869e6.appspot.com",messagingSenderId:"285018278171",appId:"1:285018278171:web:f2072bb15fe658a9b02bbe"},kp=S0(wN),XE=aA(kp),rn=eN(kp),Tu=XC(kp);Un(rn,"UnidadesMedida");const EN=async t=>{const{email:e,password:n}=t,i=(await DS(Tu,e,n)).user.uid;if(t.imagen!==null){const o=Cw(XE,"imagenavatar/"+v4());await bw(o,t.imagen).then(u=>{});const l=await Sw(o);t.imagen=l}return await Sp(Un(rn,"usuarios"),{userid:i,nombre:t.nombre,email:t.email,contrasea:t.password,roles:t.roles,tienda:t.tienda,fechaCreacion:new Date})},TN=async t=>{if(console.log(t),t.nuevaImagen!==null){const n=Cw(XE,"imagenavatar/"+v4());await bw(n,t.nuevaImagen).then(i=>{});const r=await Sw(n);t.imagen=r}const e=sc(rn,"usuarios",t.id);return await QE(e,{nombre:t.nombre,email:t.email,contrasea:t.password,roles:t.roles,tienda:t.tienda}),e},IN=async t=>{const{user:e}=await LS(Tu,t.email,t.password);return e},xN=async()=>{const t=await ys(Un(rn,"usuarios")),e=[];return t.forEach(n=>{e.push({...n.data(),id:n.id})}),e},bN=async t=>{const e=KE(Un(rn,"usuarios"),dN("userid","==",t));return(await ys(e)).docs[0].data()},SN=async t=>await Sp(Un(rn,"productos"),{nombre:t.nombre,descripcion:t.descripcion,codigo:t.codigo,modelo:t.modelo,cantidad:t.cantidad,fechaCreacion:new Date}),CN=async t=>{swal("Rgistro editado correctamente",{icon:"success"});const e=sc(rn,"productos",t.id);return await QE(e,{nombre:t.nombre,descripcion:t.descripcion,codigo:t.codigo,modelo:t.modelo,cantidad:t.cantidad,fechaModificacion:new Date}),e},YE=async()=>{const t=await ys(KE(Un(rn,"productos"),hN("fechaCreacion","desc"))),e=[];return t.forEach(n=>{e.push({...n.data(),id:n.id})}),e},kN=async t=>{await _N(sc(rn,"productos",t)),swal("Producto eliminado correctamente",{icon:"success"})},JE=async t=>{try{return t.forEach(async e=>{await Sp(Un(rn,"productos"),{nombre:(e==null?void 0:e.nombre)||"Sin nombre",descripcion:(e==null?void 0:e.descripcion)||"Sin descripcion",codigo:(e==null?void 0:e.codigo)||"Sin codigo",modelo:(e==null?void 0:e.modelo)||"Sin modelo",cantidad:(e==null?void 0:e.cantidad)||0,fechaCreacion:new Date,fechaModificacion:new Date})}),"Productos importados correctamente"}catch(e){console.error(e),swal("Error","Ocurri un error al importar los productos revisa el archivo e intenta de nuevo","error")}},AN=()=>{const[t,e]=B.useState(""),[n,r]=B.useState(""),[i,s]=B.useState(!1),o=async l=>{s(!0),l.preventDefault(),await IN({email:t,password:n}),s(!1)};return f.jsx("div",{className:"container-fluid p-0",children:f.jsxs("div",{className:"row g-0",children:[f.jsx("div",{className:"col-xl-6 d-none d-xl-flex",children:f.jsxs("div",{className:"auth-full-page position-relative",children:[f.jsx("img",{src:"/src/assets/images/logo2.png",className:"auth-bg",alt:"Unsplash"}),f.jsxs("div",{className:"auth-quote",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","data-lucide":"quote",className:"lucide lucide-quote",children:[f.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"}),f.jsx("path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"})]}),f.jsxs("figure",{children:[f.jsx("blockquote",{children:f.jsxs("p",{className:"text-white h2 fw-normal mb-4 mt-3  text-uppercase fw-bold ",children:["CEPYMA                  ",f.jsx("br",{}),f.jsx("span",{className:"text-white h2 fw-normal mb-4 mt-3 text-center text-uppercase fw-bold",children:'"Regstrate hoy, lidera maana."'})]})}),f.jsx("figcaption",{})]})]})]})}),f.jsx("div",{className:"col-xl-6",children:f.jsx("div",{className:"auth-full-page d-flex p-4 p-xl-5",children:f.jsxs("div",{className:"d-flex flex-column w-100 h-100",children:[f.jsxs("div",{className:"auth-form",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"h2",children:"Bienvenido de nuevo!"}),f.jsx("p",{className:"lead",children:"Inicia sesin en tu cuenta para continuar"})]}),f.jsxs("div",{className:"mb-3",children:[f.jsxs("div",{className:"d-grid gap-2 mb-3",children:[f.jsxs("a",{className:"btn btn-facebook btn-lg position-relative shadow",href:"/dashboard-default",children:[f.jsx("i",{className:"fab fa-fw fa-facebook fs-3 float-start"}),f.jsx("span",{className:"position-absolute mx-auto w-100 left-0",children:"Continue with Facebook"})]}),f.jsxs("a",{className:"btn btn-google btn-lg position-relative shadow",href:"/dashboard-default",children:[f.jsx("i",{className:"fab fa-fw fa-google fa-google-colored fs-3  float-start"}),f.jsx("span",{className:"position-absolute mx-auto w-100 left-0",children:"Continue with Google"})]}),f.jsxs("a",{className:"btn btn-apple btn-lg position-relative shadow",href:"/dashboard-default",children:[f.jsx("i",{className:"fab fa-fw fa-apple fs-3 float-start"}),f.jsx("span",{className:"position-absolute mx-auto w-100 left-0",children:"Continue with Apple"})]})," "]}),f.jsxs("div",{className:"row",children:[f.jsx("div",{className:"col",children:f.jsx("hr",{})}),f.jsx("div",{className:"col-auto text-uppercase d-flex align-items-center",children:"Or"}),f.jsx("div",{className:"col",children:f.jsx("hr",{})})]}),f.jsxs("form",{children:[f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{className:"form-label",children:"Email"}),f.jsx("input",{className:"form-control form-control-lg",type:"email",name:"email",placeholder:"Enter your email",value:t,onChange:l=>e(l.target.value)})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{className:"form-label",children:"Password"}),f.jsx("input",{className:"form-control form-control-lg",type:"password",name:"password",placeholder:"Enter your password",value:n,onChange:l=>r(l.target.value)}),f.jsx("small",{children:f.jsx("a",{href:"/auth-reset-password-cover",children:"Forgot password?"})})]}),f.jsx("div",{children:f.jsxs("div",{className:"form-check align-items-center",children:[f.jsx("input",{id:"customControlInline",type:"checkbox",className:"form-check-input",defaultValue:"remember-me",name:"remember-me",defaultChecked:""}),f.jsx("label",{className:"form-check-label text-small",htmlFor:"customControlInline",children:"Remember me"})]})}),f.jsx("div",{className:"d-grid gap-2 mt-3",children:f.jsx("a",{className:"btn btn-lg btn-primary",onClick:o,to:"/dashboards",children:"Sign in"})})]})]}),f.jsxs("div",{className:"text-center",children:["Don't have an account? ",f.jsx("a",{href:"/auth-sign-up-cover",children:"Sign up"})]})]}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"mb-0",children:[" 2024 - ",f.jsx("a",{href:"/",children:"W-J-Z-M"})]})})]})})})]})})};/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aa.apply(this,arguments)}var br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(br||(br={}));const Gy="popstate";function PN(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:l="",hash:u=""}=ji(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Nh("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof s=="string"?s:Iu(s))}function r(i,s){Ap(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return NN(e,n,r,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ap(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RN(){return Math.random().toString(36).substr(2,8)}function Qy(t,e){return{usr:t.state,key:t.key,idx:e}}function Nh(t,e,n,r){return n===void 0&&(n=null),aa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ji(e):e,{state:n,key:e&&e.key||r||RN()})}function Iu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ji(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function NN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=br.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(aa({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=br.Pop;let N=d(),y=N==null?null:N-c;c=N,u&&u({action:l,location:R.location,delta:y})}function v(N,y){l=br.Push;let w=Nh(R.location,N,y);n&&n(w,N),c=d()+1;let g=Qy(w,c),C=R.createHref(w);try{o.pushState(g,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(C)}s&&u&&u({action:l,location:R.location,delta:1})}function T(N,y){l=br.Replace;let w=Nh(R.location,N,y);n&&n(w,N),c=d();let g=Qy(w,c),C=R.createHref(w);o.replaceState(g,"",C),s&&u&&u({action:l,location:R.location,delta:0})}function A(N){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof N=="string"?N:Iu(N);return w=w.replace(/ $/,"%20"),st(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let R={get action(){return l},get location(){return t(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Gy,p),u=N,()=>{i.removeEventListener(Gy,p),u=null}},createHref(N){return e(i,N)},createURL:A,encodeLocation(N){let y=A(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:v,replace:T,go(N){return o.go(N)}};return R}var Xy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xy||(Xy={}));function ON(t,e,n){return n===void 0&&(n="/"),DN(t,e,n,!1)}function DN(t,e,n,r){let i=typeof e=="string"?ji(e):e,s=Pp(i.pathname||"/",n);if(s==null)return null;let o=ZE(t);LN(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=HN(s);l=qN(o[u],c,r)}return l}function ZE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(st(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Vr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(st(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ZE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:zN(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of eT(s.path))i(s,o,u)}),e}function eT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=eT(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function LN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$N(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jN=/^:[\w-]+$/,MN=3,VN=2,UN=1,FN=10,BN=-2,Yy=t=>t==="*";function zN(t,e){let n=t.split("/"),r=n.length;return n.some(Yy)&&(r+=BN),e&&(r+=VN),n.filter(i=>!Yy(i)).reduce((i,s)=>i+(jN.test(s)?MN:s===""?UN:FN),r)}function $N(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Jy({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),v=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Jy({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Vr([s,p.pathname]),pathnameBase:XN(Vr([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=Vr([s,p.pathnameBase]))}return o}function Jy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:v,isOptional:T}=d;if(v==="*"){let R=l[p]||"";o=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const A=l[p];return T&&!A?c[v]=void 0:c[v]=(A||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function WN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ap(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ap(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Pp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function KN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ji(t):t;return{pathname:n?n.startsWith("/")?n:GN(n,e):e,search:YN(r),hash:JN(i)}}function GN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tT(t,e){let n=QN(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ji(t):(i=aa({},t),st(!i.pathname||!i.pathname.includes("?"),dd("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),dd("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),dd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}l=p>=0?e[p]:"/"}let u=KN(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Vr=t=>t.join("/").replace(/\/\/+/g,"/"),XN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rT=["post","put","patch","delete"];new Set(rT);const eO=["get",...rT];new Set(eO);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(this,arguments)}const Rp=B.createContext(null),tO=B.createContext(null),Mi=B.createContext(null),cc=B.createContext(null),Yr=B.createContext({outlet:null,matches:[],isDataRoute:!1}),iT=B.createContext(null);function nO(t,e){let{relative:n}=e===void 0?{}:e;ka()||st(!1);let{basename:r,navigator:i}=B.useContext(Mi),{hash:s,pathname:o,search:l}=oT(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Vr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function ka(){return B.useContext(cc)!=null}function dc(){return ka()||st(!1),B.useContext(cc).location}function sT(t){B.useContext(Mi).static||B.useLayoutEffect(t)}function rO(){let{isDataRoute:t}=B.useContext(Yr);return t?yO():iO()}function iO(){ka()||st(!1);let t=B.useContext(Rp),{basename:e,future:n,navigator:r}=B.useContext(Mi),{matches:i}=B.useContext(Yr),{pathname:s}=dc(),o=JSON.stringify(tT(i,n.v7_relativeSplatPath)),l=B.useRef(!1);return sT(()=>{l.current=!0}),B.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=nT(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Vr([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}function sO(){let{matches:t}=B.useContext(Yr),e=t[t.length-1];return e?e.params:{}}function oT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(Mi),{matches:i}=B.useContext(Yr),{pathname:s}=dc(),o=JSON.stringify(tT(i,r.v7_relativeSplatPath));return B.useMemo(()=>nT(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function oO(t,e){return aO(t,e)}function aO(t,e,n,r){ka()||st(!1);let{navigator:i}=B.useContext(Mi),{matches:s}=B.useContext(Yr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=dc(),d;if(e){var p;let N=typeof e=="string"?ji(e):e;u==="/"||(p=N.pathname)!=null&&p.startsWith(u)||st(!1),d=N}else d=c;let v=d.pathname||"/",T=v;if(u!=="/"){let N=u.replace(/^\//,"").split("/");T="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let A=ON(t,{pathname:T}),R=hO(A&&A.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Vr([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Vr([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return e&&R?B.createElement(cc.Provider,{value:{location:la({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:br.Pop}},R):R}function lO(){let t=gO(),e=ZN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const uO=B.createElement(lO,null);class cO extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(Yr.Provider,{value:this.props.routeContext},B.createElement(iT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dO(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(Rp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Yr.Provider,{value:e},r)}function hO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||st(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:v,errors:T}=n,A=p.route.loader&&v[p.route.id]===void 0&&(!T||T[p.route.id]===void 0);if(p.route.lazy||A){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,v)=>{let T,A=!1,R=null,N=null;n&&(T=l&&p.route.id?l[p.route.id]:void 0,R=p.route.errorElement||uO,u&&(c<0&&v===0?(A=!0,N=null):c===v&&(A=!0,N=p.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,v+1)),w=()=>{let g;return T?g=R:A?g=N:p.route.Component?g=B.createElement(p.route.Component,null):p.route.element?g=p.route.element:g=d,B.createElement(dO,{match:p,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:g})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?B.createElement(cO,{location:n.location,revalidation:n.revalidation,component:R,error:T,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var aT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aT||{}),xu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xu||{});function fO(t){let e=B.useContext(Rp);return e||st(!1),e}function pO(t){let e=B.useContext(tO);return e||st(!1),e}function mO(t){let e=B.useContext(Yr);return e||st(!1),e}function lT(t){let e=mO(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function gO(){var t;let e=B.useContext(iT),n=pO(xu.UseRouteError),r=lT(xu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function yO(){let{router:t}=fO(aT.UseNavigateStable),e=lT(xu.UseNavigateStable),n=B.useRef(!1);return sT(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,la({fromRouteId:e},s)))},[t,e])}function Cn(t){st(!1)}function vO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=br.Pop,navigator:s,static:o=!1,future:l}=t;ka()&&st(!1);let u=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:u,navigator:s,static:o,future:la({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=ji(r));let{pathname:d="/",search:p="",hash:v="",state:T=null,key:A="default"}=r,R=B.useMemo(()=>{let N=Pp(d,u);return N==null?null:{location:{pathname:N,search:p,hash:v,state:T,key:A},navigationType:i}},[u,d,p,v,T,A,i]);return R==null?null:B.createElement(Mi.Provider,{value:c},B.createElement(cc.Provider,{children:n,value:R}))}function _O(t){let{children:e,location:n}=t;return oO(Oh(e),n)}new Promise(()=>{});function Oh(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let s=[...e,i];if(r.type===B.Fragment){n.push.apply(n,Oh(r.props.children,s));return}r.type!==Cn&&st(!1),!r.props.index||!r.props.children||st(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Oh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(this,arguments)}function wO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function EO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TO(t,e){return t.button===0&&(!e||e==="_self")&&!EO(t)}const IO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],xO="6";try{window.__reactRouterVersion=xO}catch{}const bO="startTransition",Zy=JT[bO];function SO(t){let{basename:e,children:n,future:r,window:i}=t,s=B.useRef();s.current==null&&(s.current=PN({window:i,v5Compat:!0}));let o=s.current,[l,u]=B.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=B.useCallback(p=>{c&&Zy?Zy(()=>u(p)):u(p)},[u,c]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(vO,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const CO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=B.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:d,unstable_viewTransition:p}=e,v=wO(e,IO),{basename:T}=B.useContext(Mi),A,R=!1;if(typeof c=="string"&&kO.test(c)&&(A=c,CO))try{let g=new URL(window.location.href),C=c.startsWith("//")?new URL(g.protocol+c):new URL(c),O=Pp(C.pathname,T);C.origin===g.origin&&O!=null?c=O+C.search+C.hash:R=!0}catch{}let N=nO(c,{relative:i}),y=AO(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:p});function w(g){r&&r(g),g.defaultPrevented||y(g)}return B.createElement("a",Dh({},v,{href:A||N,onClick:R||s?r:w,ref:n,target:u}))});var ev;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ev||(ev={}));var tv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tv||(tv={}));function AO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=rO(),c=dc(),d=oT(t,{relative:o});return B.useCallback(p=>{if(TO(p,n)){p.preventDefault();let v=r!==void 0?r:Iu(c)===Iu(d);u(t,{replace:v,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,u,d,r,i,n,t,s,o,l])}const hd=()=>{const[t,e]=B.useState([]),[n,r]=B.useState([]),[i,s]=B.useState("daily");return B.useEffect(()=>{(async()=>{const l=await ys(Un(rn,"productos")),u=[];l.forEach(c=>{u.push({...c.data(),id:c.id})}),e(u)})()},[]),B.useEffect(()=>{(async()=>{const l=await ys(Un(rn,"entradas")),u=[];l.forEach(p=>{u.push({...p.data(),id:p.id,status:"entradas"})});const c=await ys(Un(rn,"salidas")),d=[];c.forEach(p=>{d.push({...p.data(),id:p.id,status:"salidas"})}),r([...u,...d])})()},[t]),f.jsx("div",{children:f.jsx("main",{className:"content",children:f.jsxs("div",{className:"container-fluid p-0",children:[f.jsxs("div",{className:"row mb-2 mb-xl-3",children:[f.jsx("div",{className:"col-auto d-none d-sm-block",children:f.jsx("h3",{children:"Dashboard"})}),f.jsxs("div",{className:"col-auto d-flex",children:[f.jsx("button",{onClick:()=>s("daily"),className:"btn btn-primary me-2",children:"Diario"}),f.jsx("button",{onClick:()=>s("monthly"),className:"btn btn-primary me-2",children:"Mensual"}),f.jsx("button",{onClick:()=>s("yearly"),className:"btn btn-primary",children:"Anual"})]})]}),f.jsxs("div",{className:"row",children:[f.jsx("div",{className:"col-12 col-sm-6 col-xxl-3 d-flex",children:f.jsx("div",{className:"card illustration flex-fill",children:f.jsx("div",{className:"card-body p-0 d-flex flex-fill",children:f.jsxs("div",{className:"row g-0 w-100",children:[f.jsx("div",{className:"col-6",children:f.jsxs("div",{className:"illustration-text p-3 m-1",children:[f.jsx("h4",{className:"illustration-text",children:"Bienvenido de nuevo, CEPYMA!"}),f.jsx("p",{className:"mb-0",children:"Panel de Registro estudiantil"})]})}),f.jsx("div",{className:"col-6 align-self-end text-end",children:f.jsx("img",{src:"src/assets/images/image.png",alt:"Customer Support",className:"img-fluid illustration-img"})})]})})})}),f.jsx("div",{className:"col-12 col-sm-6 col-xxl-3 d-flex",children:f.jsx("div",{className:"card flex-fill",children:f.jsx("div",{className:"card-body py-4",children:f.jsxs("div",{className:"d-flex align-items-start",children:[f.jsxs("div",{className:"flex-grow-1",children:[f.jsx("h3",{className:"mb-2",children:t.length}),f.jsx("h3",{children:"Estudiantes"}),f.jsx("p",{className:"mb-2 badge badge-subtle-success me-2",children:"Presentes Total"})]}),f.jsxs("div",{className:"d-inline-block ms-3",children:[f.jsx("div",{className:"stat",children:f.jsx("i",{className:"align-middle ti ti-package"})}),f.jsx("i",{className:"align-middle text-success","data-lucide":"arrow-up"})]})]})})})}),f.jsx("div",{className:"col-12 col-sm-6 col-xxl-3 d-flex",children:f.jsx("div",{className:"card flex-fill",children:f.jsx("div",{className:"card-body py-4",children:f.jsxs("div",{className:"d-flex align-items-start",children:[f.jsxs("div",{className:"flex-grow-1",children:[f.jsx("h3",{className:"mb-2",children:n.filter(o=>o.status==="entradas").length}),f.jsx("h3",{children:"Mujeres"}),f.jsx("p",{className:"mb-2 badge badge-subtle-info me-2",children:"Mujeres"})]}),f.jsxs("div",{className:"d-inline-block ms-3",children:[f.jsx("div",{className:"stat",children:f.jsx("i",{className:"align-middle ti ti-arrow-up"})}),f.jsx("i",{className:"align-middle text-info","data-lucide":"arrow-down"})]})]})})})}),f.jsx("div",{className:"col-12 col-sm-6 col-xxl-3 d-flex",children:f.jsx("div",{className:"card flex-fill",children:f.jsx("div",{className:"card-body py-4",children:f.jsxs("div",{className:"d-flex align-items-start",children:[f.jsxs("div",{className:"flex-grow-1",children:[f.jsx("h3",{className:"mb-2",children:n.filter(o=>o.status==="salidas").length}),f.jsx("h3",{children:"Varones"}),f.jsx("p",{className:"mb-2 badge badge-subtle-warning me-2 font-weight-normal",children:"Hombres"})]}),f.jsxs("div",{className:"d-inline-block ms-3",children:[f.jsx("div",{className:"stat",children:f.jsx("i",{className:"align-middle ti ti-arrow-down"})}),f.jsx("i",{className:"align-middle text-warning","data-lucide":"arrow-up"})]})]})})})})]})]})})})};var uT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Lh,function(){return function(n){function r(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(s,o,l){r.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(o,"a",o),o},r.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},r.p="",r(r.s=8)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s="swal-button";r.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:s,CONFIRM_BUTTON:s+"--confirm",CANCEL_BUTTON:s+"--cancel",DANGER_BUTTON:s+"--danger",BUTTON_LOADING:s+"--loading",BUTTON_LOADER:s+"__loader"},r.default=r.CLASS_NAMES},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getNode=function(s){var o="."+s;return document.querySelector(o)},r.stringToNode=function(s){var o=document.createElement("div");return o.innerHTML=s.trim(),o.firstChild},r.insertAfter=function(s,o){var l=o.nextSibling;o.parentNode.insertBefore(s,l)},r.removeNode=function(s){s.parentElement.removeChild(s)},r.throwErr=function(s){throw s=s.replace(/ +(?= )/g,""),"SweetAlert: "+(s=s.trim())},r.isPlainObject=function(s){if(Object.prototype.toString.call(s)!=="[object Object]")return!1;var o=Object.getPrototypeOf(s);return o===null||o===Object.prototype},r.ordinalSuffixOf=function(s){var o=s%10,l=s%100;return o===1&&l!==11?s+"st":o===2&&l!==12?s+"nd":o===3&&l!==13?s+"rd":s+"th"}},function(n,r,i){function s(v){for(var T in v)r.hasOwnProperty(T)||(r[T]=v[T])}Object.defineProperty(r,"__esModule",{value:!0}),s(i(25));var o=i(26);r.overlayMarkup=o.default,s(i(27)),s(i(28)),s(i(29));var l=i(0),u=l.default.MODAL_TITLE,c=l.default.MODAL_TEXT,d=l.default.ICON,p=l.default.FOOTER;r.iconMarkup=`
  <div class="`+d+'"></div>',r.titleMarkup=`
  <div class="`+u+`"></div>
`,r.textMarkup=`
  <div class="`+c+'"></div>',r.footerMarkup=`
  <div class="`+p+`"></div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1);r.CONFIRM_KEY="confirm",r.CANCEL_KEY="cancel";var o={visible:!0,text:null,value:null,className:"",closeModal:!0},l=Object.assign({},o,{visible:!1,text:"Cancel",value:null}),u=Object.assign({},o,{text:"OK",value:!0});r.defaultButtonList={cancel:l,confirm:u};var c=function(T){switch(T){case r.CONFIRM_KEY:return u;case r.CANCEL_KEY:return l;default:var A=T.charAt(0).toUpperCase()+T.slice(1);return Object.assign({},o,{text:A,value:T})}},d=function(T,A){var R=c(T);return A===!0?Object.assign({},R,{visible:!0}):typeof A=="string"?Object.assign({},R,{visible:!0,text:A}):s.isPlainObject(A)?Object.assign({visible:!0},R,A):Object.assign({},R,{visible:!1})},p=function(T){for(var A={},R=0,N=Object.keys(T);R<N.length;R++){var y=N[R],w=T[y],g=d(y,w);A[y]=g}return A.cancel||(A.cancel=l),A},v=function(T){var A={};switch(T.length){case 1:A[r.CANCEL_KEY]=Object.assign({},l,{visible:!1});break;case 2:A[r.CANCEL_KEY]=d(r.CANCEL_KEY,T[0]),A[r.CONFIRM_KEY]=d(r.CONFIRM_KEY,T[1]);break;default:s.throwErr("Invalid number of 'buttons' in array ("+T.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return A};r.getButtonListOpts=function(T){var A=r.defaultButtonList;return typeof T=="string"?A[r.CONFIRM_KEY]=d(r.CONFIRM_KEY,T):Array.isArray(T)?A=v(T):s.isPlainObject(T)?A=p(T):T===!0?A=v([!0,!0]):T===!1?A=v([!1,!1]):T===void 0&&(A=r.defaultButtonList),A}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=i(2),l=i(0),u=l.default.MODAL,c=l.default.OVERLAY,d=i(30),p=i(31),v=i(32),T=i(33);r.injectElIntoModal=function(y){var w=s.getNode(u),g=s.stringToNode(y);return w.appendChild(g),g};var A=function(y){y.className=u,y.textContent=""},R=function(y,w){A(y);var g=w.className;g&&y.classList.add(g)};r.initModalContent=function(y){var w=s.getNode(u);R(w,y),d.default(y.icon),p.initTitle(y.title),p.initText(y.text),T.default(y.content),v.default(y.buttons,y.dangerMode)};var N=function(){var y=s.getNode(c),w=s.stringToNode(o.modalMarkup);y.appendChild(w)};r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(3),o={isOpen:!1,promise:null,actions:{},timer:null},l=Object.assign({},o);r.resetState=function(){l=Object.assign({},o)},r.setActionValue=function(c){if(typeof c=="string")return u(s.CONFIRM_KEY,c);for(var d in c)u(d,c[d])};var u=function(c,d){l.actions[c]||(l.actions[c]={}),Object.assign(l.actions[c],{value:d})};r.setActionOptionsFor=function(c,d){var p=(d===void 0?{}:d).closeModal,v=p===void 0||p;Object.assign(l.actions[c],{closeModal:v})},r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=i(3),l=i(0),u=l.default.OVERLAY,c=l.default.SHOW_MODAL,d=l.default.BUTTON,p=l.default.BUTTON_LOADING,v=i(5);r.openModal=function(){s.getNode(u).classList.add(c),v.default.isOpen=!0};var T=function(){s.getNode(u).classList.remove(c),v.default.isOpen=!1};r.onAction=function(A){A===void 0&&(A=o.CANCEL_KEY);var R=v.default.actions[A],N=R.value;if(R.closeModal===!1){var y=d+"--"+A;s.getNode(y).classList.add(p)}else T();v.default.promise.resolve(N)},r.getState=function(){var A=Object.assign({},v.default);return delete A.promise,delete A.timer,A},r.stopLoading=function(){for(var A=document.querySelectorAll("."+d),R=0;R<A.length;R++)A[R].classList.remove(p)}},function(n,r){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){(function(s){n.exports=s.sweetAlert=i(9)}).call(r,i(7))},function(n,r,i){(function(s){n.exports=s.swal=i(10)}).call(r,i(7))},function(n,r,i){typeof window<"u"&&i(11),i(16);var s=i(23).default;n.exports=s},function(n,r,i){var s=i(12);typeof s=="string"&&(s=[[n.i,s,""]]);var o={insertAt:"top"};o.transform=void 0,i(14)(s,o),s.locals&&(n.exports=s.locals)},function(n,r,i){r=n.exports=i(13)(void 0),r.push([n.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(n,r){function i(o,l){var u=o[1]||"",c=o[3];if(!c)return u;if(l&&typeof btoa=="function"){var d=s(c);return[u].concat(c.sources.map(function(p){return"/*# sourceURL="+c.sourceRoot+p+" */"})).concat([d]).join(`
`)}return[u].join(`
`)}function s(o){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"}n.exports=function(o){var l=[];return l.toString=function(){return this.map(function(u){var c=i(u,o);return u[2]?"@media "+u[2]+"{"+c+"}":c}).join("")},l.i=function(u,c){typeof u=="string"&&(u=[[null,u,""]]);for(var d={},p=0;p<this.length;p++){var v=this[p][0];typeof v=="number"&&(d[v]=!0)}for(p=0;p<u.length;p++){var T=u[p];typeof T[0]=="number"&&d[T[0]]||(c&&!T[2]?T[2]=c:c&&(T[2]="("+T[2]+") and ("+c+")"),l.push(T))}},l}},function(n,r,i){function s(_,E){for(var b=0;b<_.length;b++){var k=_[b],P=N[k.id];if(P){P.refs++;for(var I=0;I<P.parts.length;I++)P.parts[I](k.parts[I]);for(;I<k.parts.length;I++)P.parts.push(v(k.parts[I],E))}else{for(var X=[],I=0;I<k.parts.length;I++)X.push(v(k.parts[I],E));N[k.id]={id:k.id,refs:1,parts:X}}}}function o(_,E){for(var b=[],k={},P=0;P<_.length;P++){var I=_[P],X=E.base?I[0]+E.base:I[0],te=I[1],ve=I[2],Ae=I[3],K={css:te,media:ve,sourceMap:Ae};k[X]?k[X].parts.push(K):b.push(k[X]={id:X,parts:[K]})}return b}function l(_,E){var b=w(_.insertInto);if(!b)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var k=O[O.length-1];if(_.insertAt==="top")k?k.nextSibling?b.insertBefore(E,k.nextSibling):b.appendChild(E):b.insertBefore(E,b.firstChild),O.push(E);else{if(_.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");b.appendChild(E)}}function u(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_);var E=O.indexOf(_);E>=0&&O.splice(E,1)}function c(_){var E=document.createElement("style");return _.attrs.type="text/css",p(E,_.attrs),l(_,E),E}function d(_){var E=document.createElement("link");return _.attrs.type="text/css",_.attrs.rel="stylesheet",p(E,_.attrs),l(_,E),E}function p(_,E){Object.keys(E).forEach(function(b){_.setAttribute(b,E[b])})}function v(_,E){var b,k,P,I;if(E.transform&&_.css){if(!(I=E.transform(_.css)))return function(){};_.css=I}if(E.singleton){var X=C++;b=g||(g=c(E)),k=T.bind(null,b,X,!1),P=T.bind(null,b,X,!0)}else _.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(b=d(E),k=R.bind(null,b,E),P=function(){u(b),b.href&&URL.revokeObjectURL(b.href)}):(b=c(E),k=A.bind(null,b),P=function(){u(b)});return k(_),function(te){if(te){if(te.css===_.css&&te.media===_.media&&te.sourceMap===_.sourceMap)return;k(_=te)}else P()}}function T(_,E,b,k){var P=b?"":k.css;if(_.styleSheet)_.styleSheet.cssText=S(E,P);else{var I=document.createTextNode(P),X=_.childNodes;X[E]&&_.removeChild(X[E]),X.length?_.insertBefore(I,X[E]):_.appendChild(I)}}function A(_,E){var b=E.css,k=E.media;if(k&&_.setAttribute("media",k),_.styleSheet)_.styleSheet.cssText=b;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(b))}}function R(_,E,b){var k=b.css,P=b.sourceMap,I=E.convertToAbsoluteUrls===void 0&&P;(E.convertToAbsoluteUrls||I)&&(k=V(k)),P&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(P))))+" */");var X=new Blob([k],{type:"text/css"}),te=_.href;_.href=URL.createObjectURL(X),te&&URL.revokeObjectURL(te)}var N={},y=function(_){var E;return function(){return E===void 0&&(E=_.apply(this,arguments)),E}}(function(){return window&&document&&document.all&&!window.atob}),w=function(_){var E={};return function(b){return E[b]===void 0&&(E[b]=_.call(this,b)),E[b]}}(function(_){return document.querySelector(_)}),g=null,C=0,O=[],V=i(15);n.exports=function(_,E){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");E=E||{},E.attrs=typeof E.attrs=="object"?E.attrs:{},E.singleton||(E.singleton=y()),E.insertInto||(E.insertInto="head"),E.insertAt||(E.insertAt="bottom");var b=o(_,E);return s(b,E),function(k){for(var P=[],I=0;I<b.length;I++){var X=b[I],te=N[X.id];te.refs--,P.push(te)}k&&s(o(k,E),E);for(var I=0;I<P.length;I++){var te=P[I];if(te.refs===0){for(var ve=0;ve<te.parts.length;ve++)te.parts[ve]();delete N[te.id]}}}};var S=function(){var _=[];return function(E,b){return _[E]=b,_.filter(Boolean).join(`
`)}}()},function(n,r){n.exports=function(i){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var o=s.protocol+"//"+s.host,l=o+s.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(u,c){var d=c.trim().replace(/^"(.*)"$/,function(v,T){return T}).replace(/^'(.*)'$/,function(v,T){return T});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(d))return u;var p;return p=d.indexOf("//")===0?d:d.indexOf("/")===0?o+d:l+d.replace(/^\.\//,""),"url("+JSON.stringify(p)+")"})}},function(n,r,i){var s=i(17);typeof window>"u"||window.Promise||(window.Promise=s),i(21),String.prototype.includes||(String.prototype.includes=function(o,l){return typeof l!="number"&&(l=0),!(l+o.length>this.length)&&this.indexOf(o,l)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(o,l){if(this==null)throw new TypeError('"this" is null or not defined');var u=Object(this),c=u.length>>>0;if(c===0)return!1;for(var d=0|l,p=Math.max(d>=0?d:c-Math.abs(d),0);p<c;){if(function(v,T){return v===T||typeof v=="number"&&typeof T=="number"&&isNaN(v)&&isNaN(T)}(u[p],o))return!0;p++}return!1}}),typeof window<"u"&&function(o){o.forEach(function(l){l.hasOwnProperty("remove")||Object.defineProperty(l,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(n,r,i){(function(s){(function(o){function l(){}function u(y,w){return function(){y.apply(w,arguments)}}function c(y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],R(y,this)}function d(y,w){for(;y._state===3;)y=y._value;if(y._state===0)return void y._deferreds.push(w);y._handled=!0,c._immediateFn(function(){var g=y._state===1?w.onFulfilled:w.onRejected;if(g===null)return void(y._state===1?p:v)(w.promise,y._value);var C;try{C=g(y._value)}catch(O){return void v(w.promise,O)}p(w.promise,C)})}function p(y,w){try{if(w===y)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var g=w.then;if(w instanceof c)return y._state=3,y._value=w,void T(y);if(typeof g=="function")return void R(u(g,w),y)}y._state=1,y._value=w,T(y)}catch(C){v(y,C)}}function v(y,w){y._state=2,y._value=w,T(y)}function T(y){y._state===2&&y._deferreds.length===0&&c._immediateFn(function(){y._handled||c._unhandledRejectionFn(y._value)});for(var w=0,g=y._deferreds.length;w<g;w++)d(y,y._deferreds[w]);y._deferreds=null}function A(y,w,g){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof w=="function"?w:null,this.promise=g}function R(y,w){var g=!1;try{y(function(C){g||(g=!0,p(w,C))},function(C){g||(g=!0,v(w,C))})}catch(C){if(g)return;g=!0,v(w,C)}}var N=setTimeout;c.prototype.catch=function(y){return this.then(null,y)},c.prototype.then=function(y,w){var g=new this.constructor(l);return d(this,new A(y,w,g)),g},c.all=function(y){var w=Array.prototype.slice.call(y);return new c(function(g,C){function O(_,E){try{if(E&&(typeof E=="object"||typeof E=="function")){var b=E.then;if(typeof b=="function")return void b.call(E,function(k){O(_,k)},C)}w[_]=E,--V==0&&g(w)}catch(k){C(k)}}if(w.length===0)return g([]);for(var V=w.length,S=0;S<w.length;S++)O(S,w[S])})},c.resolve=function(y){return y&&typeof y=="object"&&y.constructor===c?y:new c(function(w){w(y)})},c.reject=function(y){return new c(function(w,g){g(y)})},c.race=function(y){return new c(function(w,g){for(var C=0,O=y.length;C<O;C++)y[C].then(w,g)})},c._immediateFn=typeof s=="function"&&function(y){s(y)}||function(y){N(y,0)},c._unhandledRejectionFn=function(y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",y)},c._setImmediateFn=function(y){c._immediateFn=y},c._setUnhandledRejectionFn=function(y){c._unhandledRejectionFn=y},n!==void 0&&n.exports?n.exports=c:o.Promise||(o.Promise=c)})(this)}).call(r,i(18).setImmediate)},function(n,r,i){function s(l,u){this._id=l,this._clearFn=u}var o=Function.prototype.apply;r.setTimeout=function(){return new s(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new s(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(l){l&&l.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(l,u){clearTimeout(l._idleTimeoutId),l._idleTimeout=u},r.unenroll=function(l){clearTimeout(l._idleTimeoutId),l._idleTimeout=-1},r._unrefActive=r.active=function(l){clearTimeout(l._idleTimeoutId);var u=l._idleTimeout;u>=0&&(l._idleTimeoutId=setTimeout(function(){l._onTimeout&&l._onTimeout()},u))},i(19),r.setImmediate=setImmediate,r.clearImmediate=clearImmediate},function(n,r,i){(function(s,o){(function(l,u){function c(g){typeof g!="function"&&(g=new Function(""+g));for(var C=new Array(arguments.length-1),O=0;O<C.length;O++)C[O]=arguments[O+1];var V={callback:g,args:C};return R[A]=V,T(A),A++}function d(g){delete R[g]}function p(g){var C=g.callback,O=g.args;switch(O.length){case 0:C();break;case 1:C(O[0]);break;case 2:C(O[0],O[1]);break;case 3:C(O[0],O[1],O[2]);break;default:C.apply(u,O)}}function v(g){if(N)setTimeout(v,0,g);else{var C=R[g];if(C){N=!0;try{p(C)}finally{d(g),N=!1}}}}if(!l.setImmediate){var T,A=1,R={},N=!1,y=l.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(l);w=w&&w.setTimeout?w:l,{}.toString.call(l.process)==="[object process]"?function(){T=function(g){o.nextTick(function(){v(g)})}}():function(){if(l.postMessage&&!l.importScripts){var g=!0,C=l.onmessage;return l.onmessage=function(){g=!1},l.postMessage("","*"),l.onmessage=C,g}}()?function(){var g="setImmediate$"+Math.random()+"$",C=function(O){O.source===l&&typeof O.data=="string"&&O.data.indexOf(g)===0&&v(+O.data.slice(g.length))};l.addEventListener?l.addEventListener("message",C,!1):l.attachEvent("onmessage",C),T=function(O){l.postMessage(g+O,"*")}}():l.MessageChannel?function(){var g=new MessageChannel;g.port1.onmessage=function(C){v(C.data)},T=function(C){g.port2.postMessage(C)}}():y&&"onreadystatechange"in y.createElement("script")?function(){var g=y.documentElement;T=function(C){var O=y.createElement("script");O.onreadystatechange=function(){v(C),O.onreadystatechange=null,g.removeChild(O),O=null},g.appendChild(O)}}():function(){T=function(g){setTimeout(v,0,g)}}(),w.setImmediate=c,w.clearImmediate=d}})(typeof self>"u"?s===void 0?this:s:self)}).call(r,i(7),i(20))},function(n,r){function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(g){if(v===setTimeout)return setTimeout(g,0);if((v===i||!v)&&setTimeout)return v=setTimeout,setTimeout(g,0);try{return v(g,0)}catch{try{return v.call(null,g,0)}catch{return v.call(this,g,0)}}}function l(g){if(T===clearTimeout)return clearTimeout(g);if((T===s||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(g);try{return T(g)}catch{try{return T.call(null,g)}catch{return T.call(this,g)}}}function u(){y&&R&&(y=!1,R.length?N=R.concat(N):w=-1,N.length&&c())}function c(){if(!y){var g=o(u);y=!0;for(var C=N.length;C;){for(R=N,N=[];++w<C;)R&&R[w].run();w=-1,C=N.length}R=null,y=!1,l(g)}}function d(g,C){this.fun=g,this.array=C}function p(){}var v,T,A=n.exports={};(function(){try{v=typeof setTimeout=="function"?setTimeout:i}catch{v=i}try{T=typeof clearTimeout=="function"?clearTimeout:s}catch{T=s}})();var R,N=[],y=!1,w=-1;A.nextTick=function(g){var C=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)C[O-1]=arguments[O];N.push(new d(g,C)),N.length!==1||y||o(c)},d.prototype.run=function(){this.fun.apply(null,this.array)},A.title="browser",A.browser=!0,A.env={},A.argv=[],A.version="",A.versions={},A.on=p,A.addListener=p,A.once=p,A.off=p,A.removeListener=p,A.removeAllListeners=p,A.emit=p,A.prependListener=p,A.prependOnceListener=p,A.listeners=function(g){return[]},A.binding=function(g){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(g){throw new Error("process.chdir is not supported")},A.umask=function(){return 0}},function(n,r,i){i(22).polyfill()},function(n,r,i){function s(l,u){if(l==null)throw new TypeError("Cannot convert first argument to object");for(var c=Object(l),d=1;d<arguments.length;d++){var p=arguments[d];if(p!=null)for(var v=Object.keys(Object(p)),T=0,A=v.length;T<A;T++){var R=v[T],N=Object.getOwnPropertyDescriptor(p,R);N!==void 0&&N.enumerable&&(c[R]=p[R])}}return c}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:s})}n.exports={assign:s,polyfill:o}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(24),o=i(6),l=i(5),u=i(36),c=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];if(typeof window<"u"){var v=u.getOpts.apply(void 0,d);return new Promise(function(T,A){l.default.promise={resolve:T,reject:A},s.default(v),setTimeout(function(){o.openModal()})})}};c.close=o.onAction,c.getState=o.getState,c.setActionValue=l.setActionValue,c.stopLoading=o.stopLoading,c.setDefaults=u.setDefaults,r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=i(0),l=o.default.MODAL,u=i(4),c=i(34),d=i(35),p=i(1);r.init=function(v){s.getNode(l)||(document.body||p.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),c.default(),u.default()),u.initModalContent(v),d.default(v)},r.default=r.init},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=s.default.MODAL;r.modalMarkup=`
  <div class="`+o+'" role="dialog" aria-modal="true"></div>',r.default=r.modalMarkup},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=s.default.OVERLAY,l=`<div 
    class="`+o+`"
    tabIndex="-1">
  </div>`;r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=s.default.ICON;r.errorIconMarkup=function(){var l=o+"--error",u=l+"__line";return`
    <div class="`+l+`__x-mark">
      <span class="`+u+" "+u+`--left"></span>
      <span class="`+u+" "+u+`--right"></span>
    </div>
  `},r.warningIconMarkup=function(){var l=o+"--warning";return`
    <span class="`+l+`__body">
      <span class="`+l+`__dot"></span>
    </span>
  `},r.successIconMarkup=function(){var l=o+"--success";return`
    <span class="`+l+"__line "+l+`__line--long"></span>
    <span class="`+l+"__line "+l+`__line--tip"></span>

    <div class="`+l+`__ring"></div>
    <div class="`+l+`__hide-corners"></div>
  `}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=s.default.CONTENT;r.contentMarkup=`
  <div class="`+o+`">

  </div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=s.default.BUTTON_CONTAINER,l=s.default.BUTTON,u=s.default.BUTTON_LOADER;r.buttonMarkup=`
  <div class="`+o+`">

    <button
      class="`+l+`"
    ></button>

    <div class="`+u+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=i(2),l=i(0),u=l.default.ICON,c=l.default.ICON_CUSTOM,d=["error","warning","success","info"],p={error:o.errorIconMarkup(),warning:o.warningIconMarkup(),success:o.successIconMarkup()},v=function(R,N){var y=u+"--"+R;N.classList.add(y);var w=p[R];w&&(N.innerHTML=w)},T=function(R,N){N.classList.add(c);var y=document.createElement("img");y.src=R,N.appendChild(y)},A=function(R){if(R){var N=s.injectElIntoModal(o.iconMarkup);d.includes(R)?v(R,N):T(R,N)}};r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(2),o=i(4),l=function(u){navigator.userAgent.includes("AppleWebKit")&&(u.style.display="none",u.offsetHeight,u.style.display="")};r.initTitle=function(u){if(u){var c=o.injectElIntoModal(s.titleMarkup);c.textContent=u,l(c)}},r.initText=function(u){if(u){var c=document.createDocumentFragment();u.split(`
`).forEach(function(p,v,T){c.appendChild(document.createTextNode(p)),v<T.length-1&&c.appendChild(document.createElement("br"))});var d=o.injectElIntoModal(s.textMarkup);d.appendChild(c),l(d)}}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=i(4),l=i(0),u=l.default.BUTTON,c=l.default.DANGER_BUTTON,d=i(3),p=i(2),v=i(6),T=i(5),A=function(N,y,w){var g=y.text,C=y.value,O=y.className,V=y.closeModal,S=s.stringToNode(p.buttonMarkup),_=S.querySelector("."+u),E=u+"--"+N;_.classList.add(E),O&&(Array.isArray(O)?O:O.split(" ")).filter(function(k){return k.length>0}).forEach(function(k){_.classList.add(k)}),w&&N===d.CONFIRM_KEY&&_.classList.add(c),_.textContent=g;var b={};return b[N]=C,T.setActionValue(b),T.setActionOptionsFor(N,{closeModal:V}),_.addEventListener("click",function(){return v.onAction(N)}),S},R=function(N,y){var w=o.injectElIntoModal(p.footerMarkup);for(var g in N){var C=N[g],O=A(g,C,y);C.visible&&w.appendChild(O)}w.children.length===0&&w.remove()};r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(3),o=i(4),l=i(2),u=i(5),c=i(6),d=i(0),p=d.default.CONTENT,v=function(R){R.addEventListener("input",function(N){var y=N.target,w=y.value;u.setActionValue(w)}),R.addEventListener("keyup",function(N){if(N.key==="Enter")return c.onAction(s.CONFIRM_KEY)}),setTimeout(function(){R.focus(),u.setActionValue("")},0)},T=function(R,N,y){var w=document.createElement(N),g=p+"__"+N;w.classList.add(g);for(var C in y){var O=y[C];w[C]=O}N==="input"&&v(w),R.appendChild(w)},A=function(R){if(R){var N=o.injectElIntoModal(l.contentMarkup),y=R.element,w=R.attributes;typeof y=="string"?T(N,y,w):N.appendChild(y)}};r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=i(2),l=function(){var u=s.stringToNode(o.overlayMarkup);document.body.appendChild(u)};r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(5),o=i(6),l=i(1),u=i(3),c=i(0),d=c.default.MODAL,p=c.default.BUTTON,v=c.default.OVERLAY,T=function(k){k.preventDefault(),w()},A=function(k){k.preventDefault(),g()},R=function(k){if(s.default.isOpen)switch(k.key){case"Escape":return o.onAction(u.CANCEL_KEY)}},N=function(k){if(s.default.isOpen)switch(k.key){case"Tab":return T(k)}},y=function(k){if(s.default.isOpen)return k.key==="Tab"&&k.shiftKey?A(k):void 0},w=function(){var k=l.getNode(p);k&&(k.tabIndex=0,k.focus())},g=function(){var k=l.getNode(d),P=k.querySelectorAll("."+p),I=P.length-1,X=P[I];X&&X.focus()},C=function(k){k[k.length-1].addEventListener("keydown",N)},O=function(k){k[0].addEventListener("keydown",y)},V=function(){var k=l.getNode(d),P=k.querySelectorAll("."+p);P.length&&(C(P),O(P))},S=function(k){if(l.getNode(v)===k.target)return o.onAction(u.CANCEL_KEY)},_=function(k){var P=l.getNode(v);P.removeEventListener("click",S),k&&P.addEventListener("click",S)},E=function(k){s.default.timer&&clearTimeout(s.default.timer),k&&(s.default.timer=window.setTimeout(function(){return o.onAction(u.CANCEL_KEY)},k))},b=function(k){k.closeOnEsc?document.addEventListener("keyup",R):document.removeEventListener("keyup",R),k.dangerMode?w():g(),V(),_(k.closeOnClickOutside),E(k.timer)};r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=i(3),l=i(37),u=i(38),c={title:null,text:null,icon:null,buttons:o.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},d=Object.assign({},c);r.setDefaults=function(y){d=Object.assign({},c,y)};var p=function(y){var w=y&&y.button,g=y&&y.buttons;return w!==void 0&&g!==void 0&&s.throwErr("Cannot set both 'button' and 'buttons' options!"),w!==void 0?{confirm:w}:g},v=function(y){return s.ordinalSuffixOf(y+1)},T=function(y,w){s.throwErr(v(w)+" argument ('"+y+"') is invalid")},A=function(y,w){var g=y+1,C=w[g];s.isPlainObject(C)||C===void 0||s.throwErr("Expected "+v(g)+" argument ('"+C+"') to be a plain object")},R=function(y,w){var g=y+1,C=w[g];C!==void 0&&s.throwErr("Unexpected "+v(g)+" argument ("+C+")")},N=function(y,w,g,C){var O=typeof w,V=O==="string",S=w instanceof Element;if(V){if(g===0)return{text:w};if(g===1)return{text:w,title:C[0]};if(g===2)return A(g,C),{icon:w};T(w,g)}else{if(S&&g===0)return A(g,C),{content:w};if(s.isPlainObject(w))return R(g,C),w;T(w,g)}};r.getOpts=function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];var g={};y.forEach(function(V,S){var _=N(0,V,S,y);Object.assign(g,_)});var C=p(g);g.buttons=o.getButtonListOpts(C),delete g.button,g.content=l.getContentOpts(g.content);var O=Object.assign({},c,d,g);return Object.keys(O).forEach(function(V){u.DEPRECATED_OPTS[V]&&u.logDeprecation(V)}),O}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o={element:"input",attributes:{placeholder:""}};r.getContentOpts=function(l){var u={};return s.isPlainObject(l)?Object.assign(u,l):l instanceof Element?{element:l}:l==="input"?o:null}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.logDeprecation=function(s){var o=r.DEPRECATED_OPTS[s],l=o.onlyRename,u=o.replacement,c=o.subOption,d=o.link,p=l?"renamed":"deprecated",v='SweetAlert warning: "'+s+'" option has been '+p+".";u&&(v+=" Please use"+(c?' "'+c+'" in ':" ")+'"'+u+'" instead.');var T="https://sweetalert.js.org";v+=d?" More details: "+T+d:" More details: "+T+"/guides/#upgrading-from-1x",console.warn(v)},r.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(uT);var PO=uT.exports;const os=bu(PO);var cT={exports:{}};(function(t,e){(function(n,r){t.exports=r(B)})(Lh,n=>(()=>{var r={703:(l,u,c)=>{var d=c(414);function p(){}function v(){}v.resetWarningCache=p,l.exports=function(){function T(N,y,w,g,C,O){if(O!==d){var V=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw V.name="Invariant Violation",V}}function A(){return T}T.isRequired=T;var R={array:T,bigint:T,bool:T,func:T,number:T,object:T,string:T,symbol:T,any:T,arrayOf:A,element:T,elementType:T,instanceOf:A,node:T,objectOf:A,oneOf:A,oneOfType:A,shape:A,exact:A,checkPropTypes:v,resetWarningCache:p};return R.PropTypes=R,R}},697:(l,u,c)=>{l.exports=c(703)()},414:l=>{l.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:l=>{l.exports=n}},i={};function s(l){var u=i[l];if(u!==void 0)return u.exports;var c=i[l]={exports:{}};return r[l](c,c.exports,s),c.exports}s.n=l=>{var u=l&&l.__esModule?()=>l.default:()=>l;return s.d(u,{a:u}),u},s.d=(l,u)=>{for(var c in u)s.o(u,c)&&!s.o(l,c)&&Object.defineProperty(l,c,{enumerable:!0,get:u[c]})},s.o=(l,u)=>Object.prototype.hasOwnProperty.call(l,u),s.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var o={};return(()=>{s.r(o),s.d(o,{default:()=>k});var l=s(98),u=s.n(l),c=s(697),d=s.n(c);function p(){return p=Object.assign?Object.assign.bind():function(P){for(var I=1;I<arguments.length;I++){var X=arguments[I];for(var te in X)Object.prototype.hasOwnProperty.call(X,te)&&(P[te]=X[te])}return P},p.apply(this,arguments)}var v=function(P){var I=P.pageClassName,X=P.pageLinkClassName,te=P.page,ve=P.selected,Ae=P.activeClassName,K=P.activeLinkClassName,q=P.getEventListener,U=P.pageSelectedHandler,Z=P.href,G=P.extraAriaContext,ee=P.pageLabelBuilder,ue=P.rel,ge=P.ariaLabel||"Page "+te+(G?" "+G:""),ce=null;return ve&&(ce="page",ge=P.ariaLabel||"Page "+te+" is your current page",I=I!==void 0?I+" "+Ae:Ae,X!==void 0?K!==void 0&&(X=X+" "+K):X=K),u().createElement("li",{className:I},u().createElement("a",p({rel:ue,role:Z?void 0:"button",className:X,href:Z,tabIndex:ve?"-1":"0","aria-label":ge,"aria-current":ce,onKeyPress:U},q(U)),ee(te)))};v.propTypes={pageSelectedHandler:d().func.isRequired,selected:d().bool.isRequired,pageClassName:d().string,pageLinkClassName:d().string,activeClassName:d().string,activeLinkClassName:d().string,extraAriaContext:d().string,href:d().string,ariaLabel:d().string,page:d().number.isRequired,getEventListener:d().func.isRequired,pageLabelBuilder:d().func.isRequired,rel:d().string};const T=v;function A(){return A=Object.assign?Object.assign.bind():function(P){for(var I=1;I<arguments.length;I++){var X=arguments[I];for(var te in X)Object.prototype.hasOwnProperty.call(X,te)&&(P[te]=X[te])}return P},A.apply(this,arguments)}var R=function(P){var I=P.breakLabel,X=P.breakAriaLabel,te=P.breakClassName,ve=P.breakLinkClassName,Ae=P.breakHandler,K=P.getEventListener,q=te||"break";return u().createElement("li",{className:q},u().createElement("a",A({className:ve,role:"button",tabIndex:"0","aria-label":X,onKeyPress:Ae},K(Ae)),I))};R.propTypes={breakLabel:d().oneOfType([d().string,d().node]),breakAriaLabel:d().string,breakClassName:d().string,breakLinkClassName:d().string,breakHandler:d().func.isRequired,getEventListener:d().func.isRequired};const N=R;function y(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return P??I}function w(P){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},w(P)}function g(){return g=Object.assign?Object.assign.bind():function(P){for(var I=1;I<arguments.length;I++){var X=arguments[I];for(var te in X)Object.prototype.hasOwnProperty.call(X,te)&&(P[te]=X[te])}return P},g.apply(this,arguments)}function C(P,I){for(var X=0;X<I.length;X++){var te=I[X];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(P,te.key,te)}}function O(P,I){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,te){return X.__proto__=te,X},O(P,I)}function V(P,I){if(I&&(w(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(P)}function S(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function _(P){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},_(P)}function E(P,I,X){return I in P?Object.defineProperty(P,I,{value:X,enumerable:!0,configurable:!0,writable:!0}):P[I]=X,P}var b=function(P){(function(q,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(U&&U.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),U&&O(q,U)})(K,P);var I,X,te,ve,Ae=(te=K,ve=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var q,U=_(te);if(ve){var Z=_(this).constructor;q=Reflect.construct(U,arguments,Z)}else q=U.apply(this,arguments);return V(this,q)});function K(q){var U,Z;return function(G,ee){if(!(G instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,K),E(S(U=Ae.call(this,q)),"handlePreviousPage",function(G){var ee=U.state.selected;U.handleClick(G,null,ee>0?ee-1:void 0,{isPrevious:!0})}),E(S(U),"handleNextPage",function(G){var ee=U.state.selected,ue=U.props.pageCount;U.handleClick(G,null,ee<ue-1?ee+1:void 0,{isNext:!0})}),E(S(U),"handlePageSelected",function(G,ee){if(U.state.selected===G)return U.callActiveCallback(G),void U.handleClick(ee,null,void 0,{isActive:!0});U.handleClick(ee,null,G)}),E(S(U),"handlePageChange",function(G){U.state.selected!==G&&(U.setState({selected:G}),U.callCallback(G))}),E(S(U),"getEventListener",function(G){return E({},U.props.eventListener,G)}),E(S(U),"handleClick",function(G,ee,ue){var ge=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ce=ge.isPrevious,re=ce!==void 0&&ce,Ye=ge.isNext,M=Ye!==void 0&&Ye,D=ge.isBreak,L=D!==void 0&&D,F=ge.isActive,$=F!==void 0&&F;G.preventDefault?G.preventDefault():G.returnValue=!1;var ne=U.state.selected,Y=U.props.onClick,de=ue;if(Y){var _e=Y({index:ee,selected:ne,nextSelectedPage:ue,event:G,isPrevious:re,isNext:M,isBreak:L,isActive:$});if(_e===!1)return;Number.isInteger(_e)&&(de=_e)}de!==void 0&&U.handlePageChange(de)}),E(S(U),"handleBreakClick",function(G,ee){var ue=U.state.selected;U.handleClick(ee,G,ue<G?U.getForwardJump():U.getBackwardJump(),{isBreak:!0})}),E(S(U),"callCallback",function(G){U.props.onPageChange!==void 0&&typeof U.props.onPageChange=="function"&&U.props.onPageChange({selected:G})}),E(S(U),"callActiveCallback",function(G){U.props.onPageActive!==void 0&&typeof U.props.onPageActive=="function"&&U.props.onPageActive({selected:G})}),E(S(U),"getElementPageRel",function(G){var ee=U.state.selected,ue=U.props,ge=ue.nextPageRel,ce=ue.prevPageRel,re=ue.selectedPageRel;return ee-1===G?ce:ee===G?re:ee+1===G?ge:void 0}),E(S(U),"pagination",function(){var G=[],ee=U.props,ue=ee.pageRangeDisplayed,ge=ee.pageCount,ce=ee.marginPagesDisplayed,re=ee.breakLabel,Ye=ee.breakClassName,M=ee.breakLinkClassName,D=ee.breakAriaLabels,L=U.state.selected;if(ge<=ue)for(var F=0;F<ge;F++)G.push(U.getPageElement(F));else{var $=ue/2,ne=ue-$;L>ge-ue/2?$=ue-(ne=ge-L):L<ue/2&&(ne=ue-($=L));var Y,de,_e=function(De){return U.getPageElement(De)},ye=[];for(Y=0;Y<ge;Y++){var ae=Y+1;if(ae<=ce)ye.push({type:"page",index:Y,display:_e(Y)});else if(ae>ge-ce)ye.push({type:"page",index:Y,display:_e(Y)});else if(Y>=L-$&&Y<=L+(L===0&&ue>1?ne-1:ne))ye.push({type:"page",index:Y,display:_e(Y)});else if(re&&ye.length>0&&ye[ye.length-1].display!==de&&(ue>0||ce>0)){var we=Y<L?D.backward:D.forward;de=u().createElement(N,{key:Y,breakAriaLabel:we,breakLabel:re,breakClassName:Ye,breakLinkClassName:M,breakHandler:U.handleBreakClick.bind(null,Y),getEventListener:U.getEventListener}),ye.push({type:"break",index:Y,display:de})}}ye.forEach(function(De,ze){var et=De;De.type==="break"&&ye[ze-1]&&ye[ze-1].type==="page"&&ye[ze+1]&&ye[ze+1].type==="page"&&ye[ze+1].index-ye[ze-1].index<=2&&(et={type:"page",index:De.index,display:_e(De.index)}),G.push(et.display)})}return G}),q.initialPage!==void 0&&q.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(q.initialPage,") and forcePage (").concat(q.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),Z=q.initialPage?q.initialPage:q.forcePage?q.forcePage:0,U.state={selected:Z},U}return I=K,(X=[{key:"componentDidMount",value:function(){var q=this.props,U=q.initialPage,Z=q.disableInitialCallback,G=q.extraAriaContext,ee=q.pageCount,ue=q.forcePage;U===void 0||Z||this.callCallback(U),G&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(ee)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(ee,"). Did you forget a Math.ceil()?")),U!==void 0&&U>ee-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(U," > ").concat(ee-1,").")),ue!==void 0&&ue>ee-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(ue," > ").concat(ee-1,")."))}},{key:"componentDidUpdate",value:function(q){this.props.forcePage!==void 0&&this.props.forcePage!==q.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(q.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var q=this.state.selected,U=this.props,Z=U.pageCount,G=q+U.pageRangeDisplayed;return G>=Z?Z-1:G}},{key:"getBackwardJump",value:function(){var q=this.state.selected-this.props.pageRangeDisplayed;return q<0?0:q}},{key:"getElementHref",value:function(q){var U=this.props,Z=U.hrefBuilder,G=U.pageCount,ee=U.hrefAllControls;if(Z)return ee||q>=0&&q<G?Z(q+1,G,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(q){var U=q===this.state.selected;if(this.props.ariaLabelBuilder&&q>=0&&q<this.props.pageCount){var Z=this.props.ariaLabelBuilder(q+1,U);return this.props.extraAriaContext&&!U&&(Z=Z+" "+this.props.extraAriaContext),Z}}},{key:"getPageElement",value:function(q){var U=this.state.selected,Z=this.props,G=Z.pageClassName,ee=Z.pageLinkClassName,ue=Z.activeClassName,ge=Z.activeLinkClassName,ce=Z.extraAriaContext,re=Z.pageLabelBuilder;return u().createElement(T,{key:q,pageSelectedHandler:this.handlePageSelected.bind(null,q),selected:U===q,rel:this.getElementPageRel(q),pageClassName:G,pageLinkClassName:ee,activeClassName:ue,activeLinkClassName:ge,extraAriaContext:ce,href:this.getElementHref(q),ariaLabel:this.ariaLabelBuilder(q),page:q+1,pageLabelBuilder:re,getEventListener:this.getEventListener})}},{key:"render",value:function(){var q=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&q!==void 0)return q&&q(this.props);var U=this.props,Z=U.disabledClassName,G=U.disabledLinkClassName,ee=U.pageCount,ue=U.className,ge=U.containerClassName,ce=U.previousLabel,re=U.previousClassName,Ye=U.previousLinkClassName,M=U.previousAriaLabel,D=U.prevRel,L=U.nextLabel,F=U.nextClassName,$=U.nextLinkClassName,ne=U.nextAriaLabel,Y=U.nextRel,de=this.state.selected,_e=de===0,ye=de===ee-1,ae="".concat(y(re)).concat(_e?" ".concat(y(Z)):""),we="".concat(y(F)).concat(ye?" ".concat(y(Z)):""),De="".concat(y(Ye)).concat(_e?" ".concat(y(G)):""),ze="".concat(y($)).concat(ye?" ".concat(y(G)):""),et=_e?"true":"false",Ft=ye?"true":"false";return u().createElement("ul",{className:ue||ge,role:"navigation","aria-label":"Pagination"},u().createElement("li",{className:ae},u().createElement("a",g({className:De,href:this.getElementHref(de-1),tabIndex:_e?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":et,"aria-label":M,rel:D},this.getEventListener(this.handlePreviousPage)),ce)),this.pagination(),u().createElement("li",{className:we},u().createElement("a",g({className:ze,href:this.getElementHref(de+1),tabIndex:ye?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Ft,"aria-label":ne,rel:Y},this.getEventListener(this.handleNextPage)),L)))}}])&&C(I.prototype,X),Object.defineProperty(I,"prototype",{writable:!1}),K}(l.Component);E(b,"propTypes",{pageCount:d().number.isRequired,pageRangeDisplayed:d().number,marginPagesDisplayed:d().number,previousLabel:d().node,previousAriaLabel:d().string,prevPageRel:d().string,prevRel:d().string,nextLabel:d().node,nextAriaLabel:d().string,nextPageRel:d().string,nextRel:d().string,breakLabel:d().oneOfType([d().string,d().node]),breakAriaLabels:d().shape({forward:d().string,backward:d().string}),hrefBuilder:d().func,hrefAllControls:d().bool,onPageChange:d().func,onPageActive:d().func,onClick:d().func,initialPage:d().number,forcePage:d().number,disableInitialCallback:d().bool,containerClassName:d().string,className:d().string,pageClassName:d().string,pageLinkClassName:d().string,pageLabelBuilder:d().func,activeClassName:d().string,activeLinkClassName:d().string,previousClassName:d().string,nextClassName:d().string,previousLinkClassName:d().string,nextLinkClassName:d().string,disabledClassName:d().string,disabledLinkClassName:d().string,breakClassName:d().string,breakLinkClassName:d().string,extraAriaContext:d().string,ariaLabelBuilder:d().func,eventListener:d().string,renderOnZeroPageCount:d().func,selectedPageRel:d().string}),E(b,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(P){return P},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const k=b})(),o})())})(cT);var RO=cT.exports;const dT=bu(RO),fd=()=>{const[t,e]=B.useState([]),[n,r]=B.useState(""),[i,s]=B.useState(""),[o,l]=B.useState(""),[u,c]=B.useState(""),[d,p]=B.useState(0);B.useState("");const[v,T]=B.useState("");sO();const[A,R]=B.useState(""),[N,y]=B.useState(""),[w,g]=B.useState(""),[C,O]=B.useState(""),[V,S]=B.useState(0),[_,E]=B.useState(!1),[b,k]=B.useState([]),P={nombre:A,descripcion:N,codigo:w,modelo:C,cantidad:V},I={id:v,nombre:n,descripcion:i,codigo:o,modelo:u,cantidad:d},X=async D=>{D.preventDefault(),E(!0),await SN(P),E(!1),D.target.reset(),R(""),y(""),g(""),O(""),S(0),ve()},te=async D=>{D.preventDefault(),E(!0),await CN(I),E(!1)},ve=async()=>{E(!0);const D=await YE();console.log(D),e(D),k(D),E(!1)};B.useEffect(()=>{ve()},[]);const Ae=D=>{r(D.nombre||""),s(D.descripcion||""),l(D.codigo||""),c(D.modelo||""),p(D.cantidad||0),T(D.id)},K=()=>{let D=XLSX.utils.book_new();var L=[];b.map(ne=>{L.push({nombre:ne.nombre,descripcion:ne.descripcion,codigo:ne.codigo,modelo:ne.modelo,cantidad:ne.cantidad,fechaCreacion:ne.fechaCreacion?M(ne.fechaCreacion.toDate()):"Sin fecha",fechaModificacion:ne.fechaModificacion?M(ne.fechaModificacion.toDate()):"Sin fecha"})});let F=XLSX.utils.json_to_sheet(L);var $="Registro  "+new Date().toLocaleDateString();XLSX.utils.book_append_sheet(D,F,"Registro"),XLSX.writeFile(D,$+".xlsx")},q=async D=>{await os({title:"Importar registro",text:"Estas seguro que deseas importar los registro?",icon:"warning",buttons:!0,dangerMode:!0})&&(E(!0),await JE(D),E(!1),os("Productos importados correctamente",{icon:"success"}),ve())},U=async D=>{await os({title:"Eliminar registro",text:"Estas seguro que deseas eliminar el registro?",icon:"warning",buttons:!0,dangerMode:!0})&&(E(!0),await kN(D),E(!1),os("Producto eliminado correctamente",{icon:"success"}),ve())},Z=async D=>{var L=new FileReader;L.onload=function(F){var $=F.target.result,ne=XLSX.read($,{type:"binary"});ne.SheetNames.forEach(function(Y){var de=XLSX.utils.sheet_to_row_object_array(ne.Sheets[Y]),_e=JSON.stringify(de);console.log(JSON.parse(_e)),q(JSON.parse(_e)),document.getElementById("importar").value=""})},L.onerror=function(F){console.log(F)},L.readAsBinaryString(D)},[G,ee]=B.useState(0),ue=100,ge=({selected:D})=>{ee(D)},ce=G*ue,re=Math.ceil(b.length/ue),Ye=D=>{const L=D.toLowerCase(),F=t.filter($=>$.nombre.toLowerCase().includes(L)||$.codigo.toLowerCase().includes(L)||$.cantidad.toString().includes(L));k(F)},M=D=>{const L={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return D.toLocaleString("es-ES",L)};return B.useEffect(()=>{const D=parseInt(w)||0,L=parseInt(C)||0;S(D+L)},[w,C]),B.useEffect(()=>{const D=parseInt(o)||0,L=parseInt(u)||0;p(D+L)},[o,u]),f.jsx(f.Fragment,{children:f.jsxs("div",{className:"row",children:[f.jsx("div",{className:"col-3",children:f.jsxs("div",{className:"input-group mb-3",children:[f.jsx("input",{onInput:D=>Ye(D.target.value),type:"text",className:"form-control",placeholder:"Buscar","aria-label":"Buscar"}),f.jsx("button",{className:"btn btn-primary",onClick:ve,children:f.jsx("i",{className:"fas fa-sync-alt f-18"})})]})}),f.jsx("div",{className:"page-header",children:f.jsx("div",{className:"page-block",children:f.jsx("div",{className:"row align-items-center",children:f.jsx("div",{className:"col-md-12",children:f.jsx("ul",{className:"breadcrumb mb-0",children:f.jsx("li",{className:"breadcrumb-item",children:f.jsx(_n,{to:"/dashboards",children:"Panel"})})})})})})}),f.jsxs("div",{className:"row",style:{height:"80vh"},children:[_?f.jsx(f.Fragment,{children:f.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:f.jsx("div",{className:"spinner-border text-primary",role:"status",children:f.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):"",f.jsx("div",{className:"col-12",children:f.jsx("div",{className:"card",children:f.jsxs("div",{className:"card-body",children:[f.jsx("h3",{className:"card-title",children:"Lista de Registro"}),f.jsxs("div",{className:"text-end p-1",children:[f.jsx("div",{className:"d-flex justify-content-between"}),f.jsx("button",{className:"btn btn-primary",onClick:ve,children:f.jsx("i",{className:"fas fa-sync-alt f-18"})}),f.jsxs("button",{className:"btn btn-success","data-bs-toggle":"modal","data-bs-target":"#creararticulo",children:[f.jsx("i",{className:"fas fa-plus-circle f-18"}),"Crear Registro"]}),f.jsxs("button",{className:"btn btn-secondary",onClick:K,children:[f.jsx("i",{className:"fas fa-file-export f-18"}),"Exportar"]}),f.jsx("input",{type:"file",id:"importar",className:"btn btn-primary",onChange:D=>Z(D.target.files[0])})]}),f.jsx("div",{className:"table-responsive",style:{height:"60vh"},children:f.jsxs("table",{className:"table table-hover",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"#"}),f.jsx("th",{children:"Maestro"}),f.jsx("th",{children:"Seccion"}),f.jsx("th",{children:"Mujeres"}),f.jsx("th",{children:"Varones"}),f.jsx("th",{children:"Cantidad"}),f.jsx("th",{children:"Fecha de Creacin"}),f.jsx("th",{children:"Fecha de Modificacin"}),f.jsx("th",{children:"Acciones"})]})}),f.jsx("tbody",{children:b.slice(ce,ce+ue).map((D,L)=>f.jsxs("tr",{children:[f.jsx("th",{scope:"row",children:L+1}),f.jsx("td",{children:D.nombre}),f.jsx("td",{children:D.descripcion}),f.jsx("td",{children:D.codigo}),f.jsx("td",{children:D.modelo}),f.jsx("td",{children:D.cantidad}),f.jsx("td",{children:D.fechaCreacion?M(D.fechaCreacion.toDate()):"Sin fecha"}),f.jsx("td",{children:D.fechaModificacion?M(D.fechaModificacion.toDate()):"Sin fecha"}),f.jsxs("td",{children:[f.jsx("button",{className:"btn btn-warning me-2",onClick:()=>Ae(D),"data-bs-toggle":"modal","data-bs-target":"#editararticulo",children:f.jsx("i",{className:"fas fa-edit"})}),f.jsx("button",{className:"btn btn-danger",onClick:()=>U(D.id),children:f.jsx("i",{className:"fas fa-trash-alt"})})]})]},D.id))})]})}),f.jsx("div",{className:"d-flex justify-content-center",children:f.jsx(dT,{previousLabel:" Anterior",nextLabel:"Siguiente ",pageCount:re,onPageChange:ge,containerClassName:"pagination",previousLinkClassName:"page-link",nextLinkClassName:"page-link",disabledClassName:"disabled",activeClassName:"active"})})]})})})]}),f.jsx("div",{className:"modal fade",id:"creararticulo",tabIndex:"-1","aria-labelledby":"creararticuloLabel","aria-hidden":"true",children:f.jsx("div",{className:"modal-dialog",children:f.jsx("form",{onSubmit:X,children:f.jsxs("div",{className:"modal-content",children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h5",{className:"modal-title",id:"creararticuloLabel",children:"Crear Registro"}),f.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),f.jsxs("div",{className:"modal-body",children:[f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{htmlFor:"nombre",className:"form-label",children:"Maestro"}),f.jsx("input",{type:"text",className:"form-control",id:"nombre",value:A,onChange:D=>R(D.target.value),required:!0})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{htmlFor:"descripcion",className:"form-label",children:"Seccion"}),f.jsx("input",{type:"text",className:"form-control",id:"descripcion",value:N,onChange:D=>y(D.target.value),required:!0})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{htmlFor:"mujeres",className:"form-label",children:"Mujeres"}),f.jsx("input",{type:"number",className:"form-control",id:"mujeres",value:w,onChange:D=>g(D.target.value),required:!0})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{htmlFor:"varones",className:"form-label",children:"Varones"}),f.jsx("input",{type:"number",className:"form-control",id:"varones",value:C,onChange:D=>O(D.target.value),required:!0})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{htmlFor:"cantidadTotal",className:"form-label",children:"Cantidad Total"}),f.jsx("input",{type:"number",className:"form-control",id:"cantidadTotal",value:V,readOnly:!0})]})]}),f.jsxs("div",{className:"modal-footer",children:[f.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})]})]})})})}),f.jsx("div",{className:"modal fade",id:"editararticulo",tabIndex:"-1","aria-labelledby":"editararticuloLabel","aria-hidden":"true",children:f.jsx("div",{className:"modal-dialog",children:f.jsx("form",{onSubmit:te,children:f.jsxs("div",{className:"modal-content",children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h5",{className:"modal-title",id:"editararticuloLabel",children:"Editar Articulo"}),f.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),f.jsxs("div",{className:"modal-body",children:[f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{htmlFor:"nombre",className:"form-label",children:"Maestro"}),f.jsx("input",{type:"text",className:"form-control",id:"nombre",value:n,onChange:D=>r(D.target.value),required:!0})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{htmlFor:"descripcion",className:"form-label",children:"Seccion"}),f.jsx("input",{type:"text",className:"form-control",id:"descripcion",value:i,onChange:D=>s(D.target.value),required:!0})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{htmlFor:"mujeres",className:"form-label",children:"Mujeres"}),f.jsx("input",{type:"number",className:"form-control",id:"mujeres",value:o,onChange:D=>l(D.target.value),required:!0})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{htmlFor:"varones",className:"form-label",children:"Varones"}),f.jsx("input",{type:"number",className:"form-control",id:"varones",value:u,onChange:D=>c(D.target.value),required:!0})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{htmlFor:"cantidadTotal",className:"form-label",children:"Cantidad Total"}),f.jsx("input",{type:"number",className:"form-control",id:"cantidadTotal",value:d,readOnly:!0})]})]}),f.jsxs("div",{className:"modal-footer",children:[f.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})]})]})})})})]})})};var hT={exports:{}};(function(t,e){(function(n,r){t.exports=r(B,m0)})(typeof self<"u"?self:Lh,function(n,r){return function(){var i={328:function(u,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.PrintContextConsumer=c.PrintContext=void 0;var p=d(496),v=Object.prototype.hasOwnProperty.call(p,"createContext");c.PrintContext=v?p.createContext({}):null,c.PrintContextConsumer=c.PrintContext?c.PrintContext.Consumer:function(){return null}},428:function(u,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.ReactToPrint=void 0;var p=d(316),v=d(496),T=d(190),A=d(328),R=d(940),N=function(y){function w(){var g=y.apply(this,p.__spreadArray([],p.__read(arguments),!1))||this;return g.startPrint=function(C){var O=g.props,V=O.onAfterPrint,S=O.onPrintError,_=O.print,E=O.documentTitle;setTimeout(function(){var b,k;if(C.contentWindow)if(C.contentWindow.focus(),_)_(C).then(function(){return V==null?void 0:V()}).then(function(){return g.handleRemoveIframe()}).catch(function(X){S?S("print",X):g.logMessages(["An error was thrown by the specified `print` function"])});else{if(C.contentWindow.print){var P=(k=(b=C.contentDocument)===null||b===void 0?void 0:b.title)!==null&&k!==void 0?k:"",I=C.ownerDocument.title;E&&(C.ownerDocument.title=E,C.contentDocument&&(C.contentDocument.title=E)),C.contentWindow.print(),E&&(C.ownerDocument.title=I,C.contentDocument&&(C.contentDocument.title=P))}else g.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);V==null||V(),g.handleRemoveIframe()}else g.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},g.triggerPrint=function(C){var O=g.props,V=O.onBeforePrint,S=O.onPrintError;if(V){var _=V();_&&typeof _.then=="function"?_.then(function(){g.startPrint(C)}).catch(function(E){S&&S("onBeforePrint",E)}):g.startPrint(C)}else g.startPrint(C)},g.handlePrint=function(C){var O=g.props,V=O.bodyClass,S=O.content,_=O.copyStyles,E=O.fonts,b=O.pageStyle,k=O.nonce,P=typeof C=="function"?C():null;if(P&&typeof S=="function"&&g.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),P||typeof S!="function"||(P=S()),P!==void 0)if(P!==null){var I=document.createElement("iframe");I.width="".concat(document.documentElement.clientWidth,"px"),I.height="".concat(document.documentElement.clientHeight,"px"),I.style.position="absolute",I.style.top="-".concat(document.documentElement.clientHeight+100,"px"),I.style.left="-".concat(document.documentElement.clientWidth+100,"px"),I.id="printWindow",I.srcdoc="<!DOCTYPE html>";var X=(0,T.findDOMNode)(P);if(X){var te=X.cloneNode(!0),ve=te instanceof Text,Ae=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),K=ve?[]:te.querySelectorAll("img"),q=ve?[]:te.querySelectorAll("video"),U=E?E.length:0;g.numResourcesToLoad=Ae.length+K.length+q.length+U,g.resourcesLoaded=[],g.resourcesErrored=[];var Z=function(G,ee){g.resourcesLoaded.includes(G)?g.logMessages(["Tried to mark a resource that has already been handled",G],"debug"):(ee?(g.logMessages(p.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],p.__read(ee),!1)),g.resourcesErrored.push(G)):g.resourcesLoaded.push(G),g.resourcesLoaded.length+g.resourcesErrored.length===g.numResourcesToLoad&&g.triggerPrint(I))};I.onload=function(){var G,ee,ue,ge;I.onload=null;var ce=I.contentDocument||((ee=I.contentWindow)===null||ee===void 0?void 0:ee.document);if(ce){ce.body.appendChild(te),E&&(!((ue=I.contentDocument)===null||ue===void 0)&&ue.fonts&&(!((ge=I.contentWindow)===null||ge===void 0)&&ge.FontFace)?E.forEach(function(ut){var Se=new FontFace(ut.family,ut.source,{weight:ut.weight,style:ut.style});I.contentDocument.fonts.add(Se),Se.loaded.then(function(){Z(Se)}).catch(function(Le){Z(Se,["Failed loading the font:",Se,"Load error:",Le])})}):(E.forEach(function(ut){return Z(ut)}),g.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var re=typeof b=="function"?b():b;if(typeof re!="string")g.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof re,'". Styles from `pageStyle` will not be applied.')]);else{var Ye=ce.createElement("style");k&&(Ye.setAttribute("nonce",k),ce.head.setAttribute("nonce",k)),Ye.appendChild(ce.createTextNode(re)),ce.head.appendChild(Ye)}if(V&&(G=ce.body.classList).add.apply(G,p.__spreadArray([],p.__read(V.split(" ")),!1)),!ve){for(var M=ve?[]:X.querySelectorAll("canvas"),D=ce.querySelectorAll("canvas"),L=0;L<M.length;++L){var F=M[L],$=D[L].getContext("2d");$&&$.drawImage(F,0,0)}var ne=function(ut){var Se=K[ut],Le=Se.getAttribute("src");if(Le){var Bt=new Image;Bt.onload=function(){return Z(Se)},Bt.onerror=function(Qt,ar,Jr,Ot,Tt){return Z(Se,["Error loading <img>",Se,"Error",Tt])},Bt.src=Le}else Z(Se,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',Se])};for(L=0;L<K.length;L++)ne(L);var Y=function(ut){var Se=q[ut];Se.preload="auto";var Le=Se.getAttribute("poster");if(Le){var Bt=new Image;Bt.onload=function(){return Z(Se)},Bt.onerror=function(Qt,ar,Jr,Ot,Tt){return Z(Se,["Error loading video poster",Le,"for video",Se,"Error:",Tt])},Bt.src=Le}else Se.readyState>=2?Z(Se):(Se.onloadeddata=function(){return Z(Se)},Se.onerror=function(Qt,ar,Jr,Ot,Tt){return Z(Se,["Error loading video",Se,"Error",Tt])},Se.onstalled=function(){return Z(Se,["Loading video stalled, skipping",Se])})};for(L=0;L<q.length;L++)Y(L);var de="input",_e=X.querySelectorAll(de),ye=ce.querySelectorAll(de);for(L=0;L<_e.length;L++)ye[L].value=_e[L].value;var ae="input[type=checkbox],input[type=radio]",we=X.querySelectorAll(ae),De=ce.querySelectorAll(ae);for(L=0;L<we.length;L++)De[L].checked=we[L].checked;var ze="select",et=X.querySelectorAll(ze),Ft=ce.querySelectorAll(ze);for(L=0;L<et.length;L++)Ft[L].value=et[L].value}if(_)for(var Gt=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),Fe=function(ut,Se){var Le=Gt[ut];if(Le.tagName.toLowerCase()==="style"){var Bt=ce.createElement(Le.tagName),Qt=Le.sheet;if(Qt){var ar="";try{for(var Jr=Qt.cssRules.length,Ot=0;Ot<Jr;++Ot)typeof Qt.cssRules[Ot].cssText=="string"&&(ar+="".concat(Qt.cssRules[Ot].cssText,`\r
`))}catch{g.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Le],"warning")}Bt.setAttribute("id","react-to-print-".concat(ut)),k&&Bt.setAttribute("nonce",k),Bt.appendChild(ce.createTextNode(ar)),ce.head.appendChild(Bt)}}else if(Le.getAttribute("href"))if(Le.hasAttribute("disabled"))g.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Le],"warning"),Z(Le);else{for(var Tt=ce.createElement(Le.tagName),hc=(Ot=0,Le.attributes.length);Ot<hc;++Ot){var Zr=Le.attributes[Ot];Zr&&Tt.setAttribute(Zr.nodeName,Zr.nodeValue||"")}Tt.onload=function(){return Z(Tt)},Tt.onerror=function(Aa,fc,Vi,Pa,Fs){return Z(Tt,["Failed to load",Tt,"Error:",Fs])},k&&Tt.setAttribute("nonce",k),ce.head.appendChild(Tt)}else g.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Le],"warning"),Z(Le)},ft=(L=0,Gt.length);L<ft;++L)Fe(L)}g.numResourcesToLoad!==0&&_||g.triggerPrint(I)},g.handleRemoveIframe(!0),document.body.appendChild(I)}else g.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else g.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else g.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},g.handleRemoveIframe=function(C){var O=g.props.removeAfterPrint;if(C||O){var V=document.getElementById("printWindow");V&&document.body.removeChild(V)}},g.logMessages=function(C,O){O===void 0&&(O="error"),g.props.suppressErrors||(O==="error"?console.error(C):O==="warning"?console.warn(C):O==="debug"&&console.debug(C))},g}return p.__extends(w,y),w.prototype.handleClick=function(g,C){var O=this,V=this.props,S=V.onBeforeGetContent,_=V.onPrintError;if(S){var E=S();E&&typeof E.then=="function"?E.then(function(){return O.handlePrint(C)}).catch(function(b){_&&_("onBeforeGetContent",b)}):this.handlePrint(C)}else this.handlePrint(C)},w.prototype.render=function(){var g=this.props,C=g.children,O=g.trigger;if(O)return v.cloneElement(O(),{onClick:this.handleClick.bind(this)});if(!A.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var V={handlePrint:this.handleClick.bind(this)};return v.createElement(A.PrintContext.Provider,{value:V},C)},w.defaultProps=R.defaultProps,w}(v.Component);c.ReactToPrint=N},940:function(u,c){Object.defineProperty(c,"__esModule",{value:!0}),c.defaultProps=void 0,c.defaultProps={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1}},892:function(u,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.useReactToPrint=void 0;var p=d(316),v=d(496),T=d(428),A=d(940),R=d(860),N=Object.prototype.hasOwnProperty.call(v,"useMemo")&&Object.prototype.hasOwnProperty.call(v,"useCallback");c.useReactToPrint=function(y){if(!N)return y.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var w=v.useMemo(function(){return new T.ReactToPrint(p.__assign(p.__assign({},A.defaultProps),y))},[y]);return v.useCallback(function(g,C){return(0,R.wrapCallbackWithArgs)(w,w.handleClick,C)(g)},[w])}},860:function(u,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.wrapCallbackWithArgs=void 0;var p=d(316);c.wrapCallbackWithArgs=function(v,T){for(var A=[],R=2;R<arguments.length;R++)A[R-2]=arguments[R];return function(){for(var N=[],y=0;y<arguments.length;y++)N[y]=arguments[y];return T.apply(v,p.__spreadArray(p.__spreadArray([],p.__read(N),!1),p.__read(A),!1))}}},496:function(u){u.exports=n},190:function(u){u.exports=r},316:function(u,c,d){d.r(c),d.d(c,{__addDisposableResource:function(){return ce},__assign:function(){return T},__asyncDelegator:function(){return Ae},__asyncGenerator:function(){return ve},__asyncValues:function(){return K},__await:function(){return te},__awaiter:function(){return V},__classPrivateFieldGet:function(){return ee},__classPrivateFieldIn:function(){return ge},__classPrivateFieldSet:function(){return ue},__createBinding:function(){return _},__decorate:function(){return R},__disposeResources:function(){return Ye},__esDecorate:function(){return y},__exportStar:function(){return E},__extends:function(){return v},__generator:function(){return S},__importDefault:function(){return G},__importStar:function(){return Z},__makeTemplateObject:function(){return q},__metadata:function(){return O},__param:function(){return N},__propKey:function(){return g},__read:function(){return k},__rest:function(){return A},__runInitializers:function(){return w},__setFunctionName:function(){return C},__spread:function(){return P},__spreadArray:function(){return X},__spreadArrays:function(){return I},__values:function(){return b}});var p=function(M,D){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,F){L.__proto__=F}||function(L,F){for(var $ in F)Object.prototype.hasOwnProperty.call(F,$)&&(L[$]=F[$])},p(M,D)};function v(M,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function L(){this.constructor=M}p(M,D),M.prototype=D===null?Object.create(D):(L.prototype=D.prototype,new L)}var T=function(){return T=Object.assign||function(M){for(var D,L=1,F=arguments.length;L<F;L++)for(var $ in D=arguments[L])Object.prototype.hasOwnProperty.call(D,$)&&(M[$]=D[$]);return M},T.apply(this,arguments)};function A(M,D){var L={};for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&D.indexOf(F)<0&&(L[F]=M[F]);if(M!=null&&typeof Object.getOwnPropertySymbols=="function"){var $=0;for(F=Object.getOwnPropertySymbols(M);$<F.length;$++)D.indexOf(F[$])<0&&Object.prototype.propertyIsEnumerable.call(M,F[$])&&(L[F[$]]=M[F[$]])}return L}function R(M,D,L,F){var $,ne=arguments.length,Y=ne<3?D:F===null?F=Object.getOwnPropertyDescriptor(D,L):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(M,D,L,F);else for(var de=M.length-1;de>=0;de--)($=M[de])&&(Y=(ne<3?$(Y):ne>3?$(D,L,Y):$(D,L))||Y);return ne>3&&Y&&Object.defineProperty(D,L,Y),Y}function N(M,D){return function(L,F){D(L,F,M)}}function y(M,D,L,F,$,ne){function Y(Fe){if(Fe!==void 0&&typeof Fe!="function")throw new TypeError("Function expected");return Fe}for(var de,_e=F.kind,ye=_e==="getter"?"get":_e==="setter"?"set":"value",ae=!D&&M?F.static?M:M.prototype:null,we=D||(ae?Object.getOwnPropertyDescriptor(ae,F.name):{}),De=!1,ze=L.length-1;ze>=0;ze--){var et={};for(var Ft in F)et[Ft]=Ft==="access"?{}:F[Ft];for(var Ft in F.access)et.access[Ft]=F.access[Ft];et.addInitializer=function(Fe){if(De)throw new TypeError("Cannot add initializers after decoration has completed");ne.push(Y(Fe||null))};var Gt=(0,L[ze])(_e==="accessor"?{get:we.get,set:we.set}:we[ye],et);if(_e==="accessor"){if(Gt===void 0)continue;if(Gt===null||typeof Gt!="object")throw new TypeError("Object expected");(de=Y(Gt.get))&&(we.get=de),(de=Y(Gt.set))&&(we.set=de),(de=Y(Gt.init))&&$.unshift(de)}else(de=Y(Gt))&&(_e==="field"?$.unshift(de):we[ye]=de)}ae&&Object.defineProperty(ae,F.name,we),De=!0}function w(M,D,L){for(var F=arguments.length>2,$=0;$<D.length;$++)L=F?D[$].call(M,L):D[$].call(M);return F?L:void 0}function g(M){return typeof M=="symbol"?M:"".concat(M)}function C(M,D,L){return typeof D=="symbol"&&(D=D.description?"[".concat(D.description,"]"):""),Object.defineProperty(M,"name",{configurable:!0,value:L?"".concat(L," ",D):D})}function O(M,D){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,D)}function V(M,D,L,F){return new(L||(L=Promise))(function($,ne){function Y(ye){try{_e(F.next(ye))}catch(ae){ne(ae)}}function de(ye){try{_e(F.throw(ye))}catch(ae){ne(ae)}}function _e(ye){var ae;ye.done?$(ye.value):(ae=ye.value,ae instanceof L?ae:new L(function(we){we(ae)})).then(Y,de)}_e((F=F.apply(M,D||[])).next())})}function S(M,D){var L,F,$,ne,Y={label:0,sent:function(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return ne={next:de(0),throw:de(1),return:de(2)},typeof Symbol=="function"&&(ne[Symbol.iterator]=function(){return this}),ne;function de(_e){return function(ye){return function(ae){if(L)throw new TypeError("Generator is already executing.");for(;ne&&(ne=0,ae[0]&&(Y=0)),Y;)try{if(L=1,F&&($=2&ae[0]?F.return:ae[0]?F.throw||(($=F.return)&&$.call(F),0):F.next)&&!($=$.call(F,ae[1])).done)return $;switch(F=0,$&&(ae=[2&ae[0],$.value]),ae[0]){case 0:case 1:$=ae;break;case 4:return Y.label++,{value:ae[1],done:!1};case 5:Y.label++,F=ae[1],ae=[0];continue;case 7:ae=Y.ops.pop(),Y.trys.pop();continue;default:if(!(($=($=Y.trys).length>0&&$[$.length-1])||ae[0]!==6&&ae[0]!==2)){Y=0;continue}if(ae[0]===3&&(!$||ae[1]>$[0]&&ae[1]<$[3])){Y.label=ae[1];break}if(ae[0]===6&&Y.label<$[1]){Y.label=$[1],$=ae;break}if($&&Y.label<$[2]){Y.label=$[2],Y.ops.push(ae);break}$[2]&&Y.ops.pop(),Y.trys.pop();continue}ae=D.call(M,Y)}catch(we){ae=[6,we],F=0}finally{L=$=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([_e,ye])}}}var _=Object.create?function(M,D,L,F){F===void 0&&(F=L);var $=Object.getOwnPropertyDescriptor(D,L);$&&!("get"in $?!D.__esModule:$.writable||$.configurable)||($={enumerable:!0,get:function(){return D[L]}}),Object.defineProperty(M,F,$)}:function(M,D,L,F){F===void 0&&(F=L),M[F]=D[L]};function E(M,D){for(var L in M)L==="default"||Object.prototype.hasOwnProperty.call(D,L)||_(D,M,L)}function b(M){var D=typeof Symbol=="function"&&Symbol.iterator,L=D&&M[D],F=0;if(L)return L.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&F>=M.length&&(M=void 0),{value:M&&M[F++],done:!M}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(M,D){var L=typeof Symbol=="function"&&M[Symbol.iterator];if(!L)return M;var F,$,ne=L.call(M),Y=[];try{for(;(D===void 0||D-- >0)&&!(F=ne.next()).done;)Y.push(F.value)}catch(de){$={error:de}}finally{try{F&&!F.done&&(L=ne.return)&&L.call(ne)}finally{if($)throw $.error}}return Y}function P(){for(var M=[],D=0;D<arguments.length;D++)M=M.concat(k(arguments[D]));return M}function I(){for(var M=0,D=0,L=arguments.length;D<L;D++)M+=arguments[D].length;var F=Array(M),$=0;for(D=0;D<L;D++)for(var ne=arguments[D],Y=0,de=ne.length;Y<de;Y++,$++)F[$]=ne[Y];return F}function X(M,D,L){if(L||arguments.length===2)for(var F,$=0,ne=D.length;$<ne;$++)!F&&$ in D||(F||(F=Array.prototype.slice.call(D,0,$)),F[$]=D[$]);return M.concat(F||Array.prototype.slice.call(D))}function te(M){return this instanceof te?(this.v=M,this):new te(M)}function ve(M,D,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F,$=L.apply(M,D||[]),ne=[];return F={},Y("next"),Y("throw"),Y("return"),F[Symbol.asyncIterator]=function(){return this},F;function Y(we){$[we]&&(F[we]=function(De){return new Promise(function(ze,et){ne.push([we,De,ze,et])>1||de(we,De)})})}function de(we,De){try{(ze=$[we](De)).value instanceof te?Promise.resolve(ze.value.v).then(_e,ye):ae(ne[0][2],ze)}catch(et){ae(ne[0][3],et)}var ze}function _e(we){de("next",we)}function ye(we){de("throw",we)}function ae(we,De){we(De),ne.shift(),ne.length&&de(ne[0][0],ne[0][1])}}function Ae(M){var D,L;return D={},F("next"),F("throw",function($){throw $}),F("return"),D[Symbol.iterator]=function(){return this},D;function F($,ne){D[$]=M[$]?function(Y){return(L=!L)?{value:te(M[$](Y)),done:!1}:ne?ne(Y):Y}:ne}}function K(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,L=M[Symbol.asyncIterator];return L?L.call(M):(M=b(M),D={},F("next"),F("throw"),F("return"),D[Symbol.asyncIterator]=function(){return this},D);function F($){D[$]=M[$]&&function(ne){return new Promise(function(Y,de){(function(_e,ye,ae,we){Promise.resolve(we).then(function(De){_e({value:De,done:ae})},ye)})(Y,de,(ne=M[$](ne)).done,ne.value)})}}}function q(M,D){return Object.defineProperty?Object.defineProperty(M,"raw",{value:D}):M.raw=D,M}var U=Object.create?function(M,D){Object.defineProperty(M,"default",{enumerable:!0,value:D})}:function(M,D){M.default=D};function Z(M){if(M&&M.__esModule)return M;var D={};if(M!=null)for(var L in M)L!=="default"&&Object.prototype.hasOwnProperty.call(M,L)&&_(D,M,L);return U(D,M),D}function G(M){return M&&M.__esModule?M:{default:M}}function ee(M,D,L,F){if(L==="a"&&!F)throw new TypeError("Private accessor was defined without a getter");if(typeof D=="function"?M!==D||!F:!D.has(M))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?F:L==="a"?F.call(M):F?F.value:D.get(M)}function ue(M,D,L,F,$){if(F==="m")throw new TypeError("Private method is not writable");if(F==="a"&&!$)throw new TypeError("Private accessor was defined without a setter");if(typeof D=="function"?M!==D||!$:!D.has(M))throw new TypeError("Cannot write private member to an object whose class did not declare it");return F==="a"?$.call(M,L):$?$.value=L:D.set(M,L),L}function ge(M,D){if(D===null||typeof D!="object"&&typeof D!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof M=="function"?D===M:M.has(D)}function ce(M,D,L){if(D!=null){if(typeof D!="object"&&typeof D!="function")throw new TypeError("Object expected.");var F;if(L){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");F=D[Symbol.asyncDispose]}if(F===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");F=D[Symbol.dispose]}if(typeof F!="function")throw new TypeError("Object not disposable.");M.stack.push({value:D,dispose:F,async:L})}else L&&M.stack.push({async:!0});return D}var re=typeof SuppressedError=="function"?SuppressedError:function(M,D,L){var F=new Error(L);return F.name="SuppressedError",F.error=M,F.suppressed=D,F};function Ye(M){function D(L){M.error=M.hasError?new re(L,M.error,"An error was suppressed during disposal."):L,M.hasError=!0}return function L(){for(;M.stack.length;){var F=M.stack.pop();try{var $=F.dispose&&F.dispose.call(F.value);if(F.async)return Promise.resolve($).then(L,function(ne){return D(ne),L()})}catch(ne){D(ne)}}if(M.hasError)throw M.error}()}c.default={__extends:v,__assign:T,__rest:A,__decorate:R,__param:N,__metadata:O,__awaiter:V,__generator:S,__createBinding:_,__exportStar:E,__values:b,__read:k,__spread:P,__spreadArrays:I,__spreadArray:X,__await:te,__asyncGenerator:ve,__asyncDelegator:Ae,__asyncValues:K,__makeTemplateObject:q,__importStar:Z,__importDefault:G,__classPrivateFieldGet:ee,__classPrivateFieldSet:ue,__classPrivateFieldIn:ge,__addDisposableResource:ce,__disposeResources:Ye}}},s={};function o(u){var c=s[u];if(c!==void 0)return c.exports;var d=s[u]={exports:{}};return i[u](d,d.exports,o),d.exports}o.d=function(u,c){for(var d in c)o.o(c,d)&&!o.o(u,d)&&Object.defineProperty(u,d,{enumerable:!0,get:c[d]})},o.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)},o.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var l={};return function(){var u=l;Object.defineProperty(u,"__esModule",{value:!0}),u.useReactToPrint=u.ReactToPrint=u.PrintContextConsumer=void 0;var c=o(328);Object.defineProperty(u,"PrintContextConsumer",{enumerable:!0,get:function(){return c.PrintContextConsumer}});var d=o(428);Object.defineProperty(u,"ReactToPrint",{enumerable:!0,get:function(){return d.ReactToPrint}});var p=o(892);Object.defineProperty(u,"useReactToPrint",{enumerable:!0,get:function(){return p.useReactToPrint}});var v=o(428);u.default=v.ReactToPrint}(),l}()})})(hT);var NO=hT.exports;const OO=bu(NO),nv=()=>{const[t,e]=B.useState([]);B.useState(""),B.useState(""),B.useState(""),B.useState(""),B.useState(""),B.useState(""),B.useState(""),B.useState(""),B.useState(""),B.useState(""),B.useState(""),B.useState("");const[n,r]=B.useState(!1),[i,s]=B.useState([]),[o,l]=B.useState(0);B.useState("");const u=100,c=B.useRef(),d=C=>{const O={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return C.toLocaleString("es-ES",O)},p=async()=>{r(!0);const C=await YE();e(C),s(C),r(!1)};B.useEffect(()=>{p()},[]);const v=()=>{let C=XLSX.utils.book_new();var O=[];i.map(_=>{O.push({nombre:_.nombre,descripcion:_.descripcion,codigo:_.codigo,modelo:_.modelo,cantidad:_.cantidad})});let V=XLSX.utils.json_to_sheet(O);var S="Reporte  "+new Date().toLocaleDateString();XLSX.utils.book_append_sheet(C,V,"Reporte"),XLSX.writeFile(C,S+".xlsx")},T=async C=>{await os({title:"Importar productos",text:"Estas seguro que deseas importar los productos?",icon:"warning",buttons:!0,dangerMode:!0})&&(r(!0),await JE(C),r(!1),os("Productos importados correctamente",{icon:"success"}),p())},A=async C=>{var O=new FileReader;O.onload=function(V){var S=V.target.result,_=XLSX.read(S,{type:"binary"});_.SheetNames.forEach(function(E){var b=XLSX.utils.sheet_to_row_object_array(_.Sheets[E]),k=JSON.stringify(b);T(JSON.parse(k)),document.getElementById("importar").value=""})},O.onerror=function(V){console.log(V)},O.readAsBinaryString(C)},R=({selected:C})=>{l(C)},N=o*u,y=Math.ceil(i.length/u),w=C=>{const O=C.toLowerCase(),V=t.filter(S=>S.nombre.toLowerCase().includes(O)||S.codigo.toLowerCase().includes(O)||S.cantidad.toString().includes(O)||S.descripcion.toLowerCase().includes(O));s(V)},g=Fh.forwardRef((C,O)=>f.jsxs("div",{ref:O,children:[f.jsx("br",{}),f.jsx("img",{src:"src/assets/images/logo.png",alt:"Cormetal",width:100,radioGroup:"25",className:"d-block mx-auto rounded-circle"}),f.jsx("h1",{className:"text-center",children:"Reporte de rgistro Estudiantil"}),f.jsx("h2",{className:"text-center",children:"CEPYMA"}),f.jsxs("h3",{className:"text-center",children:["Fecha: ",new Date().toLocaleDateString()]}),f.jsx("br",{}),f.jsxs("table",{className:"table table-sm table-nowrap table-striped table-bordered ",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-end",children:"#"}),f.jsx("th",{children:"Maestro"}),f.jsx("th",{className:"text-end",children:"Seccion"}),f.jsx("th",{className:"text-end",children:"Mujeres"}),f.jsx("th",{className:"text-end",children:"Varones"}),f.jsx("th",{className:"text-end",children:"Cantidad"}),f.jsx("th",{className:"text-end",children:"Fecha"})]})}),f.jsx("tbody",{children:i.map((V,S)=>f.jsxs("tr",{children:[f.jsx("td",{className:"text-end",children:S+1}),f.jsx("td",{children:V.nombre}),f.jsx("td",{className:"text-end",children:V.descripcion}),f.jsx("td",{className:"text-end",children:V.codigo}),f.jsx("td",{className:"text-end",children:V.modelo}),f.jsx("td",{className:"text-end",children:V.cantidad}),f.jsxs("td",{className:"text-end",children:[V.fechaCreacion?d(V.fechaCreacion.toDate()):"Sin fecha"," "]})]},S))})]})]}));return f.jsxs("div",{className:"row",children:[f.jsx("div",{className:"col-3",children:f.jsxs("div",{className:"input-group mb-3",children:[f.jsx("input",{onInput:C=>w(C.target.value),type:"text",className:"form-control",placeholder:"Buscar","aria-label":"Buscar"}),f.jsx("button",{className:"btn btn-primary",onClick:p,children:f.jsx("i",{className:"fas fa-sync-alt f-18"})})]})}),f.jsx("div",{className:"page-header",children:f.jsx("div",{className:"page-block",children:f.jsx("div",{className:"row align-items-center",children:f.jsx("div",{className:"col-md-12",children:f.jsxs("ul",{className:"breadcrumb mb-0",children:[f.jsx("li",{className:"breadcrumb-item",children:f.jsx(_n,{to:"/dashboards",children:"Panel"})}),f.jsx("li",{className:"breadcrumb-item",children:f.jsx(_n,{to:"/articulos",children:"Artculos"})})]})})})})}),n&&f.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:f.jsx("div",{className:"spinner-border text-primary",role:"status",children:f.jsx("span",{className:"visually-hidden",children:"Cargando..."})})}),f.jsx("div",{className:"col-lg-12 grid-margin stretch-card",children:f.jsxs("div",{className:"card",children:[f.jsxs("div",{className:"card-header",children:[f.jsx("h4",{className:"card-title",children:"Productos"}),f.jsxs("div",{className:"card-tools",children:[f.jsx("button",{className:"btn btn-success",onClick:v,children:"Exportar a Excel"}),f.jsx("input",{type:"file",className:"form-control d-none",id:"importar",onChange:C=>A(C.target.files[0])}),f.jsx(OO,{trigger:()=>f.jsx("button",{className:"btn btn-info",children:"Imprimir lista"}),content:()=>c.current})]})]}),f.jsxs("div",{className:"card-body",children:[f.jsx("div",{className:"table-responsive",style:{maxHeight:"60vh",overflow:"auto"},children:f.jsxs("table",{className:"table table-sm table-nowrap table-striped table-bordered",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-end",children:"#"}),f.jsx("th",{children:"Maestro"}),f.jsx("th",{className:"text-end",children:"Seccion"}),f.jsx("th",{className:"text-end",children:"Mujeres"}),f.jsx("th",{className:"text-end",children:"Varones"}),f.jsx("th",{className:"text-end",children:"Fecha"}),f.jsx("th",{className:"text-end",children:"Cantidad"})]})}),f.jsx("tbody",{children:i.slice(N,N+u).map((C,O)=>f.jsxs("tr",{children:[f.jsx("td",{className:"text-end",children:O+1+N}),f.jsx("td",{children:C.nombre}),f.jsx("td",{className:"text-end",children:C.descripcion}),f.jsx("td",{className:"text-end",children:C.codigo}),f.jsx("td",{className:"text-end",children:C.modelo}),f.jsx("td",{className:"text-end",children:C.fechaCreacion?d(C.fechaCreacion.toDate()):"Sin fecha"}),f.jsx("td",{className:"text-end",children:C.cantidad})]},O))})]})}),f.jsx(dT,{previousLabel:"Anterior",nextLabel:"Siguiente",pageCount:y,onPageChange:R,containerClassName:"pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",previousLinkClassName:"page-link",nextLinkClassName:"page-link"})]})]})}),f.jsx("div",{style:{display:"none"},children:f.jsx(g,{ref:c})})]})},DO=()=>{const[t,e]=B.useState(!1),[n,r]=B.useState(!1),[i,s]=B.useState([]),[o,l]=B.useState(""),[u,c]=B.useState(null),[d,p]=B.useState(""),[v,T]=B.useState(""),[A,R]=B.useState("Administrador"),[N,y]=B.useState(""),[w,g]=B.useState(""),[C,O]=B.useState("tegucigalpa"),[V,S]=B.useState(""),[_,E]=B.useState(""),[b,k]=B.useState(""),[P,I]=B.useState(""),[X,te]=B.useState(""),[ve,Ae]=B.useState(""),[K,q]=B.useState(null),[U,Z]=B.useState(""),G={nombre:o,imagen:u,roles:A,tienda:C,email:N,password:w},ee={id:V,nombre:ve,imagen:U,roles:_,tienda:b,email:P,password:X,nuevaImagen:K},ue=async re=>{re.preventDefault(),r(!0);const Ye=await TN(ee);r(!1),Ye&&ce()},ge=async re=>{if(re.preventDefault(),w.length<6){alert("La contrasea debe tener al menos 6 caracteres");return}else r(!0),await EN(G),l(""),c(null),p(""),R("Administrador"),y(""),g(""),O("tegucigalpa"),ce(),r(!1)},ce=async()=>{e(!0);const re=await xN();s(re),e(!1)};return B.useEffect(()=>{e(!0),ce(),e(!1)},[]),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"page-header",children:f.jsx("div",{className:"page-block",children:f.jsx("div",{className:"row align-items-center",children:f.jsx("div",{className:"col-md-12",children:f.jsxs("ul",{className:"breadcrumb mb-0",children:[f.jsx("li",{className:"breadcrumb-item",children:f.jsx(_n,{to:"/dashboards",children:"Home"})}),f.jsx("li",{className:"breadcrumb-item",children:f.jsx(_n,{to:"/usuarios",children:"Usuarios"})}),f.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:"Usuarios"})]})})})})}),f.jsxs("div",{className:"row",style:{height:"80vh"},children:[f.jsx("div",{style:{position:"absolute",alignItems:"center",justifyContent:"center",top:"20%",display:"flex",zIndex:"9999"},children:f.jsx(RotatingLines,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:t})}),f.jsx("div",{className:"col-12",children:f.jsx("div",{className:"card ",children:f.jsxs("div",{className:"card-body",children:[f.jsx("div",{className:"text-end p-1 ",children:f.jsxs("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#modalnuevo",children:[f.jsx("i",{className:"ti ti-plus f-18"})," Nuevo Usuario"]})}),f.jsx("br",{}),f.jsx("div",{className:"table-responsive",children:f.jsxs("table",{className:"table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-end",children:"#"}),f.jsx("th",{children:"Nombre"}),f.jsx("th",{className:"text-end",children:"Contrasea"}),f.jsx("th",{children:"Roles"}),f.jsx("th",{className:"text-center",children:"Acciones"})]})}),f.jsx("tbody",{children:i.map((re,Ye)=>f.jsxs("tr",{children:[f.jsx("td",{className:"text-end",children:Ye+1}),f.jsx("td",{children:f.jsxs("div",{className:"row",children:[f.jsx("div",{className:"col-auto pe-0",children:f.jsx("img",{src:re.imagen,alt:"user-image",style:{width:"40px",height:"40px"}})}),f.jsxs("div",{className:"col",children:[f.jsx("h6",{className:"mb-1",children:re.nombre}),f.jsx("p",{className:"text-muted f-12 mb-0",children:re.email})]})]})}),f.jsx("td",{className:"text-end",children:re.contrasea}),f.jsxs("td",{children:[f.jsx("span",{className:" f-12",children:re.roles})," "]}),f.jsx("td",{className:"text-center",children:f.jsx("ul",{className:"list-inline me-auto mb-0",children:f.jsx("li",{className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Editar",children:f.jsx("button",{"data-bs-toggle":"modal","data-bs-target":"#modaleditar",onClick:()=>{S(re.id),Ae(re.nombre),I(re.email),te(re.contrasea),E(re.roles),k(re.tienda),T(re.imagen),Z(re.imagen)},className:"btn",children:f.jsx("i",{className:"ti ti-edit f-18"})})})})})]},re.id))})]})})]})})})]}),f.jsx("div",{className:"modal fade",id:"modaleditar","data-bs-keyboard":"false",tabIndex:-1,"aria-hidden":"true",children:f.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:f.jsxs("div",{className:"modal-content",children:[f.jsxs("div",{className:"modal-header border-0 pb-0",children:[f.jsx("h5",{className:"mb-0",children:"Editar Usuario"}),f.jsx("a",{href:"#",className:"avtar avtar-s btn-link-danger btn-pc-default","data-bs-dismiss":"modal",children:f.jsx("i",{className:"ti ti-x f-20"})})]}),f.jsx("div",{className:"modal-body",children:f.jsx("div",{className:"card",children:f.jsx("div",{className:"card-body",children:f.jsx("form",{onSubmit:ue,children:f.jsxs("div",{className:"row",children:[f.jsx("div",{style:{position:"absolute",alignItems:"center",justifyContent:"center",top:"20%",display:"flex",zIndex:"9999"},children:f.jsx(RotatingLines,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:n})}),f.jsxs("div",{className:"col-sm-12 text-center mb-3",children:[f.jsx("h4",{className:"mb-1 mt-0",style:{color:"#5b6b79"},children:"Imagen del Usuario"}),f.jsxs("div",{className:"user-upload wid-100",children:[f.jsx("img",{src:"src/assets/images/logo.png",alt:"img",className:"img-fluid"}),f.jsxs("label",{htmlFor:"uplfile",className:"img-avtar-upload",children:[f.jsx("i",{className:"ti ti-camera f-24 mb-1"}),f.jsx("span",{children:"Imagen del Usuario"})]})]})]}),f.jsxs("div",{className:"col-md-6",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Nombre"}),f.jsx("input",{type:"text",className:"form-control",placeholder:"Agregar Nombre del Usuario",required:!0,onChange:re=>Ae(re.target.value),value:ve})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Correo Electronico"}),f.jsx("input",{type:"email",className:"form-control",placeholder:"Correo Electronico",required:!0,onChange:re=>I(re.target.value),value:P})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Contrasea"}),f.jsx("input",{type:"text",className:"form-control",placeholder:"Contrasea minimo 6 caracteres",required:!0,onChange:re=>te(re.target.value),value:X})]})]}),f.jsxs("div",{className:"col-md-6",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Roles"}),f.jsxs("select",{className:"form-select",required:!0,onChange:re=>E(re.target.value),value:_,children:[f.jsx("option",{children:"Administrador"}),f.jsx("option",{children:"Vendedor"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Imagen del Usuario (Opcional)"}),f.jsxs("p",{children:[f.jsx("span",{className:"text-danger",children:"*"})," Resolusion recomendada 640*640 | Formato JPG, PNG, GIF"]}),f.jsxs("label",{className:"btn btn-outline-secondary",htmlFor:"flupld",children:[f.jsx("i",{className:"ti ti-upload me-2"})," Subir Imagen"]}),f.jsx("input",{type:"file",id:"flupld",className:"d-none",accept:"image/*",onChange:re=>{q(re.target.files[0]),T(URL.createObjectURL(re.target.files[0]))}})]}),f.jsxs("div",{className:"text-end btn-page mb-0 mt-4",children:[f.jsx("button",{className:"btn btn-outline-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),f.jsx("button",{className:"btn btn-primary",type:"submit",children:"Guardar"})]})]})]})})})})})]})})}),f.jsx("div",{className:"modal fade",id:"modalnuevo","data-bs-keyboard":"false",tabIndex:-1,"aria-hidden":"true",children:f.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:f.jsxs("div",{className:"modal-content",children:[f.jsxs("div",{className:"modal-header border-0 pb-0",children:[f.jsx("h5",{className:"mb-0",children:"Agregar nuevo Usuario"}),f.jsx("a",{href:"#",className:"avtar avtar-s btn-link-danger btn-pc-default","data-bs-dismiss":"modal",children:f.jsx("i",{className:"ti ti-x f-20"})})]}),f.jsx("div",{className:"modal-body",children:f.jsx("div",{className:"card",children:f.jsx("div",{className:"card-body",children:f.jsx("form",{onSubmit:ge,children:f.jsxs("div",{className:"row",children:[f.jsx("div",{style:{position:"absolute",alignItems:"center",justifyContent:"center",top:"20%",display:"flex",zIndex:"9999"},children:f.jsx(RotatingLines,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:n})}),d!==""?f.jsxs("div",{className:"col-sm-12 text-center mb-3",children:[f.jsx("h4",{className:"mb-1 mt-0",style:{color:"#5b6b79"},children:"Imagen del Usuario"}),f.jsxs("div",{className:"user-upload wid-100",children:[f.jsx("img",{src:d,alt:"img",className:"img-fluid"}),f.jsxs("label",{htmlFor:"uplfile",className:"img-avtar-upload",children:[f.jsx("i",{className:"ti ti-camera f-24 mb-1"}),f.jsx("span",{children:"Imagen del Usuario"})]})]})]}):"",f.jsxs("div",{className:"col-md-6",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Nombre"}),f.jsx("input",{type:"text",className:"form-control",placeholder:"Agregar Nombre del Usuario",required:!0,onChange:re=>l(re.target.value)})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Correo Electronico"}),f.jsx("input",{type:"email",className:"form-control",placeholder:"Correo Electronico",required:!0,onChange:re=>y(re.target.value)})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Contrasea"}),f.jsx("input",{type:"text",className:"form-control",placeholder:"Contrasea minimo 6 caracteres",required:!0,onChange:re=>g(re.target.value)})]})]}),f.jsxs("div",{className:"col-md-6",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Roles"}),f.jsxs("select",{className:"form-select",required:!0,onChange:re=>R(re.target.value),children:[f.jsx("option",{children:"Administrador"}),f.jsx("option",{children:"Vendedor"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Imagen del Usuario (Opcional)"}),f.jsxs("p",{children:[f.jsx("span",{className:"text-danger",children:"*"})," Resolusion recomendada 640*640 | Formato JPG, PNG, GIF"]}),f.jsxs("label",{className:"btn btn-outline-secondary",htmlFor:"flupld",children:[f.jsx("i",{className:"ti ti-upload me-2"})," Subir Imagen"]}),f.jsx("input",{type:"file",id:"flupld",className:"d-none",accept:"image/*",onChange:re=>{c(re.target.files[0]),p(URL.createObjectURL(re.target.files[0]))}})]}),f.jsxs("div",{className:"text-end btn-page mb-0 mt-4",children:[f.jsx("button",{className:"btn btn-outline-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),f.jsx("button",{className:"btn btn-primary",type:"submit",children:"Guardar"})]})]})]})})})})})]})})})]})},LO=()=>{const[t,e]=B.useState(null),[n,r]=B.useState(!1),[i,s]=B.useState(null),[o,l]=B.useState("sidebar"),u=()=>{l(o==="sidebar"?"sidebar collapsed":"sidebar")};B.useEffect(()=>{r(!0),VS(Tu,d=>{if(d){e(d);try{bN(d.uid).then(p=>{s(p)})}catch{c()}r(!1)}else e(null),r(!1)})},[t]);const c=async()=>{r(!0),Tu.signOut(),r(!1)};return f.jsx(f.Fragment,{children:n===!1?f.jsx(f.Fragment,{children:t?f.jsx(f.Fragment,{children:f.jsx(SO,{children:f.jsxs("div",{className:"wrapper",children:[f.jsx("nav",{id:"sidebar",className:o,children:f.jsxs("div",{className:"sidebar-content js-simplebar",children:[f.jsxs("a",{className:"sidebar-brand",href:"/",children:[f.jsxs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 20 20",enableBackground:"new 0 0 20 20",xmlSpace:"preserve",children:[f.jsx("path",{d:"M19.4,4.1l-9-4C10.1,0,9.9,0,9.6,0.1l-9,4C0.2,4.2,0,4.6,0,5s0.2,0.8,0.6,0.9l9,4C9.7,10,9.9,10,10,10s0.3,0,0.4-0.1l9-4C19.8,5.8,20,5.4,20,5S19.8,4.2,19.4,4.1z"}),f.jsx("path",{d:"M10,15c-0.1,0-0.3,0-0.4-0.1l-9-4c-0.5-0.2-0.7-0.8-0.5-1.3c0.2-0.5,0.8-0.7,1.3-0.5l8.6,3.8l8.6-3.8c0.5-0.2,1.1,0,1.3,0.5c0.2,0.5,0,1.1-0.5,1.3l-9,4C10.3,15,10.1,15,10,15z"}),f.jsx("path",{d:"M10,20c-0.1,0-0.3,0-0.4-0.1l-9-4c-0.5-0.2-0.7-0.8-0.5-1.3c0.2-0.5,0.8-0.7,1.3-0.5l8.6,3.8l8.6-3.8c0.5-0.2,1.1,0,1.3,0.5c0.2,0.5,0,1.1-0.5,1.3l-9,4C10.3,20,10.1,20,10,20z"})]}),f.jsx("span",{className:"align-middle me-3",children:"CEPYMA"})]}),f.jsxs("ul",{className:"sidebar-nav",children:[f.jsxs("li",{className:"sidebar-item active",children:[f.jsxs("a",{"data-bs-target":"#dashboards","data-bs-toggle":"collapse",className:"sidebar-link",children:[f.jsx("i",{className:"align-middle ti ti-menu"}),f.jsx("span",{className:"align-middle",children:"Dashboards"}),f.jsx("span",{className:"badge badge-sidebar-primary",children:"5"})]}),f.jsx("ul",{id:"dashboards",className:"sidebar-dropdown list-unstyled collapse show","data-bs-parent":"#sidebar",children:f.jsx(_n,{to:"/dashboards",className:"sidebar-link",children:f.jsxs("span",{className:"align-middle",children:[f.jsx("i",{className:"align-middle ti ti-dashboard"}),"Panel"]})})})]}),f.jsxs("li",{className:"sidebar-item",children:[f.jsxs("a",{"data-bs-target":"#ecommerce","data-bs-toggle":"collapse",className:"sidebar-link collapsed",children:[f.jsx("i",{className:"align-middle ti ti-shopping-cart"}),f.jsx("span",{className:"align-middle",children:"Registro/Asistencia"})]}),f.jsxs("ul",{id:"ecommerce",className:"sidebar-dropdown list-unstyled collapse","data-bs-parent":"#sidebar",children:[f.jsx("li",{className:"sidebar-item",children:f.jsx(_n,{to:"/registro",className:"sidebar-link",children:f.jsxs("span",{className:"align-middle",children:[f.jsx("i",{className:"align-middle ti ti-book"}),"Registro"]})})}),f.jsx("li",{className:"sidebar-item",children:f.jsx(_n,{to:"/entradas",className:"sidebar-link",children:f.jsxs("span",{className:"align-middle",children:[f.jsx("i",{className:"align-middle ti ti-arrow-up"}),"Entradas"]})})}),f.jsx("li",{className:"sidebar-item",children:f.jsx(_n,{to:"/salidas",className:"sidebar-link",children:f.jsxs("span",{className:"align-middle",children:[f.jsx("i",{className:"align-middle ti ti-arrow-down"}),"Salidas"]})})}),f.jsx(_n,{to:"/informe",className:"sidebar-link",children:f.jsxs("span",{className:"align-middle",children:[f.jsx("i",{className:"fas fa-chart-line"}),"Informe"]})})]})]}),f.jsx("li",{className:"sidebar-header",children:"Administracion"}),f.jsx("li",{className:"sidebar-item",children:f.jsxs(_n,{to:"/usuarios",className:"sidebar-link",children:[f.jsx("i",{className:"align-middle ti ti-user"}),f.jsx("span",{className:"align-middle",children:"Usuarios"})]})})]})]})}),f.jsxs("div",{className:"main",children:[f.jsxs("nav",{className:"navbar navbar-expand navbar-bg",children:[f.jsx("a",{className:"sidebar-toggle",onClick:()=>{u()},children:f.jsx("i",{className:"hamburger align-self-center"})}),f.jsx("form",{className:"d-none d-sm-inline-block",children:f.jsxs("div",{className:"input-group input-group-navbar",children:[f.jsx("input",{type:"text",className:"form-control",placeholder:"Search projects","aria-label":"Search"}),f.jsx("button",{className:"btn",type:"button",children:f.jsx("i",{className:"align-middle","data-lucide":"search"})})]})}),f.jsx("div",{className:"navbar-collapse collapse",children:f.jsxs("ul",{className:"navbar-nav navbar-align",children:[f.jsx("li",{className:"nav-item nav-theme-toggle dropdown",children:f.jsx("a",{className:"nav-icon js-theme-toggle",href:"#",children:f.jsxs("div",{className:"position-relative",children:[f.jsx("i",{className:"align-middle text-body nav-theme-toggle-light","data-lucide":"sun"}),f.jsx("i",{className:"align-middle text-body nav-theme-toggle-dark","data-lucide":"moon"})]})})}),f.jsxs("li",{className:"nav-item dropdown",children:[f.jsx("a",{className:"nav-icon dropdown-toggle d-inline-block d-sm-none",href:"#","data-bs-toggle":"dropdown",children:f.jsx("i",{className:"align-middle","data-lucide":"settings"})}),f.jsxs("a",{className:"nav-link dropdown-toggle d-none d-sm-inline-block",href:"#","data-bs-toggle":"dropdown",children:[f.jsx("img",{src:"src/assets/images/logo.png",className:"img-fluid rounded-circle me-2 mt-n2 mb-n2",alt:i==null?void 0:i.nombre,width:"60",height:"60"})," ",f.jsx("span",{children:i==null?void 0:i.nombre})]}),f.jsx("div",{className:"dropdown-menu dropdown-menu-end",children:f.jsxs("a",{className:"dropdown-item",onClick:c,children:[f.jsx("i",{className:"align-middle me-1","data-lucide":"log-out"}),"Sign out"]})})]})]})})]}),f.jsx("main",{className:"content",children:f.jsxs("div",{className:"container-fluid p-0",children:[f.jsx("div",{className:"row mb-2 mb-xl-3",children:f.jsx("div",{className:"col-auto d-none d-sm-block"})}),f.jsx(_O,{children:(i==null?void 0:i.roles)==="Administrador"?f.jsxs(f.Fragment,{children:[f.jsx(Cn,{path:"/dashboards",element:f.jsx(hd,{})}),f.jsx(Cn,{path:"/registro",element:f.jsx(fd,{})})]}):(i==null?void 0:i.roles)==="Usuario"?f.jsxs(f.Fragment,{children:[f.jsx(Cn,{path:"/dashboards",element:f.jsx(hd,{})}),f.jsx(Cn,{path:"/registro",element:f.jsx(fd,{})}),f.jsx(Cn,{path:"/`informe",element:f.jsx(nv,{})}),f.jsx(Cn,{path:"/`usuarios",element:f.jsx(DO,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Cn,{path:"/dashboards",element:f.jsx(hd,{})}),f.jsx(Cn,{path:"/registro",element:f.jsx(fd,{})}),f.jsx(Cn,{path:"/informe",element:f.jsx(nv,{})})]})})]})})]})]})})}):f.jsx(AN,{})}):f.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:f.jsx("div",{className:"spinner-border text-primary",role:"status",children:f.jsx("span",{className:"visually-hidden",children:"Loading..."})})})})};pd.createRoot(document.getElementById("root")).render(f.jsx(Fh.StrictMode,{children:f.jsx(LO,{})}));
